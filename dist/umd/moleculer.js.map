{"version":3,"file":"moleculer.js","sources":["../../src/moleculer/src/constants.js","../../src/global.js","../../src/process.js","../../src/moleculer/src/packets.js","../../src/moleculer/src/errors.js","../../src/moleculer/src/metrics/constants.js","../../src/events.js","../../src/cpu-usage.js","../../src/os.js","../../src/moleculer/src/utils.js","../../src/moleculer/src/metrics/types/base.js","../../src/moleculer/src/metrics/rates.js","../../src/moleculer/src/metrics/types/gauge.js","../../src/moleculer/src/metrics/types/counter.js","../../src/moleculer/src/metrics/types/histogram.js","../../src/moleculer/src/metrics/types/info.js","../../src/moleculer/src/metrics/types/index.js","../../src/moleculer/src/metrics/reporters/base.js","../../src/moleculer/src/metrics/reporters/console.js","../../src/no-impl.js","../../src/moleculer/src/metrics/reporters/event.js","../../src/moleculer/src/metrics/reporters/index.js","../../src/moleculer/src/cpu-usage.js","../../src/moleculer/src/metrics/commons.js","../../src/moleculer/src/metrics/registry.js","../../src/moleculer/src/metrics/index.js","../../src/moleculer/src/transit.js","../../src/moleculer/src/strategies/base.js","../../src/moleculer/src/strategies/round-robin.js","../../src/moleculer/src/strategies/random.js","../../src/moleculer/src/strategies/latency.js","../../src/moleculer/src/strategies/shard.js","../../src/moleculer/src/strategies/index.js","../../src/moleculer/src/registry/discoverers/base.js","../../src/moleculer/src/registry/discoverers/local.js","../../src/moleculer/src/registry/discoverers/index.js","../../src/moleculer/src/registry/node.js","../../src/moleculer/src/registry/node-catalog.js","../../src/moleculer/src/registry/service-item.js","../../src/moleculer/src/registry/service-catalog.js","../../src/moleculer/src/registry/endpoint-list.js","../../src/moleculer/src/registry/endpoint.js","../../src/moleculer/src/registry/endpoint-event.js","../../src/moleculer/src/registry/event-catalog.js","../../src/moleculer/src/registry/endpoint-action.js","../../src/moleculer/src/registry/action-catalog.js","../../src/moleculer/src/registry/registry.js","../../src/moleculer/src/registry/index.js","../../src/moleculer/src/loggers/base.js","../../src/moleculer/src/loggers/formatted.js","../../src/moleculer/src/loggers/console.js","../../src/moleculer/src/loggers/index.js","../../src/moleculer/src/logger-factory.js","../../src/moleculer/src/validators/base.js","../../src/moleculer/src/validators/fastest.js","../../src/moleculer/src/validators/index.js","../../src/moleculer/src/cachers/base.js","../../src/moleculer/src/lock.js","../../src/moleculer/src/cachers/memory.js","../../src/moleculer/src/cachers/memory-lru.js","../../src/moleculer/src/cachers/index.js","../../src/moleculer/src/transporters/base.js","../../src/moleculer/src/transporters/fake.js","../../src/moleculer/src/transporters/index.js","../../src/moleculer/src/serializers/base.js","../../src/moleculer/src/serializers/json.js","../../src/moleculer/src/serializers/index.js","../../src/moleculer/src/health.js","../../src/moleculer/src/middlewares/action-hook.js","../../src/moleculer/src/middlewares/bulkhead.js","../../src/moleculer/src/middlewares/context-tracker.js","../../src/moleculer/src/middlewares/circuit-breaker.js","../../src/moleculer/src/middlewares/timeout.js","../../src/moleculer/src/middlewares/retry.js","../../src/moleculer/src/middlewares/fallback.js","../../src/moleculer/src/middlewares/error-handler.js","../../src/moleculer/src/middlewares/metrics.js","../../src/moleculer/src/middlewares/tracing.js","../../src/moleculer/src/middlewares/debounce.js","../../src/moleculer/src/middlewares/throttle.js","../../src/moleculer/src/middlewares/transmit/encryption.js","../../src/zlib.js","../../src/moleculer/src/middlewares/transmit/compression.js","../../src/moleculer/src/middlewares/debugging/transit-logger.js","../../src/moleculer/src/middlewares/debugging/action-logger.js","../../src/moleculer/src/middlewares/index.js","../../src/moleculer/src/middleware.js","../../src/moleculer/src/tracing/exporters/base.js","../../src/moleculer/src/tracing/exporters/console.js","../../src/moleculer/src/tracing/exporters/event.js","../../src/moleculer/src/tracing/exporters/event-legacy.js","../../src/fetch.js","../../src/moleculer/src/tracing/exporters/zipkin.js","../../src/moleculer/src/tracing/exporters/newrelic.js","../../src/moleculer/src/tracing/exporters/index.js","../../src/moleculer/src/tracing/rate-limiter.js","../../src/moleculer/src/tracing/now.js","../../src/moleculer/src/tracing/span.js","../../src/moleculer/src/tracing/tracer.js","../../src/moleculer/src/tracing/index.js","../../src/moleculer/src/service.js","../../src/moleculer/src/context.js","../../src/moleculer/src/internals.js","../../src/moleculer/src/service-broker.js","../../src/moleculer/index.js","../../src/index.js"],"sourcesContent":["/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nmodule.exports = {\n\n\t// Circuit-breaker states\n\tCIRCUIT_CLOSE: \t\t\t\t\"close\",\n\tCIRCUIT_HALF_OPEN: \t\t\t\"half_open\",\n\tCIRCUIT_HALF_OPEN_WAIT: \t\"half_open_wait\",\n\tCIRCUIT_OPEN: \t\t\t\t\"open\"\n\n};\n","export default (typeof global !== 'undefined'\n  ? global : typeof self !== 'undefined'\n    ? self : typeof window !== 'undefined'\n      ? window : {})\n","import EventEmitter from 'eventemitter2'\nimport hrtime from 'browser-process-hrtime'\nimport global from './global'\n\nclass Process extends EventEmitter {\n  constructor () {\n    super()\n\n    this.title = 'browser'\n    this.browser = true\n    this.env = {}\n    this.argv = []\n    this.version = ''\n    this.versions = {\n      http_parser: '0.0',\n      node: '12.18.4',\n      v8: '0.0',\n      uv: '0.0',\n      zlib: '0.0',\n      ares: '0.0',\n      icu: '0.0',\n      modules: '0',\n      openssl: '0.0'\n    }\n    this.hrtime = hrtime\n    this.pid = 0\n    this.exitCode = 0\n    this.connected = true\n    this._startTime = Date.now()\n    this._errorCallback = null\n  }\n\n  exit (code) {\n    this.exitCode = code\n    this.emit('exit', [code])\n    throw new Error('process.exit() called.')\n  }\n\n  setUncaughtExceptionCaptureCallback (cb) {\n    if (this._errorCallback) {\n      window.removeEventListener('error', this._errorCallback)\n    }\n    this._errorCallback = cb\n    if (cb) {\n      window.addEventListener('error', cb)\n    }\n  }\n\n  hasUncaughtExceptionCaptureCallback () {\n    return this._errorCallback !== null\n  }\n\n  cwd () {\n    return '/'\n  }\n\n  uptime () {\n    return Math.floor((Date.now() - this._startTime) / 1000)\n  }\n\n  memoryUsage () {\n    if (!performance && !performance.memory) {\n      return {\n        rss: 0,\n        heapTotal: Number.MAX_SAFE_INTEGER,\n        heapUsed: 0,\n        external: 0\n      }\n    }\n\n    const { memory } = performance\n\n    return {\n      rss: 0,\n      heapTotal: memory.totalJSHeapSize,\n      heapUsed: memory.usedJSHeapSize,\n      external: 0\n    }\n  }\n\n  nextTick (handler, ...args) {\n    queueMicrotask(() => handler(...args))\n  }\n\n  _getActiveHandles () {\n    return []\n  }\n\n  _getActiveRequests () {\n    return []\n  }\n}\n\nconst proc = new Process()\n\n//\n// We monkey patch the current process to use our updated version.\n//\n\nconst currentProcess = (global && global.process) || process\n\nif (currentProcess) {\n  for (const prop in proc) {\n    if (typeof proc[prop] === 'function') {\n      currentProcess[prop] = proc[prop].bind(proc)\n      continue\n    }\n\n    currentProcess[prop] = proc[prop]\n  }\n}\n\nexport default proc\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n// Packet types\nconst PACKET_UNKNOWN\t\t= \"???\";\nconst PACKET_EVENT \t\t\t= \"EVENT\";\nconst PACKET_REQUEST \t\t= \"REQ\";\nconst PACKET_RESPONSE\t\t= \"RES\";\nconst PACKET_DISCOVER \t\t= \"DISCOVER\";\nconst PACKET_INFO \t\t\t= \"INFO\";\nconst PACKET_DISCONNECT \t= \"DISCONNECT\";\nconst PACKET_HEARTBEAT \t\t= \"HEARTBEAT\";\nconst PACKET_PING \t\t\t= \"PING\";\nconst PACKET_PONG \t\t\t= \"PONG\";\n\nconst PACKET_GOSSIP_REQ\t\t= \"GOSSIP_REQ\";\nconst PACKET_GOSSIP_RES\t\t= \"GOSSIP_RES\";\nconst PACKET_GOSSIP_HELLO\t= \"GOSSIP_HELLO\";\n\nconst DATATYPE_UNDEFINED = 0;\nconst DATATYPE_NULL = 1;\nconst DATATYPE_JSON = 2;\nconst DATATYPE_BUFFER = 3;\n\n/**\n * Packet for transporters\n *\n * @class Packet\n */\nclass Packet {\n\t/**\n\t * Creates an instance of Packet.\n\t *\n\t * @param {String} type\n\t * @param {String} target\n\t * @param {any} payload\n\t *\n\t * @memberof Packet\n\t */\n\tconstructor(type, target, payload) {\n\t\tthis.type = type || PACKET_UNKNOWN;\n\t\tthis.target = target;\n\t\tthis.payload = payload || {};\n\t}\n}\n\nmodule.exports = {\n\tPACKET_UNKNOWN,\n\tPACKET_EVENT,\n\tPACKET_REQUEST,\n\tPACKET_RESPONSE,\n\tPACKET_DISCOVER,\n\tPACKET_INFO,\n\tPACKET_DISCONNECT,\n\tPACKET_HEARTBEAT,\n\tPACKET_PING,\n\tPACKET_PONG,\n\tPACKET_GOSSIP_REQ,\n\tPACKET_GOSSIP_RES,\n\tPACKET_GOSSIP_HELLO,\n\n\tDATATYPE_UNDEFINED,\n\tDATATYPE_NULL,\n\tDATATYPE_JSON,\n\tDATATYPE_BUFFER,\n\n\tPacket\n};\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst ExtendableError = require(\"es6-error\");\n\n/**\n * Custom Moleculer Error class\n *\n * @class MoleculerError\n * @extends {ExtendableError}\n */\nclass MoleculerError extends ExtendableError {\n\t/**\n\t * Creates an instance of MoleculerError.\n\t *\n\t * @param {String?} message\n\t * @param {Number?} code\n\t * @param {String?} type\n\t * @param {any} data\n\t *\n\t * @memberof MoleculerError\n\t */\n\tconstructor(message, code, type, data) {\n\t\tsuper(message);\n\t\tthis.code = code || 500;\n\t\tthis.type = type;\n\t\tthis.data = data;\n\t\tthis.retryable = false;\n\t}\n}\n\n/**\n * Custom Moleculer Error class for retryable errors.\n *\n * @class MoleculerRetryableError\n * @extends {MoleculerError}\n */\nclass MoleculerRetryableError extends MoleculerError {\n\t/**\n\t * Creates an instance of MoleculerRetryableError.\n\t *\n\t * @param {String?} message\n\t * @param {Number?} code\n\t * @param {String?} type\n\t * @param {any} data\n\t *\n\t * @memberof MoleculerRetryableError\n\t */\n\tconstructor(message, code, type, data) {\n\t\tsuper(message);\n\t\tthis.code = code || 500;\n\t\tthis.type = type;\n\t\tthis.data = data;\n\t\tthis.retryable = true;\n\t}\n}\n\n/**\n * Moleculer Error class for Broker disconnections which is retryable.\n *\n * @class MoleculerServerError\n * @extends {MoleculerRetryableError}\n */\nclass BrokerDisconnectedError extends MoleculerRetryableError {\n\tconstructor() {\n\t\tsuper(\"The broker's transporter has disconnected. Please try again when a connection is reestablished.\", 502, \"BAD_GATEWAY\");\n\t\t// Stack trace is hidden because it creates a lot of logs and, in this case, won't help users find the issue\n\t\tthis.stack = \"\";\n\t}\n}\n\n/**\n * Moleculer Error class for server error which is retryable.\n *\n * @class MoleculerServerError\n * @extends {MoleculerRetryableError}\n */\nclass MoleculerServerError extends MoleculerRetryableError {\n}\n\n/**\n * Moleculer Error class for client errors which is not retryable.\n *\n * @class MoleculerClientError\n * @extends {MoleculerError}\n */\nclass MoleculerClientError extends MoleculerError {\n\t/**\n\t * Creates an instance of MoleculerClientError.\n\t *\n\t * @param {String?} message\n\t * @param {Number?} code\n\t * @param {String?} type\n\t * @param {any} data\n\t *\n\t * @memberof MoleculerClientError\n\t */\n\tconstructor(message, code, type, data) {\n\t\tsuper(message, code || 400, type, data);\n\t}\n}\n\n\n/**\n * 'Service not found' Error message\n *\n * @class ServiceNotFoundError\n * @extends {MoleculerRetryableError}\n */\nclass ServiceNotFoundError extends MoleculerRetryableError {\n\t/**\n\t * Creates an instance of ServiceNotFoundError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof ServiceNotFoundError\n\t */\n\tconstructor(data = {}) {\n\t\tlet msg;\n\t\tif (data.nodeID && data.action)\n\t\t\tmsg = `Service '${data.action}' is not found on '${data.nodeID}' node.`;\n\t\telse if (data.action)\n\t\t\tmsg = `Service '${data.action}' is not found.`;\n\n\t\tif (data.service && data.version)\n\t\t\tmsg = `Service '${data.version}.${data.service}' not found.`;\n\t\telse if (data.service)\n\t\t\tmsg = `Service '${data.service}' not found.`;\n\n\t\tsuper(msg, 404, \"SERVICE_NOT_FOUND\", data);\n\t}\n}\n\n/**\n * 'Service not available' Error message\n *\n * @class ServiceNotAvailableError\n * @extends {MoleculerRetryableError}\n */\nclass ServiceNotAvailableError extends MoleculerRetryableError {\n\t/**\n\t * Creates an instance of ServiceNotAvailableError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof ServiceNotAvailableError\n\t */\n\tconstructor(data) {\n\t\tlet msg;\n\t\tif (data.nodeID)\n\t\t\tmsg = `Service '${data.action}' is not available on '${data.nodeID}' node.`;\n\t\telse\n\t\t\tmsg = `Service '${data.action}' is not available.`;\n\n\t\tsuper(msg, 404, \"SERVICE_NOT_AVAILABLE\", data);\n\t}\n}\n\n/**\n * 'Request timed out' Error message. Retryable.\n *\n * @class RequestTimeoutError\n * @extends {MoleculerRetryableError}\n */\nclass RequestTimeoutError extends MoleculerRetryableError {\n\t/**\n\t * Creates an instance of RequestTimeoutError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof RequestTimeoutError\n\t */\n\tconstructor(data) {\n\t\tsuper(`Request is timed out when call '${data.action}' action on '${data.nodeID}' node.`, 504, \"REQUEST_TIMEOUT\", data);\n\t}\n}\n\n/**\n * 'Request skipped for timeout' Error message\n *\n * @class RequestSkippedError\n * @extends {MoleculerError}\n */\nclass RequestSkippedError extends MoleculerError {\n\t/**\n\t * Creates an instance of RequestSkippedError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof RequestSkippedError\n\t */\n\tconstructor(data) {\n\t\tsuper(`Calling '${data.action}' is skipped because timeout reached on '${data.nodeID}' node.`, 514, \"REQUEST_SKIPPED\", data);\n\t\tthis.retryable = false;\n\t}\n}\n\n/**\n * 'Request rejected' Error message. Retryable.\n *\n * @class RequestRejectedError\n * @extends {MoleculerRetryableError}\n */\nclass RequestRejectedError extends MoleculerRetryableError {\n\t/**\n\t * Creates an instance of RequestRejectedError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof RequestRejectedError\n\t */\n\tconstructor(data) {\n\t\tsuper(`Request is rejected when call '${data.action}' action on '${data.nodeID}' node.`, 503, \"REQUEST_REJECTED\", data);\n\t}\n}\n\n/**\n * 'Queue is full' error message. Retryable.\n *\n * @class QueueIsFullError\n * @extends {MoleculerRetryableError}\n */\nclass QueueIsFullError extends MoleculerRetryableError {\n\t/**\n\t * Creates an instance of QueueIsFullError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof QueueIsFullError\n\t */\n\tconstructor(data) {\n\t\tsuper(`Queue is full. Request '${data.action}' action on '${data.nodeID}' node is rejected.`, 429, \"QUEUE_FULL\", data);\n\t}\n}\n\n/**\n * 'Parameters of action call validation error\n *\n * @class ValidationError\n * @extends {MoleculerClientError}\n */\nclass ValidationError extends MoleculerClientError {\n\t/**\n\t * Creates an instance of ValidationError.\n\t *\n\t * @param {String} message\n\t * @param {String} type\n\t * @param {any} data\n\t *\n\t * @memberof ValidationError\n\t */\n\tconstructor(message, type, data) {\n\t\tsuper(message, 422, type || \"VALIDATION_ERROR\", data);\n\t}\n}\n\n/**\n * 'Max request call level!' Error message\n *\n * @class MaxCallLevelError\n * @extends {MoleculerError}\n */\nclass MaxCallLevelError extends MoleculerError {\n\t/**\n\t * Creates an instance of MaxCallLevelError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof MaxCallLevelError\n\t */\n\tconstructor(data) {\n\t\tsuper(`Request level is reached the limit (${data.level}) on '${data.nodeID}' node.`, 500, \"MAX_CALL_LEVEL\", data);\n\t\tthis.retryable = false;\n\t}\n}\n\n/**\n * Custom Moleculer Error class for Service schema errors\n *\n * @class ServiceSchemaError\n * @extends {Error}\n */\nclass ServiceSchemaError extends MoleculerError {\n\t/**\n\t * Creates an instance of ServiceSchemaError.\n\t *\n\t * @param {String} msg\n\t * @param {Object} data\n\t * @memberof ServiceSchemaError\n\t */\n\tconstructor(msg, data) {\n\t\tsuper(msg, 500, \"SERVICE_SCHEMA_ERROR\", data);\n\t}\n}\n\n/**\n * Custom Moleculer Error class for broker option errors\n *\n * @class BrokerOptionsError\n * @extends {Error}\n */\nclass BrokerOptionsError extends MoleculerError {\n\t/**\n\t * Creates an instance of BrokerOptionsError.\n\t *\n\t * @param {String} msg\n\t * @param {Object} data\n\t * @memberof BrokerOptionsError\n\t */\n\tconstructor(msg, data) {\n\t\tsuper(msg, 500, \"BROKER_OPTIONS_ERROR\", data);\n\t}\n}\n\n/**\n * Custom Moleculer Error class for Graceful stopping\n *\n * @class GracefulStopTimeoutError\n * @extends {Error}\n */\nclass GracefulStopTimeoutError extends MoleculerError {\n\t/**\n\t * Creates an instance of GracefulStopTimeoutError.\n\t *\n\t * @param {Object?} data\n\t * @memberof GracefulStopTimeoutError\n\t */\n\tconstructor(data) {\n\t\tif (data && data.service)  {\n\t\t\tsuper(`Unable to stop '${data.service.name}' service gracefully.`, 500, \"GRACEFUL_STOP_TIMEOUT\", data && data.service ? {\n\t\t\t\tname: data.service.name,\n\t\t\t\tversion: data.service.version\n\t\t\t} : null);\n\t\t} else {\n\t\t\tsuper(\"Unable to stop ServiceBroker gracefully.\", 500, \"GRACEFUL_STOP_TIMEOUT\");\n\t\t}\n\t}\n}\n\n/**\n * Protocol version is mismatch\n *\n * @class ProtocolVersionMismatchError\n * @extends {Error}\n */\nclass ProtocolVersionMismatchError extends MoleculerError {\n\t/**\n\t * Creates an instance of ProtocolVersionMismatchError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof ProtocolVersionMismatchError\n\t */\n\tconstructor(data) {\n\t\tsuper(\"Protocol version mismatch.\", 500, \"PROTOCOL_VERSION_MISMATCH\", data);\n\t}\n}\n\n/**\n * Invalid packet format error\n *\n * @class InvalidPacketDataError\n * @extends {Error}\n */\nclass InvalidPacketDataError extends MoleculerError {\n\t/**\n\t * Creates an instance of InvalidPacketDataError.\n\t *\n\t * @param {Object} data\n\t *\n\t * @memberof InvalidPacketDataError\n\t */\n\tconstructor(data) {\n\t\tsuper(\"Invalid packet data.\", 500, \"INVALID_PACKET_DATA\", data);\n\t}\n}\n\n/**\n * Recreate an error from a transferred payload `err`\n *\n * @param {Error} err\n * @returns {MoleculerError}\n */\nfunction recreateError(err) {\n\tconst Class = module.exports[err.name];\n\tif (Class) {\n\t\tswitch(err.name) {\n\t\t\tcase \"MoleculerError\": return new Class(err.message, err.code, err.type, err.data);\n\t\t\tcase \"MoleculerRetryableError\": return new Class(err.message, err.code, err.type, err.data);\n\t\t\tcase \"MoleculerServerError\": return new Class(err.message, err.code, err.type, err.data);\n\t\t\tcase \"MoleculerClientError\": return new Class(err.message, err.code, err.type, err.data);\n\n\t\t\tcase \"ValidationError\": return new Class(err.message, err.type, err.data);\n\n\t\t\tcase \"ServiceNotFoundError\": return new Class(err.data);\n\t\t\tcase \"ServiceNotAvailableError\": return new Class(err.data);\n\t\t\tcase \"RequestTimeoutError\": return new Class(err.data);\n\t\t\tcase \"RequestSkippedError\": return new Class(err.data);\n\t\t\tcase \"RequestRejectedError\": return new Class(err.data);\n\t\t\tcase \"QueueIsFullError\": return new Class(err.data);\n\t\t\tcase \"MaxCallLevelError\": return new Class(err.data);\n\t\t\tcase \"GracefulStopTimeoutError\": return new Class(err.data);\n\t\t\tcase \"ProtocolVersionMismatchError\": return new Class(err.data);\n\t\t\tcase \"InvalidPacketDataError\": return new Class(err.data);\n\n\t\t\tcase \"ServiceSchemaError\":\n\t\t\tcase \"BrokerOptionsError\": return new Class(err.message, err.data);\n\t\t}\n\t}\n}\n\n\nmodule.exports = {\n\tMoleculerError,\n\tMoleculerRetryableError,\n\tMoleculerServerError,\n\tMoleculerClientError,\n\n\tServiceNotFoundError,\n\tServiceNotAvailableError,\n\n\tValidationError,\n\tRequestTimeoutError,\n\tRequestSkippedError,\n\tRequestRejectedError,\n\tQueueIsFullError,\n\tMaxCallLevelError,\n\n\tServiceSchemaError,\n\tBrokerOptionsError,\n\tGracefulStopTimeoutError,\n\n\tProtocolVersionMismatchError,\n\tInvalidPacketDataError,\n\n\tBrokerDisconnectedError,\n\n\trecreateError\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nmodule.exports = {\n\n\t// --- METRIC TYPES ---\n\n\tTYPE_COUNTER:  \t\"counter\",\n\tTYPE_GAUGE:  \t\"gauge\",\n\tTYPE_HISTOGRAM: \"histogram\",\n\tTYPE_INFO:  \t\"info\",\n\n\t// --- METRICREGISTRY METRICS ---\n\n\t// MOLECULER_METRICS_COMMON_COLLECT_TOTAL: \"moleculer.metrics.common.collect.total\",\n\t// MOLECULER_METRICS_COMMON_COLLECT_TIME: \"moleculer.metrics.common.collect.time\",\n\n\t// --- PROCESS METRICS ---\n\n\tPROCESS_ARGUMENTS: \"process.arguments\",\n\n\tPROCESS_PID: \"process.pid\",\n\tPROCESS_PPID: \"process.ppid\",\n\n\tPROCESS_MEMORY_HEAP_SIZE_TOTAL: \"process.memory.heap.size.total\", // bytes\n\tPROCESS_MEMORY_HEAP_SIZE_USED: \"process.memory.heap.size.used\", // bytes\n\tPROCESS_MEMORY_RSS: \"process.memory.rss\", // bytes\n\tPROCESS_MEMORY_EXTERNAL: \"process.memory.external\", // bytes\n\n\tPROCESS_MEMORY_HEAP_SPACE_SIZE_TOTAL: \"process.memory.heap.space.size.total\", // bytes\n\tPROCESS_MEMORY_HEAP_SPACE_SIZE_USED: \"process.memory.heap.space.size.used\", // bytes\n\tPROCESS_MEMORY_HEAP_SPACE_SIZE_AVAILABLE: \"process.memory.heap.space.size.available\", // bytes\n\tPROCESS_MEMORY_HEAP_SPACE_SIZE_PHYSICAL: \"process.memory.heap.space.size.physical\", // bytes\n\n\tPROCESS_MEMORY_HEAP_STAT_HEAP_SIZE_TOTAL: \"process.memory.heap.stat.heap.size.total\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_EXECUTABLE_SIZE_TOTAL: \"process.memory.heap.stat.executable.size.total\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_PHYSICAL_SIZE_TOTAL: \"process.memory.heap.stat.physical.size.total\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_AVAILABLE_SIZE_TOTAL: \"process.memory.heap.stat.available.size.total\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_USED_HEAP_SIZE: \"process.memory.heap.stat.used.heap.size\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_HEAP_SIZE_LIMIT: \"process.memory.heap.stat.heap.size.limit\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_MALLOCATED_MEMORY: \"process.memory.heap.stat.mallocated.memory\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_PEAK_MALLOCATED_MEMORY: \"process.memory.heap.stat.peak.mallocated.memory\", // bytes\n\tPROCESS_MEMORY_HEAP_STAT_ZAP_GARBAGE: \"process.memory.heap.stat.zap.garbage\",\n\n\tPROCESS_UPTIME: \"process.uptime\", // seconds\n\tPROCESS_INTERNAL_ACTIVE_HANDLES: \"process.internal.active.handles\",\n\tPROCESS_INTERNAL_ACTIVE_REQUESTS: \"process.internal.active.requests\",\n\n\tPROCESS_VERSIONS_NODE: \"process.versions.node\",\n\n\t// --- EVENT LOOP METRICS ---\n\n\tPROCESS_EVENTLOOP_LAG_MIN: \"process.eventloop.lag.min\", // msec\n\tPROCESS_EVENTLOOP_LAG_AVG: \"process.eventloop.lag.avg\", // msec\n\tPROCESS_EVENTLOOP_LAG_MAX: \"process.eventloop.lag.max\", // msec\n\tPROCESS_EVENTLOOP_LAG_COUNT: \"process.eventloop.lag.count\",\n\n\t// --- GARBAGE COLLECTOR METRICS ---\n\n\tPROCESS_GC_TIME: \"process.gc.time\", // nanoseconds\n\tPROCESS_GC_TOTAL_TIME: \"process.gc.total.time\", // milliseconds\n\tPROCESS_GC_EXECUTED_TOTAL: \"process.gc.executed.total\",\n\n\t// --- OS METRICS ---\n\n\tOS_MEMORY_FREE: \"os.memory.free\", // bytes\n\tOS_MEMORY_USED: \"os.memory.used\", // bytes\n\tOS_MEMORY_TOTAL: \"os.memory.total\", // bytes\n\tOS_UPTIME: \"os.uptime\", // seconds\n\tOS_TYPE: \"os.type\",\n\tOS_RELEASE: \"os.release\",\n\tOS_HOSTNAME: \"os.hostname\",\n\tOS_ARCH: \"os.arch\",\n\tOS_PLATFORM: \"os.platform\",\n\tOS_USER_UID: \"os.user.uid\",\n\tOS_USER_GID: \"os.user.gid\",\n\tOS_USER_USERNAME: \"os.user.username\",\n\tOS_USER_HOMEDIR: \"os.user.homedir\",\n\n\tOS_DATETIME_UNIX: \"os.datetime.unix\",\n\tOS_DATETIME_ISO: \"os.datetime.iso\",\n\tOS_DATETIME_UTC: \"os.datetime.utc\",\n\tOS_DATETIME_TZ_OFFSET: \"os.datetime.tz.offset\",\n\n\tOS_NETWORK_ADDRESS: \"os.network.address\",\n\tOS_NETWORK_MAC: \"os.network.mac\",\n\n\tOS_CPU_LOAD_1: \"os.cpu.load.1\",\n\tOS_CPU_LOAD_5: \"os.cpu.load.5\",\n\tOS_CPU_LOAD_15: \"os.cpu.load.15\",\n\tOS_CPU_UTILIZATION: \"os.cpu.utilization\",\n\n\tOS_CPU_USER: \"os.cpu.user\", // seconds\n\tOS_CPU_SYSTEM: \"os.cpu.system\", // seconds\n\n\tOS_CPU_TOTAL: \"os.cpu.total\",\n\tOS_CPU_INFO_MODEL: \"os.cpu.info.model\",\n\tOS_CPU_INFO_SPEED: \"os.cpu.info.speed\",\n\tOS_CPU_INFO_TIMES_USER: \"os.cpu.info.times.user\",\n\tOS_CPU_INFO_TIMES_SYS: \"os.cpu.info.times.sys\",\n\n\t// --- MOLECULER NODE METRICS ---\n\n\tMOLECULER_NODE_TYPE: \"moleculer.node.type\",\n\tMOLECULER_NODE_VERSIONS_MOLECULER: \"moleculer.node.versions.moleculer\",\n\tMOLECULER_NODE_VERSIONS_LANG: \"moleculer.node.versions.lang\",\n\tMOLECULER_NODE_VERSIONS_PROTOCOL: \"moleculer.node.versions.protocol\",\n\n\t// --- MOLECULER BROKER METRICS ---\n\n\tMOLECULER_BROKER_NAMESPACE: \"moleculer.broker.namespace\",\n\tMOLECULER_BROKER_STARTED: \"moleculer.broker.started\",\n\tMOLECULER_BROKER_LOCAL_SERVICES_TOTAL: \"moleculer.broker.local.services.total\",\n\tMOLECULER_BROKER_MIDDLEWARES_TOTAL: \"moleculer.broker.middlewares.total\",\n\n\t// --- MOLECULER REGISTRY METRICS ---\n\n\tMOLECULER_REGISTRY_NODES_TOTAL: \"moleculer.registry.nodes.total\",\n\tMOLECULER_REGISTRY_NODES_ONLINE_TOTAL: \"moleculer.registry.nodes.online.total\",\n\tMOLECULER_REGISTRY_SERVICES_TOTAL: \"moleculer.registry.services.total\",\n\tMOLECULER_REGISTRY_SERVICE_ENDPOINTS_TOTAL: \"moleculer.registry.service.endpoints.total\",\n\tMOLECULER_REGISTRY_ACTIONS_TOTAL: \"moleculer.registry.actions.total\",\n\tMOLECULER_REGISTRY_ACTION_ENDPOINTS_TOTAL: \"moleculer.registry.action.endpoints.total\",\n\tMOLECULER_REGISTRY_EVENTS_TOTAL: \"moleculer.registry.events.total\",\n\tMOLECULER_REGISTRY_EVENT_ENDPOINTS_TOTAL: \"moleculer.registry.event.endpoints.total\",\n\n\t// --- MOLECULER REQUEST METRICS ---\n\n\tMOLECULER_REQUEST_TOTAL: \"moleculer.request.total\",\n\tMOLECULER_REQUEST_ACTIVE: \"moleculer.request.active\",\n\tMOLECULER_REQUEST_ERROR_TOTAL: \"moleculer.request.error.total\",\n\tMOLECULER_REQUEST_TIME: \"moleculer.request.time\", //msec\n\tMOLECULER_REQUEST_LEVELS: \"moleculer.request.levels\",\n\t//MOLECULER_REQUEST_DIRECTCALL_TOTAL: \"moleculer.request.directcall.total\",\n\t//MOLECULER_REQUEST_MULTICALL_TOTAL: \"moleculer.request.multicall.total\",\n\n\t// --- MOLECULER EVENTS METRICS ---\n\n\tMOLECULER_EVENT_EMIT_TOTAL: \"moleculer.event.emit.total\",\n\tMOLECULER_EVENT_BROADCAST_TOTAL: \"moleculer.event.broadcast.total\",\n\tMOLECULER_EVENT_BROADCASTLOCAL_TOTAL: \"moleculer.event.broadcast-local.total\",\n\tMOLECULER_EVENT_RECEIVED_TOTAL: \"moleculer.event.received.total\",\n\tMOLECULER_EVENT_RECEIVED_ACTIVE: \"moleculer.event.received.active\",\n\tMOLECULER_EVENT_RECEIVED_ERROR_TOTAL: \"moleculer.event.received.error.total\",\n\tMOLECULER_EVENT_RECEIVED_TIME: \"moleculer.event.received.time\", //msec\n\n\t// --- MOLECULER TRANSIT METRICS ---\n\n\tMOLECULER_TRANSIT_PUBLISH_TOTAL: \"moleculer.transit.publish.total\",\n\tMOLECULER_TRANSIT_RECEIVE_TOTAL: \"moleculer.transit.receive.total\",\n\n\tMOLECULER_TRANSIT_REQUESTS_ACTIVE: \"moleculer.transit.requests.active\",\n\tMOLECULER_TRANSIT_STREAMS_SEND_ACTIVE: \"moleculer.transit.streams.send.active\",\n\t//MOLECULER_TRANSIT_STREAMS_RECEIVE_ACTIVE: \"moleculer.transit.streams.receive.active\",\n\tMOLECULER_TRANSIT_READY: \"moleculer.transit.ready\", // true/false\n\tMOLECULER_TRANSIT_CONNECTED: \"moleculer.transit.connected\", // true/false\n\n\tMOLECULER_TRANSIT_PONG_TIME: \"moleculer.transit.pong.time\", // true/false\n\tMOLECULER_TRANSIT_PONG_SYSTIME_DIFF: \"moleculer.transit.pong.systime-diff\", // true/false\n\n\tMOLECULER_TRANSIT_ORPHAN_RESPONSE_TOTAL: \"moleculer.transit.orphan.response.total\",\n\n\t// --- MOLECULER TRANSPORTER METRICS ---\n\n\tMOLECULER_TRANSPORTER_PACKETS_SENT_TOTAL: \"moleculer.transporter.packets.sent.total\",\n\tMOLECULER_TRANSPORTER_PACKETS_SENT_BYTES: \"moleculer.transporter.packets.sent.bytes\", // bytes\n\tMOLECULER_TRANSPORTER_PACKETS_RECEIVED_TOTAL: \"moleculer.transporter.packets.received.total\",\n\tMOLECULER_TRANSPORTER_PACKETS_RECEIVED_BYTES: \"moleculer.transporter.packets.received.bytes\", // bytes\n\n\t// --- MOLECULER CIRCUIT BREAKER METRICS ---\n\n\tMOLECULER_CIRCUIT_BREAKER_OPENED_ACTIVE: \"moleculer.circuit-breaker.opened.active\",\n\tMOLECULER_CIRCUIT_BREAKER_OPENED_TOTAL: \"moleculer.circuit-breaker.opened.total\",\n\tMOLECULER_CIRCUIT_BREAKER_HALF_OPENED_ACTIVE: \"moleculer.circuit-breaker.half-opened.active\",\n\n\t// --- MOLECULER FALLBACK METRICS ---\n\n\tMOLECULER_REQUEST_FALLBACK_TOTAL: \"moleculer.request.fallback.total\",\n\n\t// --- MOLECULER BULKHEAD METRICS ---\n\n\tMOLECULER_REQUEST_BULKHEAD_INFLIGHT: \"moleculer.request.bulkhead.inflight\",\n\tMOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE: \"moleculer.request.bulkhead.queue.size\",\n\n\tMOLECULER_EVENT_BULKHEAD_INFLIGHT: \"moleculer.event.bulkhead.inflight\",\n\tMOLECULER_EVENT_BULKHEAD_QUEUE_SIZE: \"moleculer.event.bulkhead.queue.size\",\n\n\t// --- MOLECULER RETRY METRICS ---\n\n\tMOLECULER_REQUEST_RETRY_ATTEMPTS_TOTAL: \"moleculer.request.retry.attempts.total\",\n\n\t// --- MOLECULER TIMEOUT METRICS ---\n\n\tMOLECULER_REQUEST_TIMEOUT_TOTAL: \"moleculer.request.timeout.total\",\n\n\t// --- MOLECULER CACHER METRICS ---\n\n\tMOLECULER_CACHER_GET_TOTAL: \"moleculer.cacher.get.total\",\n\tMOLECULER_CACHER_GET_TIME: \"moleculer.cacher.get.time\",\n\tMOLECULER_CACHER_FOUND_TOTAL: \"moleculer.cacher.found.total\",\n\tMOLECULER_CACHER_SET_TOTAL: \"moleculer.cacher.set.total\",\n\tMOLECULER_CACHER_SET_TIME: \"moleculer.cacher.set.time\",\n\tMOLECULER_CACHER_DEL_TOTAL: \"moleculer.cacher.del.total\",\n\tMOLECULER_CACHER_DEL_TIME: \"moleculer.cacher.del.time\",\n\tMOLECULER_CACHER_CLEAN_TOTAL: \"moleculer.cacher.clean.total\",\n\tMOLECULER_CACHER_CLEAN_TIME: \"moleculer.cacher.clean.time\",\n\tMOLECULER_CACHER_EXPIRED_TOTAL: \"moleculer.cacher.expired.total\",\n\n\tMOLECULER_DISCOVERER_REDIS_COLLECT_TOTAL: \"moleculer.discoverer.redis.collect.total\",\n\tMOLECULER_DISCOVERER_REDIS_COLLECT_TIME: \"moleculer.discoverer.redis.collect.time\",\n\n\tMOLECULER_DISCOVERER_ETCD_COLLECT_TOTAL: \"moleculer.discoverer.etcd.collect.total\",\n\tMOLECULER_DISCOVERER_ETCD_COLLECT_TIME: \"moleculer.discoverer.etcd.collect.time\",\n\n\t// --- COMMON UNITS ---\n\t// Inspired by https://docs.datadoghq.com/developers/metrics/#units\n\n\t// Bytes\n\tUNIT_BIT: \"bit\",\n\tUNIT_BYTE: \"byte\",\n\tUNIT_KILOBYTES: \"kilobyte\",\n\tUNIT_MEGABYTE: \"megabyte\",\n\tUNIT_GIGABYTE: \"gigabyte\",\n\tUNIT_TERRABYTE: \"terrabyte\",\n\tUNIT_PETABYTE: \"petabyte\",\n\tUNIT_EXOBYTE: \"exabyte\",\n\n\t// Time\n\tUNIT_NANOSECONDS: \"nanosecond\",\n\tUNIT_MICROSECONDS: \"microsecond\",\n\tUNIT_MILLISECONDS: \"millisecond\",\n\tUNIT_SECONDS: \"second\",\n\tUNIT_MINUTE: \"minute\",\n\tUNIT_HOUR: \"hour\",\n\tUNIT_DAY: \"day\",\n\tUNIT_WEEK: \"week\",\n\tUNIT_MONTH: \"month\",\n\tUNIT_YEAR: \"year\",\n\n\t// Process\n\tUNIT_HANDLE: \"handle\",\n\tUNIT_CPU: \"cpu\",\n\tUNIT_GHZ: \"GHz\",\n\n\t// Network\n\tUNIT_REQUEST: \"request\",\n\tUNIT_CONNECTION: \"connection\",\n\tUNIT_PACKET: \"packet\",\n\tUNIT_MESSAGE: \"message\",\n\tUNIT_STREAM: \"stream\",\n\tUNIT_EVENT: \"event\",\n};\n","import EE from 'eventemitter2'\n\nexport const EventEmitter = EE\n\nexport default EE\n","import { EventEmitter } from 'events'\nimport cpus from 'cpus'\n\nclass RafPerf extends EventEmitter {\n  constructor (options) {\n    super()\n\n    this.options = { ...RafPerf.defaultOptions, ...options }\n\n    this.reset()\n\n    this.tick = this.tick.bind(this)\n    this.onVisibilityChange = this.onVisibilityChange.bind(this)\n  }\n\n  reset () {\n    this.isVisible = true\n    this.running = false\n    this.prevTime = null\n    this.startTime = null\n\n    this.frameDuration = RafPerf.fpsToMs(this.options.fps)\n\n    this.performance = undefined\n    this.perfSamples = []\n\n    if (this.requestID) cancelAnimationFrame(this.requestID)\n  }\n\n  start () {\n    // Check if loop is already running\n    if (this.running) return\n\n    // Set running state and initial time\n    this.running = true\n    this.prevTime = RafPerf.now()\n    this.startTime = this.prevTime\n    this.perfStartTime = this.prevTime\n\n    // Add visibility listener\n    document.addEventListener(\n      'visibilitychange',\n      this.onVisibilityChange,\n      false\n    )\n\n    // Start ticking\n    this.requestID = requestAnimationFrame(this.tick)\n  }\n\n  tick () {\n    // Ensure loop is running\n    if (!this.running || !this.isVisible) return\n\n    const { performances } = this.options\n\n    // Compute delta time since previous time\n    const time = RafPerf.now()\n    const deltaTime = time - this.prevTime\n\n    // Compute delta since previous frame\n    const frameDeltaTime = time - this.startTime\n\n    // Check elapsed time is more than desired frame duration\n    if (deltaTime > this.frameDuration) {\n      if (performances.enabled) {\n        // Push delta time for average computation\n        this.perfSamples.push(frameDeltaTime)\n\n        // Check if enough time has passed to sample or number of samples collected is enough\n        const perfNeedsUpdates =\n          (performances.sampleDuration &&\n            time - this.perfStartTime > performances.sampleDuration) ||\n          this.perfSamples.length > performances.samplesCount\n\n        if (perfNeedsUpdates) {\n          // Check average and update performance ratio\n          const averageDeltaTime =\n            this.perfSamples.reduce((time, sum) => time + sum) /\n            this.perfSamples.length\n          this.performance = this.frameDuration / averageDeltaTime\n          this.emit('perf', this.performance)\n\n          // Reset performances variables\n          this.perfSamples = []\n          this.perfStartTime = time\n        }\n      }\n\n      // Update prev and start time\n      // Compensate for gap between delta time and x number of frames\n      this.prevTime = time - (deltaTime % this.frameDuration)\n      this.startTime = time\n\n      // Call user callback function with delta time\n      this.emit('tick', frameDeltaTime)\n    }\n\n    this.requestID = requestAnimationFrame(this.tick)\n  }\n\n  stop () {\n    document.removeEventListener(\n      'visibilitychange',\n      this.onVisibilityChange,\n      false\n    )\n\n    this.reset()\n  }\n\n  onVisibilityChange () {\n    this.isVisible = !document.hidden\n\n    if (this.isVisible) {\n      this.reset()\n      this.start()\n    }\n  }\n}\n\n// Static\nRafPerf.defaultOptions = {\n  fps: 60,\n  performances: {\n    enabled: true,\n    samplesCount: 200,\n    // If everything runs smoothtly, samplesCount will be used over sampleDuration\n    // 1000 ms / 60 fps * 200 samplesCount = 3333 ms\n    sampleDuration: 4000\n  }\n}\n\nRafPerf.now = () => {\n  return (performance || Date).now()\n}\n\nRafPerf.fpsToMs = value => {\n  return (1 / value) * 1000\n}\n\n// Simulate https://nodejs.org/api/os.html#os_os_loadavg\nconst _osLoadAvg = [\n  // 1 minute\n  {\n    time: Math.floor(Date.now() / 1000),\n    init: false,\n    avg: 0\n  },\n\n  // 5 minutes\n  {\n    time: Math.floor(Date.now() / 1000),\n    avg: 0\n  },\n\n  // 15 minutes\n  {\n    time: Math.floor(Date.now() / 1000),\n    avg: 0\n  }\n]\n\nfunction updateLoadAvg (avg) {\n  const currentTime = Math.floor(Date.now() / 1000)\n  if (!_osLoadAvg[0].init || (currentTime - _osLoadAvg[0].time) > 60) {\n    _osLoadAvg[0].init = true\n    _osLoadAvg[0].time = currentTime\n    _osLoadAvg[0].avg = avg\n  }\n\n  if ((currentTime - _osLoadAvg[1].time) > 60 * 5) {\n    _osLoadAvg[1].time = currentTime\n    _osLoadAvg[1].avg = avg\n  }\n\n  if ((currentTime - _osLoadAvg[2].time) > 60 * 15) {\n    _osLoadAvg[2].time = currentTime\n    _osLoadAvg[2].avg = avg\n  }\n}\n\nfunction loadavg () {\n  return _osLoadAvg.map(value => value.avg)\n}\n\n/**\n * getCpuUsage\n *\n * Simulate cpuUsage of the browser based on the FPS performance.\n *\n * rate 1 (60fps) -> 0% usage\n * rate 0.5 (30fps) -> 50% usage\n * rate 0 (0fps) -> 100% usage\n *\n * @param {Boolean=100} sampleTime\n * @returns {Promise<Result>}\n */\nfunction getCpuUsage (sampleTime = 100) {\n  const engine = new RafPerf({\n    performances: {\n      enabled: true,\n      samplesCount: 3,\n      sampleDuration: sampleTime\n    }\n  })\n\n  return new Promise((resolve, reject) => {\n    engine.once('perf', ratio => {\n      engine.stop()\n\n      if (!ratio) {\n        return reject(new Error('CpuUsage: ratio perf not found.'))\n      }\n\n      const avg = 100 - (ratio * 100)\n      const avgByCpu = avg / cpus().length\n\n      updateLoadAvg(avg)\n\n      resolve({\n        avg,\n        usages: cpus().map(cpu => avgByCpu)\n      })\n    })\n\n    engine.start()\n  })\n}\n\ngetCpuUsage.loadavg = loadavg\n\nexport default getCpuUsage\n","/* global performance */\n\nimport cpuUsage from './cpu-usage'\n\nexport const hostname = () => {\n  if (typeof location !== 'undefined') {\n    return location.hostname\n  } else return ''\n}\n\nexport const release = () => {\n  if (typeof navigator !== 'undefined') {\n    return navigator.appVersion\n  }\n  return ''\n}\n\nexport const userInfo = () => ({\n  uid: 1000,\n  gid: 1000,\n  username: 'moleculer',\n  homedir: '/home/moleculer',\n  shell: '/bin/bash'\n})\nexport const endianness = () => 'LE'\nexport const uptime = () => Date.now()\nexport const type = () => 'Browser'\nexport const networkInterfaces = () => ({})\nexport const getNetworkInterfaces = () => ({})\nexport const arch = () => 'javascript'\nexport const platform = () => 'browser'\nexport const tmpdir = () => '/tmp'\nexport const tmpDir = () => '/tmp'\nexport const EOL = '\\n'\nexport const homedir = () => '/'\nexport { default as cpus } from 'cpus'\nexport const loadavg = cpuUsage.loadavg\nexport const totalmem = () => performance ? performance.memory.totalJSHeapSize : Number.MAX_VALUE\nexport const freemem = () => performance ? performance.memory.totalJSHeapSize - performance.memory.usedJSHeapSize : Number.MAX_VALUE\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst kleur\t\t= require(\"kleur\");\nconst os \t \t= require(\"os\");\nconst path \t \t= require(\"path\");\nconst fs \t \t= require(\"fs\");\nconst ExtendableError = require(\"es6-error\");\n\nconst lut = [];\nfor (let i=0; i<256; i++) { lut[i] = (i<16?\"0\":\"\")+(i).toString(16); }\n\nconst RegexCache = new Map();\n\nconst deprecateList = [];\n\nconst byteMultipliers = {\n\tb:  1,\n\tkb: 1 << 10,\n\tmb: 1 << 20,\n\tgb: 1 << 30,\n\ttb: Math.pow(1024, 4),\n\tpb: Math.pow(1024, 5),\n};\n// eslint-disable-next-line security/detect-unsafe-regex\nconst parseByteStringRe = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\nclass TimeoutError extends ExtendableError {}\n\n/**\n * Circular replacing of unsafe properties in object\n *\n * @param {Object=} options List of options to change circularReplacer behaviour\n * @param {number=} options.maxSafeObjectSize Maximum size of objects for safe object converting\n * @return {function(...[*]=)}\n */\nfunction circularReplacer(options = { maxSafeObjectSize: Infinity }) {\n\tconst seen = new WeakSet();\n\treturn function(key, value) {\n\t\tif (typeof value === \"object\" && value !== null) {\n\t\t\tconst objectType = value.constructor && value.constructor.name || typeof value;\n\n\t\t\tif (options.maxSafeObjectSize && \"length\" in value && value.length > options.maxSafeObjectSize) {\n\t\t\t\treturn `[${objectType} ${value.length}]`;\n\t\t\t}\n\n\t\t\tif (options.maxSafeObjectSize && \"size\" in value && value.size > options.maxSafeObjectSize) {\n\t\t\t\treturn `[${objectType} ${value.size}]`;\n\t\t\t}\n\n\t\t\tif (seen.has(value)) {\n\t\t\t\t//delete this[key];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tseen.add(value);\n\t\t}\n\t\treturn value;\n\t};\n}\n\nconst units = [\"h\", \"m\", \"s\", \"ms\", \"μs\", \"ns\"];\nconst divisors = [60 * 60 * 1000, 60 * 1000, 1000, 1, 1e-3, 1e-6];\n\nconst utils = {\n\n\tisFunction(fn) {\n\t\treturn typeof fn === \"function\";\n\t},\n\n\tisString(s) {\n\t\treturn typeof s === \"string\" || s instanceof String;\n\t},\n\n\tisObject(o) {\n\t\treturn o !== null && typeof o === \"object\" && !(o instanceof String);\n\t},\n\n\tisPlainObject(o) {\n\t\treturn o !=null ? Object.getPrototypeOf(o) === Object.prototype || Object.getPrototypeOf(o) === null : false;\n\t},\n\n\tflatten(arr) {\n\t\treturn Array.prototype.reduce.call(arr, (a, b) => a.concat(b), []);\n\t},\n\n\thumanize(milli) {\n\t\tif (milli == null) return \"?\";\n\n\t\tfor (let i = 0; i < divisors.length; i++) {\n\t\t\tconst val = milli / divisors[i];\n\t\t\tif (val >= 1.0)\n\t\t\t\treturn \"\" + Math.floor(val) + units[i];\n\t\t}\n\n\t\treturn \"now\";\n\t},\n\n\t// Fast UUID generator: e7 https://jsperf.com/uuid-generator-opt/18\n\tgenerateToken() {\n\t\tconst d0 = Math.random()*0xffffffff|0;\n\t\tconst d1 = Math.random()*0xffffffff|0;\n\t\tconst d2 = Math.random()*0xffffffff|0;\n\t\tconst d3 = Math.random()*0xffffffff|0;\n\t\treturn lut[d0&0xff]+lut[d0>>8&0xff]+lut[d0>>16&0xff]+lut[d0>>24&0xff]+\"-\"+\n\t\t\tlut[d1&0xff]+lut[d1>>8&0xff]+\"-\"+lut[d1>>16&0x0f|0x40]+lut[d1>>24&0xff]+\"-\"+\n\t\t\tlut[d2&0x3f|0x80]+lut[d2>>8&0xff]+\"-\"+lut[d2>>16&0xff]+lut[d2>>24&0xff]+\n\t\t\tlut[d3&0xff]+lut[d3>>8&0xff]+lut[d3>>16&0xff]+lut[d3>>24&0xff];\n\t},\n\n\tremoveFromArray(arr, item) {\n\t\tif (!arr || arr.length == 0) return arr;\n\t\tconst idx = arr.indexOf(item);\n\t\tif (idx !== -1)\n\t\t\tarr.splice(idx, 1);\n\n\t\treturn arr;\n\t},\n\n\t/**\n\t * Get default NodeID (computerName)\n\t *\n\t * @returns\n\t */\n\tgetNodeID() {\n\t\treturn os.hostname().toLowerCase() + \"-\" + process.pid;\n\t},\n\n\t/**\n\t * Get list of local IPs\n\t *\n\t * @returns\n\t */\n\tgetIpList() {\n\t\tconst list = [];\n\t\tconst ilist = [];\n\t\tconst interfaces = os.networkInterfaces();\n\t\tfor (let iface in interfaces) {\n\t\t\tfor (let i in interfaces[iface]) {\n\t\t\t\tconst f = interfaces[iface][i];\n\t\t\t\tif (f.family === \"IPv4\") {\n\t\t\t\t\tif (f.internal) {\n\t\t\t\t\t\tilist.push(f.address);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlist.push(f.address);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn list.length > 0 ? list : ilist;\n\t},\n\n\t/**\n\t * Check the param is a Promise instance\n\t *\n\t * @param {any} p\n\t * @returns\n\t */\n\tisPromise(p) {\n\t\treturn (p != null && typeof p.then === \"function\");\n\t},\n\n\t/**\n\t * Polyfill a Promise library with missing Bluebird features.\n\t *\n\t * NOT USED & NOT TESTED YET !!!\n\t *\n\t * @param {PromiseClass} P\n\t */\n\tpolyfillPromise(P) {\n\t\tif (!utils.isFunction(P.method)) {\n\t\t\t// Based on https://github.com/petkaantonov/bluebird/blob/master/src/method.js#L8\n\t\t\tP.method = function(fn) {\n\t\t\t\treturn function() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst val = fn.apply(this, arguments);\n\t\t\t\t\t\treturn P.resolve(val);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treturn P.reject(err);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\tif (!utils.isFunction(P.delay)) {\n\t\t\t// Based on https://github.com/petkaantonov/bluebird/blob/master/src/timers.js#L15\n\t\t\tP.delay = function(ms) {\n\t\t\t\treturn new P(resolve => setTimeout(resolve, +ms));\n\t\t\t};\n\t\t\tP.prototype.delay = function(ms) {\n\t\t\t\treturn this.then(res => P.delay(ms).then(() => res));\n\t\t\t\t//return this.then(res => new P(resolve => setTimeout(() => resolve(res), +ms)));\n\t\t\t};\n\t\t}\n\n\t\tif (!utils.isFunction(P.prototype.timeout)) {\n\t\t\tP.TimeoutError = TimeoutError;\n\n\t\t\tP.prototype.timeout = function(ms, message) {\n\t\t\t\tlet timer;\n\t\t\t\tconst timeout = new P((resolve, reject) => {\n\t\t\t\t\ttimer = setTimeout(() => reject(new P.TimeoutError(message)), +ms);\n\t\t\t\t});\n\n\t\t\t\treturn P.race([\n\t\t\t\t\ttimeout,\n\t\t\t\t\tthis\n\t\t\t\t])\n\t\t\t\t\t.then(value => {\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tif (!utils.isFunction(P.mapSeries)) {\n\n\t\t\tP.mapSeries = function(arr, fn) {\n\t\t\t\tconst promFn = Promise.method(fn);\n\t\t\t\tconst res = [];\n\n\t\t\t\treturn arr.reduce((p, item, i) => {\n\t\t\t\t\treturn p.then(r => {\n\t\t\t\t\t\tres[i] = r;\n\t\t\t\t\t\treturn promFn(item, i);\n\t\t\t\t\t});\n\t\t\t\t}, P.resolve()).then(r => {\n\t\t\t\t\tres[arr.length] = r;\n\t\t\t\t\treturn res.slice(1);\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t},\n\n\t/**\n\t * Clear `require` cache. Used for service hot reloading\n\t *\n\t * @param {String} filename\n\t */\n\tclearRequireCache(filename) {\n\t\t/* istanbul ignore next */\n\t\tObject.keys(require.cache).forEach(function(key) {\n\t\t\tif (key == filename) {\n\t\t\t\tdelete require.cache[key];\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * String matcher to handle dot-separated event/action names.\n\t *\n\t * @param {String} text\n\t * @param {String} pattern\n\t * @returns {Boolean}\n\t */\n\tmatch(text, pattern) {\n\t\t// Simple patterns\n\t\tif (pattern.indexOf(\"?\") == -1) {\n\n\t\t\t// Exact match (eg. \"prefix.event\")\n\t\t\tconst firstStarPosition = pattern.indexOf(\"*\");\n\t\t\tif (firstStarPosition == -1) {\n\t\t\t\treturn pattern === text;\n\t\t\t}\n\n\t\t\t// Eg. \"prefix**\"\n\t\t\tconst len = pattern.length;\n\t\t\tif (len > 2 && pattern.endsWith(\"**\") && firstStarPosition > len - 3) {\n\t\t\t\tpattern = pattern.substring(0, len - 2);\n\t\t\t\treturn text.startsWith(pattern);\n\t\t\t}\n\n\t\t\t// Eg. \"prefix*\"\n\t\t\tif (len > 1 && pattern.endsWith(\"*\") && firstStarPosition > len - 2) {\n\t\t\t\tpattern = pattern.substring(0, len - 1);\n\t\t\t\tif (text.startsWith(pattern)) {\n\t\t\t\t\treturn text.indexOf(\".\", len) == -1;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Accept simple text, without point character (*)\n\t\t\tif (len == 1 && firstStarPosition == 0) {\n\t\t\t\treturn text.indexOf(\".\") == -1;\n\t\t\t}\n\n\t\t\t// Accept all inputs (**)\n\t\t\tif (len == 2 && firstStarPosition == 0 && pattern.lastIndexOf(\"*\") == 1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Regex (eg. \"prefix.ab?cd.*.foo\")\n\t\tconst origPattern = pattern;\n\t\tlet regex = RegexCache.get(origPattern);\n\t\tif (regex == null) {\n\t\t\tif (pattern.startsWith(\"$\")) {\n\t\t\t\tpattern = \"\\\\\" + pattern;\n\t\t\t}\n\t\t\tpattern = pattern.replace(/\\?/g, \".\");\n\t\t\tpattern = pattern.replace(/\\*\\*/g, \"§§§\");\n\t\t\tpattern = pattern.replace(/\\*/g, \"[^\\\\.]*\");\n\t\t\tpattern = pattern.replace(/§§§/g, \".*\");\n\n\t\t\tpattern = \"^\" + pattern + \"$\";\n\n\t\t\t// eslint-disable-next-line security/detect-non-literal-regexp\n\t\t\tregex = new RegExp(pattern, \"\");\n\t\t\tRegexCache.set(origPattern, regex);\n\t\t}\n\t\treturn regex.test(text);\n\t},\n\n\t/**\n\t * Deprecate a method or property\n\t *\n\t * @param {Object|Function|String} prop\n\t * @param {String} msg\n\t */\n\tdeprecate(prop, msg) {\n\t\tif (arguments.length == 1)\n\t\t\tmsg = prop;\n\n\t\tif (deprecateList.indexOf(prop) === -1) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.warn(kleur.yellow().bold(`DeprecationWarning: ${msg}`));\n\t\t\tdeprecateList.push(prop);\n\t\t}\n\t},\n\n\t/**\n\t * Remove circular references & Functions from the JS object\n\t *\n\t * @param {Object|Array} obj\n\t * @param {Object=} options List of options to change circularReplacer behaviour\n\t * @param {number=} options.maxSafeObjectSize List of options to change circularReplacer behaviour\n\t * @returns {Object|Array}\n\t */\n\tsafetyObject(obj, options) {\n\t\treturn JSON.parse(JSON.stringify(obj, circularReplacer(options)));\n\t},\n\n\t/**\n\t * Sets a variable on an object based on its dot path.\n\t *\n\t * @param {Object} obj\n\t * @param {String} path\n\t * @param {*} value\n\t * @returns {Object}\n\t */\n\tdotSet(obj, path, value) {\n\t\tconst parts = path.split(\".\");\n\t\tconst part = parts.shift();\n\t\tif (parts.length > 0) {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(obj, part)) {\n\t\t\t\tobj[part] = {};\n\t\t\t} else if (obj[part] == null) {\n\t\t\t\tobj[part] = {};\n\t\t\t} else {\n\t\t\t\tif (typeof obj[part] !== \"object\") {\n\t\t\t\t\tthrow new Error(\"Value already set and it's not an object\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tobj[part] = utils.dotSet(obj[part], parts.join(\".\"), value);\n\t\t\treturn obj;\n\t\t}\n\t\tobj[path] = value;\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Make directories recursively\n\t * @param {String} p - directory path\n\t */\n\tmakeDirs(p) {\n\t\tp.split(path.sep)\n\t\t\t.reduce((prevPath, folder) => {\n\t\t\t\tconst currentPath = path.join(prevPath, folder, path.sep);\n\t\t\t\tif (!fs.existsSync(currentPath)) {\n\t\t\t\t\tfs.mkdirSync(currentPath);\n\t\t\t\t}\n\t\t\t\treturn currentPath;\n\t\t\t}, \"\");\n\t},\n\n\t/**\n\t * Parse a byte string to number of bytes. E.g \"1kb\" -> 1024\n\t * Credits: https://github.com/visionmedia/bytes.js\n\t *\n\t * @param {String} v\n\t * @returns {Number}\n\t */\n\tparseByteString(v) {\n\t\tif (typeof v === \"number\" && !isNaN(v)) {\n\t\t\treturn v;\n\t\t}\n\n\t\tif (typeof v !== \"string\") {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Test if the string passed is valid\n\t\tlet results = parseByteStringRe.exec(v);\n\t\tlet floatValue;\n\t\tlet unit = \"b\";\n\n\t\tif (!results) {\n\t\t\t// Nothing could be extracted from the given string\n\t\t\tfloatValue = parseInt(v, 10);\n\t\t\tif (Number.isNaN(floatValue))\n\t\t\t\treturn null;\n\n\t\t\tunit = \"b\";\n\t\t} else {\n\t\t\t// Retrieve the value and the unit\n\t\t\tfloatValue = parseFloat(results[1]);\n\t\t\tunit = results[4].toLowerCase();\n\t\t}\n\n\t\treturn Math.floor(byteMultipliers[unit] * floatValue);\n\t}\n};\n\nmodule.exports = utils;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n/**\n * Abstract Base Metric class.\n *\n * @class BaseMetric\n */\nclass BaseMetric {\n\n\t/**\n\t * Creates an instance of BaseMetric.\n\t *\n\t * @param {Object} opts\n\t * @param {MetricRegistry} registry\n\t * @memberof BaseMetric\n\t */\n\tconstructor(opts, registry) {\n\t\tthis.registry = registry;\n\t\tthis.type = opts.type;\n\t\tthis.name = opts.name;\n\t\tthis.description = opts.description;\n\t\tthis.labelNames = opts.labelNames || [];\n\t\tthis.unit = opts.unit;\n\t\tthis.aggregator = opts.aggregator || registry.opts.defaultAggregator;\n\n\t\tthis.lastSnapshot = null;\n\t\tthis.dirty = true;\n\n\t\tthis.values = new Map();\n\t}\n\n\t/**\n\t * Set dirty flag\n\t *\n\t * @memberof BaseMetric\n\t */\n\tsetDirty() {\n\t\tthis.dirty = true;\n\t}\n\n\t/**\n\t * Clear dirty flag\n\t *\n\t * @memberof BaseMetric\n\t */\n\tclearDirty() {\n\t\tthis.dirty = false;\n\t}\n\n\t/**\n\t * Get metric item by labels\n\t *\n\t * @param {Object?} labels\n\t * @returns {Object}\n\t * @memberof BaseMetric\n\t */\n\tget(labels) {\n\t\tconst hash = this.hashingLabels(labels);\n\t\treturn this.values.get(hash);\n\t}\n\n\t/**\n\t * Reset item by labels\n\t *\n\t * @memberof BaseMetric\n\t */\n\treset(/*labels, timestamp*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\n\t/**\n\t * Reset all items\n\t *\n\t * @memberof BaseMetric\n\t */\n\tresetAll(/*timestamp*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\n\t/**\n\t * Clear metric values.\n\t *\n\t * @memberof BaseMetric\n\t */\n\tclear() {\n\t\tthis.values = new Map();\n\t\tthis.changed();\n\t}\n\n\t/**\n\t * Create a hash from label values. It will\n\t * be used as a key in Map.\n\t *\n\t * @param {Object} labels\n\t * @returns {String}\n\t * @memberof BaseMetric\n\t */\n\thashingLabels(labels) {\n\t\tif (this.labelNames.length == 0 || labels == null || typeof labels !== \"object\")\n\t\t\treturn \"\";\n\n\t\tconst parts = [];\n\t\tfor (let i = 0; i < this.labelNames.length; i++) {\n\t\t\tconst v = labels[this.labelNames[i]];\n\t\t\tif (typeof v == \"number\")\n\t\t\t\tparts.push(v);\n\t\t\telse if (typeof v === \"string\")\n\t\t\t\tparts.push(\"\\\"\" + v + \"\\\"\");\n\t\t\telse if (typeof v === \"boolean\")\n\t\t\t\tparts.push(\"\" + v);\n\t\t\telse\n\t\t\t\tparts.push(\"\");\n\t\t}\n\t\treturn parts.join(\"|\");\n\t}\n\n\t/**\n\t * Get a snapshot.\n\t *\n\t * @returns {Object}\n\t * @memberof BaseMetric\n\t */\n\tsnapshot() {\n\t\tif (!this.dirty && this.lastSnapshot)\n\t\t\treturn this.lastSnapshot;\n\n\t\tthis.lastSnapshot = this.generateSnapshot();\n\t\tthis.clearDirty();\n\n\t\treturn this.lastSnapshot;\n\t}\n\n\t/**\n\t * Generate a snapshot.\n\t *\n\t * @memberof BaseMetric\n\t */\n\tgenerateSnapshot() {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\n\t/**\n\t * Metric has been changed.\n\t * @param {any} value\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t */\n\tchanged(value, labels, timestamp) {\n\t\tthis.setDirty();\n\t\tthis.registry.changed(this, value, labels, timestamp);\n\t}\n\n\t/**\n\t * Export to a POJO.\n\t */\n\ttoObject() {\n\t\treturn {\n\t\t\ttype: this.type,\n\t\t\tname: this.name,\n\t\t\tdescription: this.description,\n\t\t\tlabelNames: this.labelNames,\n\t\t\tunit: this.unit,\n\n\t\t\tvalues: this.snapshot()\n\t\t};\n\t}\n}\n\nmodule.exports = BaseMetric;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst INTERVAL = 5;\nconst SECONDS_PER_MINUTE = 60.0;\n\n// https://github.com/dropwizard/metrics/blob/4.0-maintenance/metrics-core/src/main/java/com/codahale/metrics/EWMA.java\n/* istanbul ignore next\nfunction getAlpha(min) {\n\treturn 1 - Math.exp(-INTERVAL / SECONDS_PER_MINUTE / min);\n}\n*/\n\nclass MetricRate {\n\n\tconstructor(metric, item, min) {\n\t\tthis.metric = metric;\n\t\tthis.item = item;\n\t\tthis.min = min;\n\t\t//this.alpha = getAlpha(min);\n\n\t\tthis.rate = 0;\n\n\t\tthis.lastValue = 0;\n\t\tthis.lastTickTime = Date.now();\n\t\tthis.value = null;\n\n\t\tthis.timer = setInterval(() => this.tick(), INTERVAL * 1000).unref();\n\t}\n\n\tupdate(value) {\n\t\tthis.value = value;\n\t}\n\n\ttick() {\n\t\t// Get elapsed seconds\n\t\tconst now = Date.now();\n\t\tconst elapsedSec = (now - this.lastTickTime) / 1000;\n\t\tthis.lastTickTime = now;\n\n\t\t// Get difference between new and old value\n\t\tconst diff = this.value - this.lastValue;\n\t\tthis.lastValue = this.value;\n\n\t\t// Calculate the current requests/minute\n\t\tconst oneMinRate = diff / elapsedSec * SECONDS_PER_MINUTE;\n\n\t\t// Weighted calculation\n\t\tlet rate = this.rate + (oneMinRate - this.rate) * 0.5;\n\t\t// EWMA: const rate = this.rate + (this.alpha * (oneMinRate - this.rate));\n\n\t\t// Rounding\n\t\tif (Math.abs(rate) < 0.05) rate = 0;\n\t\tconst changed = Math.abs(rate - this.rate) > 0.01;\n\n\t\tthis.rate = rate;\n\n\t\tif (changed)\n\t\t\tthis.metric.changed(this.item.value, this.item.labels, now);\n\t}\n\n\treset() {\n\t\tthis.lastValue = 0;\n\t\tthis.value = null;\n\n\t\tthis.rate = 0;\n\t}\n\n}\nmodule.exports = MetricRate;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { pick } = require(\"lodash\");\nconst BaseMetric = require(\"./base\");\nconst METRIC = require(\"../constants\");\nconst MetricRate = require(\"../rates\");\n\n/**\n * Gauge metric class.\n *\n * @class GaugeMetric\n * @extends {BaseMetric}\n */\nclass GaugeMetric extends BaseMetric {\n\n\t/**\n\t * Creates an instance of GaugeMetric.\n\t * @param {Object} opts\n\t * @param {MetricRegistry} registry\n\t * @memberof GaugeMetric\n\t */\n\tconstructor(opts, registry) {\n\t\tsuper(opts, registry);\n\t\tthis.type = METRIC.TYPE_GAUGE;\n\t\tthis.rate = opts.rate;\n\t}\n\n\t/**\n\t * Increment value\n\t *\n\t * @param {Object} labels\n\t * @param {Number?} value\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof GaugeMetric\n\t */\n\tincrement(labels, value, timestamp) {\n\t\tif (value == null)\n\t\t\tvalue = 1;\n\n\t\tconst item = this.get(labels);\n\t\treturn this.set((item ? item.value : 0) + value, labels, timestamp);\n\t}\n\n\t/**\n\t * Decrement value.\n\t *\n\t * @param {Object} labels\n\t * @param {Number?} value\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof GaugeMetric\n\t */\n\tdecrement(labels, value, timestamp) {\n\t\tif (value == null)\n\t\t\tvalue = 1;\n\n\t\tconst item = this.get(labels);\n\t\treturn this.set((item ? item.value : 0) - value, labels, timestamp);\n\t}\n\n\t/**\n\t * Set value.\n\t *\n\t * @param {Number?} value\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof GaugeMetric\n\t */\n\tset(value, labels, timestamp) {\n\t\tconst hash = this.hashingLabels(labels);\n\t\tlet item = this.values.get(hash);\n\t\tif (item) {\n\t\t\tif (item.value != value) {\n\t\t\t\titem.value = value;\n\t\t\t\titem.timestamp = timestamp == null ? Date.now() : timestamp;\n\n\t\t\t\tif (item.rate)\n\t\t\t\t\titem.rate.update(value);\n\n\t\t\t\tthis.changed(value, labels, timestamp);\n\t\t\t}\n\t\t} else {\n\t\t\titem = {\n\t\t\t\tvalue,\n\t\t\t\tlabels: pick(labels, this.labelNames),\n\t\t\t\ttimestamp: timestamp == null ? Date.now() : timestamp,\n\t\t\t};\n\t\t\tthis.values.set(hash, item);\n\n\t\t\tif (this.rate) {\n\t\t\t\titem.rate = new MetricRate(this, item, 1);\n\t\t\t\titem.rate.update(value);\n\t\t\t}\n\n\t\t\tthis.changed(value, labels, timestamp);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\t/**\n\t * Reset item by labels.\n\t *\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof GaugeMetric\n\t */\n\treset(labels, timestamp) {\n\t\treturn this.set(0, labels, timestamp);\n\t}\n\n\t/**\n\t * Reset all items.\n\t *\n\t * @param {Number?} timestamp\n\t * @memberof GaugeMetric\n\t */\n\tresetAll(timestamp) {\n\t\tthis.values.forEach(item => {\n\t\t\titem.value = 0;\n\t\t\titem.timestamp = timestamp == null ? Date.now() : timestamp;\n\t\t});\n\t\tthis.changed(null, null, timestamp);\n\t}\n\n\t/**\n\t * Generate a snapshot.\n\t *\n\t * @returns {Array<Object>}\n\t * @memberof GaugeMetric\n\t */\n\tgenerateSnapshot() {\n\t\tconst snapshot = Array.from(this.values.keys()).map(key => {\n\t\t\tconst item = this.values.get(key);\n\t\t\tconst res = {\n\t\t\t\tkey,\n\t\t\t\tvalue: item.value,\n\t\t\t\tlabels: item.labels,\n\t\t\t\ttimestamp: item.timestamp\n\t\t\t};\n\n\t\t\tif (item.rate)\n\t\t\t\tres.rate = item.rate.rate;\n\n\t\t\treturn res;\n\t\t});\n\n\t\treturn snapshot;\n\t}\n}\n\nmodule.exports = GaugeMetric;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst GaugeMetric = require(\"./gauge\");\nconst METRIC = require(\"../constants\");\n\n/**\n * Counter metric class.\n *\n * @class CounterMetric\n * @extends {GaugeMetric}\n */\nclass CounterMetric extends GaugeMetric {\n\n\t/**\n\t * Creates an instance of CounterMetric.\n\t * @param {Object} opts\n\t * @param {MetricRegistry} registry\n\t * @memberof CounterMetric\n\t */\n\tconstructor(opts, registry) {\n\t\tsuper(opts, registry);\n\t\tthis.type = METRIC.TYPE_COUNTER;\n\t}\n\n\t/**\n\t * Disabled decrement method.\n\t *\n\t * @memberof CounterMetric\n\t */\n\tdecrement() {\n\t\tthrow new Error(\"Counter can't be decreased.\");\n\t}\n}\n\nmodule.exports = CounterMetric;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst BaseMetric = require(\"./base\");\nconst _ = require(\"lodash\");\nconst METRIC = require(\"../constants\");\nconst MetricRate = require(\"../rates\");\nconst { isPlainObject } = require(\"../../utils\");\nconst sortAscending = (a, b) => a - b;\nconst setProp = (o, k, v) => {\n\to[k] = v;\n\treturn o;\n};\n\n/**\n * Histogram metric class.\n *\n * @class HistogramMetric\n * @extends {BaseMetric}\n */\nclass HistogramMetric extends BaseMetric {\n\n\t/**\n\t * Creates an instance of HistogramMetric.\n\t * @param {Object} opts\n\t * @param {MetricRegistry} registry\n\t * @memberof HistogramMetric\n\t */\n\tconstructor(opts, registry) {\n\t\tsuper(opts, registry);\n\t\tthis.type = METRIC.TYPE_HISTOGRAM;\n\n\t\t// Create buckets\n\t\tif (isPlainObject(opts.linearBuckets)) {\n\t\t\tthis.buckets = HistogramMetric.generateLinearBuckets(opts.linearBuckets.start, opts.linearBuckets.width, opts.linearBuckets.count);\n\t\t} else if (isPlainObject(opts.exponentialBuckets)) {\n\t\t\tthis.buckets = HistogramMetric.generateExponentialBuckets(opts.exponentialBuckets.start, opts.exponentialBuckets.factor, opts.exponentialBuckets.count);\n\t\t} else if (Array.isArray(opts.buckets)) {\n\t\t\tthis.buckets = Array.from(opts.buckets);\n\t\t} else if (opts.buckets === true) {\n\t\t\tthis.buckets = this.registry.opts.defaultBuckets;\n\t\t}\n\t\tif (this.buckets) {\n\t\t\tthis.buckets.sort(sortAscending);\n\t\t}\n\n\t\t// Create quantiles\n\t\tif (Array.isArray(opts.quantiles)) {\n\t\t\tthis.quantiles = Array.from(opts.quantiles);\n\t\t} else if (opts.quantiles === true) {\n\t\t\tthis.quantiles = this.registry.opts.defaultQuantiles;\n\t\t}\n\t\tif (this.quantiles) {\n\t\t\tthis.quantiles.sort(sortAscending);\n\t\t\tthis.maxAgeSeconds = opts.maxAgeSeconds || this.registry.opts.defaultMaxAgeSeconds; // 1 minute\n\t\t\tthis.ageBuckets = opts.ageBuckets || this.registry.opts.defaultAgeBuckets; // 10 secs per bucket\n\t\t}\n\n\t\tthis.rate = opts.rate;\n\t}\n\n\t/**\n\t * Observe a value.\n\t *\n\t * @param {Number} value\n\t * @param {Object?} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof HistogramMetric\n\t */\n\tobserve(value, labels, timestamp) {\n\t\tconst hash = this.hashingLabels(labels);\n\t\tlet item = this.values.get(hash);\n\t\tif (!item) {\n\t\t\titem = this.resetItem({\n\t\t\t\tlabels: _.pick(labels, this.labelNames)\n\t\t\t});\n\n\t\t\tif (this.rate)\n\t\t\t\titem.rate = new MetricRate(this, item, 1);\n\n\t\t\tthis.values.set(hash, item);\n\t\t}\n\n\t\titem.timestamp = timestamp == null ? Date.now() : timestamp;\n\t\titem.sum += value;\n\t\titem.count++;\n\t\titem.lastValue = value;\n\n\t\tif (item.bucketValues) {\n\t\t\tconst len = this.buckets.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tif (value <= this.buckets[i]) {\n\t\t\t\t\titem.bucketValues[this.buckets[i]] += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (item.quantileValues) {\n\t\t\titem.quantileValues.add(value);\n\t\t}\n\n\t\tif (item.rate)\n\t\t\titem.rate.update(item.count);\n\n\t\tthis.changed(value, labels, timestamp);\n\n\t\treturn item;\n\t}\n\n\t/**\n\t * Create new bucket values based on options.\n\t *\n\t * @returns {Object}\n\t * @memberof HistogramMetric\n\t */\n\tcreateBucketValues() {\n\t\treturn this.buckets.reduce((a, bound) => setProp(a, bound, 0), {});\n\t}\n\n\t/**\n\t * Generate a snapshot\n\t *\n\t * @returns {Array<Object>}\n\t * @memberof HistogramMetric\n\t */\n\tgenerateSnapshot() {\n\t\treturn Array.from(this.values.keys()).map(key => this.generateItemSnapshot(this.values.get(key), key));\n\t}\n\n\t/**\n\t * Generate a snapshot for an item\n\t *\n\t * @param {Object} item\n\t * @param {String} key\n\t * @returns {Object}\n\t * @memberof HistogramMetric\n\t */\n\tgenerateItemSnapshot(item, key) {\n\t\tconst snapshot = {\n\t\t\tkey,\n\t\t\tlabels: item.labels,\n\t\t\tcount: item.count,\n\t\t\tsum: item.sum,\n\t\t\tlastValue: item.lastValue,\n\t\t\ttimestamp: item.timestamp,\n\t\t};\n\n\t\tif (this.buckets)\n\t\t\tsnapshot.buckets = this.buckets.reduce((a, b) => setProp(a, b, item.bucketValues[b]), {});\n\n\t\tif (this.quantiles)\n\t\t\tObject.assign(snapshot, item.quantileValues.snapshot());\n\n\t\tif (item.rate)\n\t\t\tsnapshot.rate = item.rate.rate;\n\n\t\treturn snapshot;\n\t}\n\n\t/**\n\t * Reset value of item.\n\t *\n\t * @param {Object} item\n\t * @param {Number?} timestamp\n\t */\n\tresetItem(item, timestamp) {\n\t\titem.timestamp = timestamp == null ? Date.now() : timestamp;\n\t\titem.sum = 0;\n\t\titem.count = 0;\n\t\titem.lastValue = null;\n\n\t\tif (this.buckets) {\n\t\t\titem.bucketValues = this.createBucketValues();\n\t\t}\n\n\t\tif (this.quantiles) {\n\t\t\titem.quantileValues = new TimeWindowQuantiles(this, this.quantiles, this.maxAgeSeconds, this.ageBuckets);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\t/**\n\t * Reset item by labels.\n\t *\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof HistogramMetric\n\t */\n\treset(labels, timestamp) {\n\t\tconst hash = this.hashingLabels(labels);\n\t\tconst item = this.values.get(hash);\n\t\tif (item) {\n\t\t\tthis.resetItem(item, timestamp);\n\t\t\tthis.changed(null, labels, timestamp);\n\t\t}\n\t}\n\n\t/**\n\t * Reset all items.\n\t *\n\t * @param {Number?} timestamp\n\t * @memberof HistogramMetric\n\t */\n\tresetAll(timestamp) {\n\t\tthis.values.forEach(item => this.resetItem(item, timestamp));\n\t\tthis.changed();\n\t}\n\n\t/**\n\t * Generate linear buckets\n\t *\n\t * @static\n\t * @param {Number} start\n\t * @param {Number} width\n\t * @param {Number} count\n\t * @returns {Array<Number>}\n\t * @memberof HistogramMetric\n\t */\n\tstatic generateLinearBuckets(start, width, count) {\n\t\tconst buckets = [];\n\t\tfor (let i = 0; i < count; i++)\n\t\t\tbuckets.push(start + i * width);\n\n\t\treturn buckets;\n\t}\n\n\t/**\n\t * Generate exponential buckets\n\t *\n\t * @static\n\t * @param {Number} start\n\t * @param {Number} factor\n\t * @param {Number} count\n\t * @returns {Array<Number>}\n\t * @memberof HistogramMetric\n\t */\n\tstatic generateExponentialBuckets(start, factor, count) {\n\t\tconst buckets = [];\n\t\tfor (let i = 0; i < count; i++)\n\t\t\tbuckets[i] = start * Math.pow(factor, i);\n\n\t\treturn buckets;\n\t}\n}\n\n/**\n * Timewindow class for quantiles.\n *\n * @class TimeWindowQuantiles\n */\nclass TimeWindowQuantiles {\n\n\t/**\n\t * Creates an instance of TimeWindowQuantiles.\n\t * @param {BaseMetric} metric\n\t * @param {Array<Number>} quantiles\n\t * @param {Number} maxAgeSeconds\n\t * @param {Number} ageBuckets\n\t * @memberof TimeWindowQuantiles\n\t */\n\tconstructor(metric, quantiles, maxAgeSeconds, ageBuckets) {\n\t\tthis.metric = metric;\n\t\tthis.quantiles = Array.from(quantiles);\n\t\tthis.maxAgeSeconds = maxAgeSeconds;\n\t\tthis.ageBuckets = ageBuckets;\n\t\tthis.ringBuckets = [];\n\t\tfor(let i = 0; i < ageBuckets; i++) {\n\t\t\tthis.ringBuckets.push(new Bucket());\n\t\t}\n\t\tthis.dirty = true;\n\n\t\tthis.currentBucket = -1;\n\t\tthis.rotate();\n\n\t\tthis.lastSnapshot = null;\n\t\tthis.setDirty();\n\t}\n\n\t/**\n\t * Set dirty flag.\n\t *\n\t * @memberof TimeWindowQuantiles\n\t */\n\tsetDirty() {\n\t\tthis.dirty = true;\n\t\tthis.metric.setDirty();\n\t}\n\n\t/**\n\t * Clear dirty flag.\n\t *\n\t * @memberof TimeWindowQuantiles\n\t */\n\tclearDirty() {\n\t\tthis.dirty = false;\n\t}\n\n\t/**\n\t * Rotate the ring buckets.\n\t *\n\t * @memberof TimeWindowQuantiles\n\t */\n\trotate() {\n\t\tthis.currentBucket = (this.currentBucket + 1) % this.ageBuckets;\n\t\tthis.ringBuckets[this.currentBucket].clear();\n\t\tthis.setDirty();\n\n\t\tsetTimeout(() => this.rotate(), (this.maxAgeSeconds / this.ageBuckets) * 1000).unref();\n\t}\n\n\t/**\n\t * Add a new value to the current bucket.\n\t *\n\t * @param {Number} value\n\t * @memberof TimeWindowQuantiles\n\t */\n\tadd(value) {\n\t\tthis.setDirty();\n\t\tthis.ringBuckets[this.currentBucket].add(value);\n\t}\n\n\t/**\n\t * Generate a snapshot from buckets and calculate min, max, mean, quantiles, variance & StdDev.\n\t *\n\t * @returns {Object}\n\t * @memberof TimeWindowQuantiles\n\t */\n\tsnapshot() {\n\t\tif (!this.dirty && this.lastSnapshot)\n\t\t\treturn this.lastSnapshot;\n\n\t\tconst samples = this.ringBuckets.reduce((a, b) => a.concat(b.samples), []);\n\t\tsamples.sort(sortAscending);\n\n\t\tconst mean = samples.length ? samples.reduce((a, b) => a + b, 0) / samples.length : null;\n\t\tconst variance = samples.length > 1 ? samples.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / (samples.length - 1) : null;\n\t\tconst stdDev = variance ? Math.sqrt(variance) : null;\n\n\t\tthis.lastSnapshot = {\n\t\t\tmin: samples.length ? samples[0] : null,\n\t\t\tmean,\n\t\t\tvariance,\n\t\t\tstdDev,\n\t\t\tmax: samples.length ? samples[samples.length - 1] : null,\n\t\t\tquantiles: this.quantiles.reduce((a, q) => setProp(a, q, samples[Math.ceil(q * samples.length) - 1]), {})\n\t\t};\n\n\t\tthis.clearDirty();\n\n\t\treturn this.lastSnapshot;\n\t}\n}\n\n/**\n * Bucket class\n *\n * @class Bucket\n */\nclass Bucket {\n\t/**\n\t * Creates an instance of Bucket.\n\t * @memberof Bucket\n\t */\n\tconstructor() {\n\t\tthis.count = 0;\n\t\tthis.samples = [];\n\t}\n\n\t/**\n\t * Add value to the bucket.\n\t *\n\t * @param {Number} value\n\t * @memberof Bucket\n\t */\n\tadd(value) {\n\t\tthis.samples.push(value);\n\t\tthis.count++;\n\t}\n\n\t/**\n\t * Clear bucket.\n\t *\n\t * @memberof Bucket\n\t */\n\tclear() {\n\t\tthis.count = 0;\n\t\tthis.samples.length = 0;\n\t}\n}\n\nHistogramMetric.Bucket = Bucket;\nHistogramMetric.TimeWindowQuantiles = TimeWindowQuantiles;\n\nmodule.exports = HistogramMetric;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { pick } = require(\"lodash\");\nconst BaseMetric = require(\"./base\");\nconst METRIC = require(\"../constants\");\n\n/**\n * Information metric.\n *\n * @class InfoMetric\n * @extends {BaseMetric}\n */\nclass InfoMetric extends BaseMetric {\n\n\t/**\n\t * Creates an instance of InfoMetric.\n\t * @param {Object} opts\n\t * @param {MetricRegistry} registry\n\t * @memberof InfoMetric\n\t */\n\tconstructor(opts, registry) {\n\t\tsuper(opts, registry);\n\t\tthis.type = METRIC.TYPE_INFO;\n\t}\n\n\t/**\n\t * Set value.\n\t *\n\t * @param {*} value\n\t * @param {Object?} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof InfoMetric\n\t */\n\tset(value, labels, timestamp) {\n\t\tconst hash = this.hashingLabels(labels);\n\t\tlet item = this.values.get(hash);\n\t\tif (item) {\n\t\t\tif (value != item.value) {\n\t\t\t\titem.value = value;\n\t\t\t\titem.timestamp = timestamp == null ? Date.now() : timestamp;\n\t\t\t\tthis.changed(value, labels, timestamp);\n\t\t\t}\n\t\t} else {\n\t\t\titem = {\n\t\t\t\tvalue,\n\t\t\t\tlabels: pick(labels, this.labelNames),\n\t\t\t\ttimestamp: timestamp == null ? Date.now() : timestamp\n\t\t\t};\n\t\t\tthis.values.set(hash, item);\n\t\t\tthis.changed(value, labels, timestamp);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\t/**\n\t * Reset item by labels.\n\t *\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof InfoMetric\n\t */\n\treset(labels, timestamp) {\n\t\treturn this.set(null, labels, timestamp);\n\t}\n\n\t/**\n\t * Reset all items.\n\t *\n\t * @param {Number?} timestamp\n\t * @memberof InfoMetric\n\t */\n\tresetAll(timestamp) {\n\t\tthis.values.forEach(item => {\n\t\t\titem.value = null;\n\t\t\titem.timestamp = timestamp == null ? Date.now() : timestamp;\n\t\t});\n\t\tthis.changed();\n\t}\n\n\t/**\n\t * Generate a snapshot.\n\t *\n\t * @returns {Array<Object>}\n\t * @memberof InfoMetric\n\t */\n\tgenerateSnapshot() {\n\t\tconst snapshot = Array.from(this.values.keys()).map(key => {\n\t\t\tconst item = this.values.get(key);\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\tvalue: item.value,\n\t\t\t\tlabels: item.labels,\n\t\t\t\ttimestamp: item.timestamp\n\t\t\t};\n\t\t});\n\n\t\treturn snapshot;\n\t}\n}\n\nmodule.exports = InfoMetric;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { BrokerOptionsError } = require(\"../../errors\");\n\nconst Types = {\n\tBase: require(\"./base\"),\n\tCounter: require(\"./counter\"),\n\tGauge: require(\"./gauge\"),\n\tHistogram: require(\"./histogram\"),\n\tInfo: require(\"./info\"),\n};\n\n/**\n * Get MetricType class by name.\n *\n * @param {String} name\n * @returns\n */\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Types).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Types[n];\n}\n\n/**\n * Resolve metric type by name\n *\n * @param {string} type\n * @returns {BaseMetric}\n * @memberof ServiceBroker\n */\nfunction resolve(type) {\n\tconst TypeClass = getByName(type);\n\tif (!TypeClass)\n\t\tthrow new BrokerOptionsError(`Invalid metric type '${type}'.`, { type });\n\n\treturn TypeClass;\n}\n\nfunction register(name, value) {\n\tTypes[name] = value;\n}\n\nmodule.exports = Object.assign(Types, { resolve, register });\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { match, isString } = require(\"../../utils\");\n\n/**\n * Metric reporter base class.\n *\n * @class BaseReporter\n */\nclass BaseReporter {\n\n\t/**\n\t * Creates an instance of BaseReporter.\n\t *\n\t * @param {Object} opts\n\t * @memberof BaseReporter\n\t */\n\tconstructor(opts) {\n\t\tthis.opts = _.defaultsDeep(opts, {\n\t\t\tincludes: null,\n\t\t\texcludes: null,\n\n\t\t\tmetricNamePrefix: null,\n\t\t\tmetricNameSuffix: null,\n\n\t\t\tmetricNameFormatter: null,\n\t\t\tlabelNameFormatter: null,\n\t\t});\n\n\t\tif (isString(this.opts.includes))\n\t\t\tthis.opts.includes = [this.opts.includes];\n\n\t\tif (isString(this.opts.excludes))\n\t\t\tthis.opts.excludes = [this.opts.excludes];\n\t}\n\n\t/**\n\t * Initialize reporter\n\t *\n\t * @param {MetricRegistry} registry\n\t * @memberof BaseReporter\n\t */\n\tinit(registry) {\n\t\tthis.registry = registry;\n\t\tthis.broker = this.registry.broker;\n\t\tthis.logger = this.registry.logger;\n\t}\n\n\t/**\n\t * Stop reporter\n\t *\n\t * @memberof BaseReporter\n\t */\n\tstop() {\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Match the metric name. Check the `includes` & `excludes` patterns.\n\t *\n\t * @param {String} name\n\t * @returns {boolean}\n\t * @memberof BaseReporter\n\t */\n\tmatchMetricName(name) {\n\t\tif (Array.isArray(this.opts.includes)) {\n\t\t\tif (!this.opts.includes.some(pattern => match(name, pattern)))\n\t\t\t\treturn false;\n\t\t}\n\n\t\tif (Array.isArray(this.opts.excludes)) {\n\t\t\tif (!this.opts.excludes.every(pattern => !match(name, pattern)))\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Format metric name. Add prefix, suffix and call custom formatter.\n\t *\n\t * @param {String} name\n\t * @returns {String}\n\t * @memberof BaseReporter\n\t */\n\tformatMetricName(name) {\n\t\tname = (this.opts.metricNamePrefix ? this.opts.metricNamePrefix : \"\") + name + (this.opts.metricNameSuffix ? this.opts.metricNameSuffix : \"\");\n\t\tif (this.opts.metricNameFormatter)\n\t\t\treturn this.opts.metricNameFormatter(name);\n\t\treturn name;\n\t}\n\n\t/**\n\t * Format label name. Call custom formatter.\n\t *\n\t * @param {String} name\n\t * @returns {String}\n\t * @memberof BaseReporter\n\t */\n\tformatLabelName(name) {\n\t\tif (this.opts.labelNameFormatter)\n\t\t\treturn this.opts.labelNameFormatter(name);\n\t\treturn name;\n\t}\n\n\t/**\n\t * Some metric has been changed.\n\t *\n\t * @param {BaseMetric} metric\n\t * @param {any} value\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t *\n\t * @memberof BaseReporter\n\t */\n\tmetricChanged(/*metric, value, labels, timestamp*/) {\n\t\t// Not implemented. Abstract method\n\t}\n}\n\nmodule.exports = BaseReporter;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst BaseReporter = require(\"./base\");\nconst _ = require(\"lodash\");\nconst kleur = require(\"kleur\");\nconst METRIC = require(\"../constants\");\nconst { isFunction } = require(\"../../utils\");\n\n/**\n * Console reporter for Moleculer Metrics\n *\n * @class ConsoleReporter\n * @extends {BaseReporter}\n */\nclass ConsoleReporter extends BaseReporter {\n\n\t/**\n\t * Creates an instance of ConsoleReporter.\n\t * @param {Object} opts\n\t * @memberof ConsoleReporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\tinterval: 5,\n\t\t\tlogger: null,\n\t\t\tcolors: true,\n\t\t\tonlyChanges: true,\n\t\t});\n\n\t\tif (!this.opts.colors)\n\t\t\tkleur.enabled = false;\n\n\t\tthis.lastChanges = new Set();\n\t}\n\n\t/**\n\t * Initialize reporter\n\t * @param {MetricRegistry} registry\n\t * @memberof ConsoleReporter\n\t */\n\tinit(registry) {\n\t\tsuper.init(registry);\n\n\t\tif (this.opts.interval > 0) {\n\t\t\tthis.timer = setInterval(() => this.print(), this.opts.interval * 1000);\n\t\t\tthis.timer.unref();\n\t\t}\n\t}\n\n\t/**\n\t * Convert labels to label string\n\t *\n\t * @param {Object} labels\n\t * @returns {String}\n\t * @memberof ConsoleReporter\n\t */\n\tlabelsToStr(labels) {\n\t\tconst keys = Object.keys(labels);\n\t\tif (keys.length == 0)\n\t\t\treturn kleur.gray(\"{}\");\n\n\t\treturn kleur.gray(\"{\") + keys.map(key => `${kleur.gray(this.formatLabelName(key))}: ${kleur.magenta(\"\" + labels[key])}`).join(\", \") + kleur.gray(\"}\");\n\t}\n\n\t/**\n\t * Print metrics to the console.\n\t *\n\t * @memberof ConsoleReporter\n\t */\n\tprint() {\n\t\tlet list = this.registry.list({\n\t\t\tincludes: this.opts.includes,\n\t\t\texcludes: this.opts.excludes,\n\t\t});\n\n\t\tif (this.opts.onlyChanges)\n\t\t\tlist = list.filter(metric => this.lastChanges.has(metric.name));\n\n\t\tif (list.length == 0)\n\t\t\treturn;\n\n\t\tthis.log(kleur.gray(`------------------- [ METRICS START (${list.length}) ] -------------------`));\n\n\t\tlist.forEach(metric => {\n\t\t\tthis.log(kleur.cyan().bold(this.formatMetricName(metric.name)) + \" \" + kleur.gray(\"(\" + metric.type + \")\"));\n\t\t\tif (metric.values.size == 0) {\n\t\t\t\tthis.log(kleur.gray(\"  <no values>\"));\n\t\t\t} else {\n\t\t\t\tconst unit = metric.unit ? kleur.gray(this.registry.pluralizeUnit(metric.unit)) : \"\";\n\t\t\t\tmetric.values.forEach(item => {\n\t\t\t\t\tlet val;\n\t\t\t\t\tconst labelStr = this.labelsToStr(item.labels);\n\t\t\t\t\tswitch(metric.type) {\n\t\t\t\t\t\tcase METRIC.TYPE_COUNTER:\n\t\t\t\t\t\tcase METRIC.TYPE_GAUGE:\n\t\t\t\t\t\tcase METRIC.TYPE_INFO:\n\t\t\t\t\t\t\tval = item.value === \"\" ? kleur.grey(\"<empty string>\") : kleur.green().bold(item.value);\n\t\t\t\t\t\t\tif (item.rate != null) {\n\t\t\t\t\t\t\t\t/*const s = [];\n\t\t\t\t\t\t\t\tObject.keys(item.rates).forEach(b => {\n\t\t\t\t\t\t\t\t\ts.push(`Rate${b}: ${item.rates[b] != null ? item.rates[b].toFixed(2) : \"-\"}`);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tval = kleur.green().bold(`Value: ${val} | ` + s.join(\" | \"));\n\t\t\t\t\t\t\t\t*/\n\n\t\t\t\t\t\t\t\tval = val + kleur.grey(\" | Rate: \") + (item.rate != null ? kleur.green().bold(item.rate.toFixed(2)) : \"-\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase METRIC.TYPE_HISTOGRAM: {\n\t\t\t\t\t\t\tconst s = [];\n\t\t\t\t\t\t\ts.push(`Count: ${item.count}`);\n\n\t\t\t\t\t\t\tif (item.buckets) {\n\t\t\t\t\t\t\t\tObject.keys(item.buckets).forEach(b => {\n\t\t\t\t\t\t\t\t\ts.push(`${b}: ${item.buckets[b] != null ? item.buckets[b] : \"-\"}`);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (item.quantiles) {\n\t\t\t\t\t\t\t\ts.push(`Min: ${item.min != null ? item.min.toFixed(2) : \"-\"}`);\n\t\t\t\t\t\t\t\ts.push(`Mean: ${item.mean != null ? item.mean.toFixed(2) : \"-\"}`);\n\t\t\t\t\t\t\t\ts.push(`Var: ${item.variance != null ? item.variance.toFixed(2) : \"-\"}`);\n\t\t\t\t\t\t\t\ts.push(`StdDev: ${item.stdDev != null ? item.stdDev.toFixed(2) : \"-\"}`);\n\t\t\t\t\t\t\t\ts.push(`Max: ${item.max != null ? item.max.toFixed(2) : \"-\"}`);\n\n\t\t\t\t\t\t\t\tObject.keys(item.quantiles).forEach(key => {\n\t\t\t\t\t\t\t\t\ts.push(`${key}: ${item.quantiles[key] != null ? item.quantiles[key].toFixed(2) : \"-\"}`);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (item.rate != null)\n\t\t\t\t\t\t\t\ts.push(`Rate: ${item.rate != null ? item.rate.toFixed(2) : \"-\"}`);\n\n\t\t\t\t\t\t\tval = kleur.green().bold(s.join(\" | \"));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.log(`  ${labelStr}: ${val} ${unit}`);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.log(\"\");\n\t\t});\n\n\t\tthis.log(kleur.gray(`-------------------- [ METRICS END (${list.length}) ] --------------------`));\n\n\t\tthis.lastChanges.clear();\n\t}\n\n\t/**\n\t * Print messages\n\t *\n\t * @param  {...any} args\n\t */\n\tlog(...args) {\n\t\tif (isFunction(this.opts.logger)) {\n\t\t\treturn this.opts.logger(...args);\n\t\t} else {\n\t\t\treturn this.logger.info(...args);\n\t\t}\n\t}\n\n\t/**\n\t * Some metric has been changed.\n\t *\n\t * @param {BaseMetric} metric\n\t * @param {any} value\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t *\n\t * @memberof BaseReporter\n\t */\n\tmetricChanged(metric) {\n\t\tif (!this.matchMetricName(metric.name)) return;\n\n\t\tthis.lastChanges.add(metric.name);\n\t}\n}\n\nmodule.exports = ConsoleReporter;\n","export default false\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst BaseReporter = require(\"./base\");\nconst _ = require(\"lodash\");\n\n/**\n * Event reporter for Moleculer Metrics\n *\n * @class EventReporter\n * @extends {BaseReporter}\n */\nclass EventReporter extends BaseReporter {\n\n\t/**\n\t * Creates an instance of EventReporter.\n\t * @param {Object} opts\n\t * @memberof EventReporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\teventName: \"$metrics.snapshot\",\n\n\t\t\tbroadcast: false,\n\t\t\tgroups: null,\n\n\t\t\tonlyChanges: false,\n\n\t\t\tinterval: 5,\n\t\t});\n\n\t\tthis.lastChanges = new Set();\n\t}\n\n\t/**\n\t * Initialize reporter.\n\t *\n\t * @param {MetricRegistry} registry\n\t * @memberof EventReporter\n\t */\n\tinit(registry) {\n\t\tsuper.init(registry);\n\n\t\tif (this.opts.interval > 0) {\n\t\t\tthis.timer = setInterval(() => this.sendEvent(), this.opts.interval * 1000);\n\t\t\tthis.timer.unref();\n\t\t}\n\t}\n\n\t/**\n\t * Send metrics snapshot via event.\n\t *\n\t * @memberof EventReporter\n\t */\n\tsendEvent() {\n\t\tlet list = this.registry.list({\n\t\t\tincludes: this.opts.includes,\n\t\t\texcludes: this.opts.excludes,\n\t\t});\n\n\t\tif (this.opts.onlyChanges)\n\t\t\tlist = list.filter(metric => this.lastChanges.has(metric.name));\n\n\t\tif (list.length == 0)\n\t\t\treturn;\n\n\t\tif (this.opts.broadcast) {\n\t\t\tthis.logger.debug(`Send metrics.snapshot (${list.length} metrics) broadcast events.`);\n\t\t\tthis.broker.broadcast(this.opts.eventName, list, { groups: this.opts.groups });\n\t\t} else {\n\t\t\tthis.logger.debug(`Send metrics.snapshot (${list.length} metrics) events.`);\n\t\t\tthis.broker.emit(this.opts.eventName, list, { groups: this.opts.groups });\n\t\t}\n\n\t\tthis.lastChanges.clear();\n\t}\n\n\n\t/**\n\t * Some metric has been changed.\n\t *\n\t * @param {BaseMetric} metric\n\t * @param {any} value\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t *\n\t * @memberof BaseReporter\n\t */\n\tmetricChanged(metric) {\n\t\tif (!this.matchMetricName(metric.name)) return;\n\n\t\tthis.lastChanges.add(metric.name);\n\t}\n}\n\nmodule.exports = EventReporter;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { isObject, isString } = require(\"../../utils\");\nconst { BrokerOptionsError } = require(\"../../errors\");\n\nconst Reporters = {\n\tBase: require(\"./base\"),\n\tConsole: require(\"./console\"),\n\tCSV: require(\"./csv\"),\n\tEvent: require(\"./event\"),\n\tDatadog: require(\"./datadog\"),\n\tPrometheus: require(\"./prometheus\"),\n\tStatsD: require(\"./statsd\"),\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Reporters).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Reporters[n];\n}\n\n/**\n * Resolve reporter by name\n *\n * @param {object|string} opt\n * @returns {Reporter}\n * @memberof ServiceBroker\n */\nfunction resolve(opt) {\n\tif (opt instanceof Reporters.Base) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet ReporterClass = getByName(opt);\n\t\tif (ReporterClass)\n\t\t\treturn new ReporterClass();\n\n\t} else if (isObject(opt)) {\n\t\tlet ReporterClass = getByName(opt.type);\n\t\tif (ReporterClass)\n\t\t\treturn new ReporterClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid metric reporter type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\tthrow new BrokerOptionsError(`Invalid metric reporter type '${opt}'.`, { type: opt });\n}\n\nfunction register(name, value) {\n\tReporters[name] = value;\n}\n\nmodule.exports = Object.assign(Reporters, { resolve, register });\n\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n/**\n * CPU usage measure.\n *\n * Based on: https://github.com/icebob/cpu\n */\nconst os = require(\"os\");\n\n/* istanbul ignore next */\nmodule.exports = function getCpuUsage(sampleTime = 100) {\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\tconst first = os.cpus().map(cpu => cpu.times);\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tconst second = os.cpus().map(cpu => cpu.times);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst third = os.cpus().map(cpu => cpu.times);\n\n\t\t\t\t\t\t\tconst usages = [];\n\t\t\t\t\t\t\tfor (let i = 0; i < first.length; i++) {\n\t\t\t\t\t\t\t\tconst first_idle = first[i].idle;\n\t\t\t\t\t\t\t\tconst first_total = first[i].idle + first[i].user + first[i].nice + first[i].sys + first[i].irq;\n\t\t\t\t\t\t\t\tconst second_idle = second[i].idle;\n\t\t\t\t\t\t\t\tconst second_total = second[i].idle + second[i].user + second[i].nice + second[i].sys + second[i].irq;\n\t\t\t\t\t\t\t\tconst third_idle = third[i].idle;\n\t\t\t\t\t\t\t\tconst third_total = third[i].idle + third[i].user + third[i].nice + third[i].sys + third[i].irq;\n\t\t\t\t\t\t\t\tconst first_usage = 1 - (second_idle - first_idle) / (second_total - first_total);\n\t\t\t\t\t\t\t\tconst second_usage = 1 - (third_idle - second_idle) / (third_total - second_total);\n\t\t\t\t\t\t\t\tconst per_usage = (first_usage + second_usage) / 2 * 100;\n\t\t\t\t\t\t\t\tusages.push(per_usage);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tavg: usages.reduce((a, b) => a + b, 0) / usages.length,\n\t\t\t\t\t\t\t\tusages\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, sampleTime);\n\t\t\t\t} catch (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t}, sampleTime);\n\t\t} catch (err) {\n\t\t\treject(err);\n\t\t}\n\t});\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst os = require(\"os\");\nconst METRIC = require(\"./constants\");\nconst cpuUsage = require(\"../cpu-usage\");\n\nlet v8, eventLoop;\n\n// Load `v8` module for heap metrics.\ntry {\n\tv8 = require(\"v8\");\n} catch (e) {\n\t// silent\n}\n\n/**\n * Register common OS, process & Moleculer metrics.\n */\nfunction registerCommonMetrics() {\n\tthis.logger.debug(\"Registering common metrics...\");\n\n\t// --- METRICS SELF METRICS ---\n\n\t// this.register({ name: METRIC.MOLECULER_METRICS_COMMON_COLLECT_TOTAL, type: METRIC.TYPE_COUNTER, description: \"Number of metric collections\" });\n\t// this.register({ name: METRIC.MOLECULER_METRICS_COMMON_COLLECT_TIME, type: METRIC.TYPE_GAUGE, description: \"Time of collecting metrics\", unit: METRIC.UNIT_MILLISECONDS });\n\n\t// --- PROCESS METRICS ---\n\n\tconst item = this.register({ name: METRIC.PROCESS_ARGUMENTS, type: METRIC.TYPE_INFO, labelNames: [\"index\"], description: \"Process arguments\" });\n\tprocess.argv.map((arg, index) => item.set(arg, { index }));\n\n\tthis.register({ name: METRIC.PROCESS_PID, type: METRIC.TYPE_INFO, description: \"Process PID\" }).set(process.pid);\n\tthis.register({ name: METRIC.PROCESS_PPID, type: METRIC.TYPE_INFO, description: \"Process parent PID\" }).set(process.ppid);\n\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_SIZE_TOTAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_SIZE_USED, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process used heap size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_RSS, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process RSS size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_EXTERNAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process external memory size\" });\n\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_TOTAL, type: METRIC.TYPE_GAUGE, labelNames: [\"space\"], unit: METRIC.UNIT_BYTE, description: \"Process total heap space size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_USED, type: METRIC.TYPE_GAUGE, labelNames: [\"space\"], unit: METRIC.UNIT_BYTE, description: \"Process used heap space size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_AVAILABLE, type: METRIC.TYPE_GAUGE, labelNames: [\"space\"], unit: METRIC.UNIT_BYTE, description: \"Process available heap space size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_PHYSICAL, type: METRIC.TYPE_GAUGE, labelNames: [\"space\"], unit: METRIC.UNIT_BYTE, description: \"Process physical heap space size\" });\n\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_HEAP_SIZE_TOTAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap stat size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_EXECUTABLE_SIZE_TOTAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap stat executable size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_PHYSICAL_SIZE_TOTAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap stat physical size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_AVAILABLE_SIZE_TOTAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap stat available size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_USED_HEAP_SIZE, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap stat used size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_HEAP_SIZE_LIMIT, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap stat size limit\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_MALLOCATED_MEMORY, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Process heap stat mallocated size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_PEAK_MALLOCATED_MEMORY, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"Peak of process heap stat mallocated size\" });\n\tthis.register({ name: METRIC.PROCESS_MEMORY_HEAP_STAT_ZAP_GARBAGE, type: METRIC.TYPE_GAUGE, description: \"Process heap stat zap garbage\" });\n\n\tthis.register({ name: METRIC.PROCESS_UPTIME, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_SECONDS, description: \"Process uptime\" });\n\tthis.register({ name: METRIC.PROCESS_INTERNAL_ACTIVE_HANDLES, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_HANDLE, description: \"Number of active process handlers\" });\n\tthis.register({ name: METRIC.PROCESS_INTERNAL_ACTIVE_REQUESTS, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_REQUEST, description: \"Number of active process requests\" });\n\n\tthis.register({ name: METRIC.PROCESS_VERSIONS_NODE, type: METRIC.TYPE_INFO, description: \"Node version\" }).set(process.versions.node);\n\n\t// --- OS METRICS ---\n\n\tthis.register({ name: METRIC.OS_MEMORY_FREE, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"OS free memory size\" });\n\tthis.register({ name: METRIC.OS_MEMORY_USED, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"OS used memory size\" });\n\tthis.register({ name: METRIC.OS_MEMORY_TOTAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_BYTE, description: \"OS total memory size\" });\n\tthis.register({ name: METRIC.OS_UPTIME, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_SECONDS, description: \"OS uptime\" });\n\tthis.register({ name: METRIC.OS_TYPE, type: METRIC.TYPE_INFO, description: \"OS type\" }).set(os.type());\n\tthis.register({ name: METRIC.OS_RELEASE, type: METRIC.TYPE_INFO, description: \"OS release\" }).set(os.release());\n\tthis.register({ name: METRIC.OS_HOSTNAME, type: METRIC.TYPE_INFO, description: \"Hostname\" }).set(os.hostname());\n\tthis.register({ name: METRIC.OS_ARCH, type: METRIC.TYPE_INFO, description: \"OS architecture\" }).set(os.arch());\n\tthis.register({ name: METRIC.OS_PLATFORM, type: METRIC.TYPE_INFO, description: \"OS platform\" }).set(os.platform());\n\n\tconst userInfo = getUserInfo();\n\tthis.register({ name: METRIC.OS_USER_UID, type: METRIC.TYPE_INFO, description: \"UID\" }).set(userInfo.uid);\n\tthis.register({ name: METRIC.OS_USER_GID, type: METRIC.TYPE_INFO, description: \"GID\" }).set(userInfo.gid);\n\tthis.register({ name: METRIC.OS_USER_USERNAME, type: METRIC.TYPE_INFO, description: \"Username\" }).set(userInfo.username);\n\tthis.register({ name: METRIC.OS_USER_HOMEDIR, type: METRIC.TYPE_INFO, description: \"User's home directory\" }).set(userInfo.homedir);\n\n\tthis.register({ name: METRIC.OS_NETWORK_ADDRESS, type: METRIC.TYPE_INFO, labelNames: [\"interface\", \"family\"], description: \"Network address\" });\n\tthis.register({ name: METRIC.OS_NETWORK_MAC, type: METRIC.TYPE_INFO, labelNames: [\"interface\", \"family\"], description: \"MAC address\" });\n\n\tthis.register({ name: METRIC.OS_DATETIME_UNIX, type: METRIC.TYPE_GAUGE, description: \"Current datetime in Unix format\" });\n\tthis.register({ name: METRIC.OS_DATETIME_ISO, type: METRIC.TYPE_INFO, description: \"Current datetime in ISO string\" });\n\tthis.register({ name: METRIC.OS_DATETIME_UTC, type: METRIC.TYPE_INFO, description: \"Current UTC datetime\" });\n\tthis.register({ name: METRIC.OS_DATETIME_TZ_OFFSET, type: METRIC.TYPE_GAUGE, description: \"Timezone offset\" });\n\n\tthis.register({ name: METRIC.OS_CPU_LOAD_1, type: METRIC.TYPE_GAUGE, description: \"CPU load1\" });\n\tthis.register({ name: METRIC.OS_CPU_LOAD_5, type: METRIC.TYPE_GAUGE, description: \"CPU load5\" });\n\tthis.register({ name: METRIC.OS_CPU_LOAD_15, type: METRIC.TYPE_GAUGE, description: \"CPU load15\" });\n\tthis.register({ name: METRIC.OS_CPU_UTILIZATION, type: METRIC.TYPE_GAUGE, description: \"CPU utilization\" });\n\n\tthis.register({ name: METRIC.OS_CPU_USER, type: METRIC.TYPE_GAUGE, description: \"CPU user time\" });\n\tthis.register({ name: METRIC.OS_CPU_SYSTEM, type: METRIC.TYPE_GAUGE, description: \"CPU system time\" });\n\n\tthis.register({ name: METRIC.OS_CPU_TOTAL, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_CPU, description: \"Number of CPUs\" });\n\tthis.register({ name: METRIC.OS_CPU_INFO_MODEL, type: METRIC.TYPE_INFO, labelNames: [\"index\"], description: \"CPU model\" });\n\tthis.register({ name: METRIC.OS_CPU_INFO_SPEED, type: METRIC.TYPE_GAUGE, labelNames: [\"index\"], unit: METRIC.UNIT_GHZ, description: \"CPU speed\" });\n\tthis.register({ name: METRIC.OS_CPU_INFO_TIMES_USER, type: METRIC.TYPE_GAUGE, labelNames: [\"index\"], description: \"CPU user time\" });\n\tthis.register({ name: METRIC.OS_CPU_INFO_TIMES_SYS, type: METRIC.TYPE_GAUGE, labelNames: [\"index\"], description: \"CPU system time\" });\n\n\tstartGCWatcher.call(this);\n\tstartEventLoopStats.call(this);\n\n\tthis.logger.debug(`Registered ${this.store.size} common metrics.`);\n}\n\n/**\n * Start GC watcher listener.\n */\nfunction startGCWatcher() {\n// Load `gc-stats` module for GC metrics.\n\ttry {\n\t\tconst gc = (require(\"gc-stats\"))();\n\n\t\t/* istanbul ignore next */\n\t\tif (gc) {\n\t\t\t// --- GARBAGE COLLECTOR METRICS ---\n\n\t\t\tthis.register({ name: METRIC.PROCESS_GC_TIME, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_NANOSECONDS, description: \"GC time\" });\n\t\t\tthis.register({ name: METRIC.PROCESS_GC_TOTAL_TIME, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_MILLISECONDS, description: \"Total time of GC\" });\n\t\t\tthis.register({ name: METRIC.PROCESS_GC_EXECUTED_TOTAL, type: METRIC.TYPE_GAUGE, labelNames: [\"type\"], unit: null, description: \"Number of executed GC\" });\n\n\t\t\tgc.on(\"stats\", stats => {\n\t\t\t\tthis.set(METRIC.PROCESS_GC_TIME, stats.pause);\n\t\t\t\tthis.increment(METRIC.PROCESS_GC_TOTAL_TIME, null, stats.pause / 1e6);\n\t\t\t\tif (stats.gctype == 1)\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"scavenge\" });\n\t\t\t\tif (stats.gctype == 2)\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"marksweep\" });\n\t\t\t\tif (stats.gctype == 4)\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"incremental\" });\n\t\t\t\tif (stats.gctype == 8)\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"weakphantom\" });\n\t\t\t\tif (stats.gctype == 15) {\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"scavenge\" });\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"marksweep\" });\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"incremental\" });\n\t\t\t\t\tthis.increment(METRIC.PROCESS_GC_EXECUTED_TOTAL, { type: \"weakphantom\" });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} catch (e) {\n\t\t// silent\n\t}\n}\n\nfunction startEventLoopStats() {\n\t// Load `event-loop-stats` metric for Event-loop metrics.\n\ttry {\n\t\teventLoop = require(\"event-loop-stats\");\n\t\tif (eventLoop) {\n\t\t\tthis.register({ name: METRIC.PROCESS_EVENTLOOP_LAG_MIN, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_MILLISECONDS, description: \"Minimum of event loop lag\" });\n\t\t\tthis.register({ name: METRIC.PROCESS_EVENTLOOP_LAG_AVG, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_MILLISECONDS, description: \"Average of event loop lag\" });\n\t\t\tthis.register({ name: METRIC.PROCESS_EVENTLOOP_LAG_MAX, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_MILLISECONDS, description: \"Maximum of event loop lag\" });\n\t\t\tthis.register({ name: METRIC.PROCESS_EVENTLOOP_LAG_COUNT, type: METRIC.TYPE_GAUGE, description: \"Number of event loop lag samples.\" });\n\t\t}\n\t} catch (e) {\n\t\t// silent\n\t}\n}\n\n/**\n * Update common metric values.\n *\n * @returns {Promise}\n */\nfunction updateCommonMetrics() {\n\tthis.logger.debug(\"Update common metric values...\");\n\tconst end = this.timer();\n\n\t// --- PROCESS METRICS ---\n\n\tconst procMem = process.memoryUsage();\n\n\tthis.set(METRIC.PROCESS_MEMORY_HEAP_SIZE_TOTAL, procMem.heapTotal);\n\tthis.set(METRIC.PROCESS_MEMORY_HEAP_SIZE_USED, procMem.heapUsed);\n\tthis.set(METRIC.PROCESS_MEMORY_RSS, procMem.rss);\n\tthis.set(METRIC.PROCESS_MEMORY_EXTERNAL, procMem.external);\n\n\tif (v8 && v8.getHeapSpaceStatistics) {\n\t\tconst stat = v8.getHeapSpaceStatistics();\n\t\tstat.forEach(item => {\n\t\t\tconst space = item.space_name;\n\t\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_TOTAL, item.space_size, { space });\n\t\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_USED, item.space_used_size, { space });\n\t\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_AVAILABLE, item.space_available_size, { space });\n\t\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_SPACE_SIZE_PHYSICAL, item.physical_space_size, { space });\n\t\t});\n\t}\n\n\tif (v8 && v8.getHeapStatistics) {\n\t\tconst stat = v8.getHeapStatistics();\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_HEAP_SIZE_TOTAL, stat.total_heap_size);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_EXECUTABLE_SIZE_TOTAL, stat.total_heap_size_executable);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_PHYSICAL_SIZE_TOTAL, stat.total_physical_size);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_AVAILABLE_SIZE_TOTAL, stat.total_available_size);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_USED_HEAP_SIZE, stat.used_heap_size);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_HEAP_SIZE_LIMIT, stat.heap_size_limit);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_MALLOCATED_MEMORY, stat.malloced_memory);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_PEAK_MALLOCATED_MEMORY, stat.peak_malloced_memory);\n\t\tthis.set(METRIC.PROCESS_MEMORY_HEAP_STAT_ZAP_GARBAGE, stat.does_zap_garbage);\n\t}\n\n\tthis.set(METRIC.PROCESS_UPTIME, process.uptime());\n\tthis.set(METRIC.PROCESS_INTERNAL_ACTIVE_HANDLES, process._getActiveHandles().length);\n\tthis.set(METRIC.PROCESS_INTERNAL_ACTIVE_REQUESTS, process._getActiveRequests().length);\n\n\t// --- OS METRICS ---\n\n\tconst freeMem = os.freemem();\n\tconst totalMem = os.totalmem();\n\tconst usedMem = totalMem - freeMem;\n\tthis.set(METRIC.OS_MEMORY_FREE, freeMem);\n\tthis.set(METRIC.OS_MEMORY_USED, usedMem);\n\tthis.set(METRIC.OS_MEMORY_TOTAL, totalMem);\n\tthis.set(METRIC.OS_UPTIME, os.uptime());\n\tthis.set(METRIC.OS_TYPE, os.type());\n\tthis.set(METRIC.OS_RELEASE, os.release());\n\tthis.set(METRIC.OS_HOSTNAME, os.hostname());\n\tthis.set(METRIC.OS_ARCH, os.arch());\n\tthis.set(METRIC.OS_PLATFORM, os.platform());\n\n\t// --- NETWORK INTERFACES ---\n\n\n\tconst getNetworkInterfaces = () =>{\n\t\tconst list = [];\n\t\tconst ilist = [];\n\t\tconst interfaces = os.networkInterfaces();\n\t\tfor (let iface in interfaces) {\n\t\t\tfor (let i in interfaces[iface]) {\n\t\t\t\tconst f = interfaces[iface][i];\n\t\t\t\tif (f.internal) {\n\t\t\t\t\tilist.push({ f,iface });\n\t\t\t\t} else{\n\t\t\t\t\tlist.push({ f,iface });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn list.length > 0 ? list : ilist;\n\t};\n\n\tconst interfaces = getNetworkInterfaces();\n\tfor (let { f,iface } of interfaces) {\n\t\tthis.set(METRIC.OS_NETWORK_ADDRESS, f.address, { interface: iface, family: f.family });\n\t\tthis.set(METRIC.OS_NETWORK_MAC, f.mac, { interface: iface, family: f.family });\n\t}\n\n\tconst d = new Date();\n\tthis.set(METRIC.OS_DATETIME_UNIX, d.valueOf());\n\tthis.set(METRIC.OS_DATETIME_ISO, d.toISOString());\n\tthis.set(METRIC.OS_DATETIME_UTC, d.toUTCString());\n\tthis.set(METRIC.OS_DATETIME_TZ_OFFSET, d.getTimezoneOffset());\n\n\tconst load = os.loadavg();\n\tthis.set(METRIC.OS_CPU_LOAD_1, load[0]);\n\tthis.set(METRIC.OS_CPU_LOAD_5, load[1]);\n\tthis.set(METRIC.OS_CPU_LOAD_15, load[2]);\n\n\tif (eventLoop && eventLoop.sense) {\n\t\tconst stat = eventLoop.sense();\n\t\tthis.set(METRIC.PROCESS_EVENTLOOP_LAG_MIN, stat.min);\n\t\tthis.set(METRIC.PROCESS_EVENTLOOP_LAG_AVG, stat.num ? stat.sum / stat.num : 0);\n\t\tthis.set(METRIC.PROCESS_EVENTLOOP_LAG_MAX, stat.max);\n\t\tthis.set(METRIC.PROCESS_EVENTLOOP_LAG_COUNT, stat.num);\n\t}\n\n\t// this.increment(METRIC.MOLECULER_METRICS_COMMON_COLLECT_TOTAL);\n\tconst duration = end();\n\n\treturn this.broker.Promise.resolve()\n\t\t.then(() => cpuUsage().then(res => {\n\t\t\tthis.set(METRIC.OS_CPU_UTILIZATION, res.avg);\n\n\t\t\ttry {\n\t\t\t\tconst cpus = os.cpus();\n\t\t\t\tthis.set(METRIC.OS_CPU_TOTAL, cpus.length);\n\t\t\t\tthis.set(METRIC.OS_CPU_USER, cpus.reduce((a,b) => a + b.times.user, 0));\n\t\t\t\tthis.set(METRIC.OS_CPU_SYSTEM, cpus.reduce((a,b) => a + b.times.sys, 0));\n\n\t\t\t\tcpus.forEach((cpu, index) => {\n\t\t\t\t\tthis.set(METRIC.OS_CPU_INFO_MODEL, cpu.model, { index });\n\t\t\t\t\tthis.set(METRIC.OS_CPU_INFO_SPEED, cpu.speed, { index });\n\t\t\t\t\tthis.set(METRIC.OS_CPU_INFO_TIMES_USER, cpu.times.user, { index });\n\t\t\t\t\tthis.set(METRIC.OS_CPU_INFO_TIMES_SYS, cpu.times.sys, { index });\n\t\t\t\t});\n\n\t\t\t} catch(err) {\n\t\t\t\t// silent\n\t\t\t}\n\t\t}))\n\t\t.catch(() => {\n\t\t\t// silent this.logger.warn(\"Unable to collect CPU usage metrics.\", err);\n\t\t})\n\t\t.then(() => {\n\t\t\tthis.logger.debug(`Collected common metric values in ${duration.toFixed(3)} msec.`);\n\t\t});\n}\n\n/**\n * Get OS user info (safe-mode)\n *\n * @returns\n */\nfunction getUserInfo() {\n\ttry {\n\t\treturn os.userInfo();\n\t} catch (e) {\n\t\t/* istanbul ignore next */\n\t\treturn {};\n\t}\n}\n\n/**\n * Measure event loop lag.\n *\n * @returns {Promise<Number>}\n *\nfunction measureEventLoopLag() {\n\treturn new Promise(resolve => {\n\t\tconst start = process.hrtime();\n\t\tsetImmediate(() => {\n\t\t\tconst delta = process.hrtime(start);\n\t\t\tresolve(delta[0] * 1e9 + delta[1]);\n\t\t});\n\t});\n}*/\n\nmodule.exports = {\n\tregisterCommonMetrics,\n\tupdateCommonMetrics\n};\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { match, isFunction, isPlainObject, isString } = require(\"../utils\");\nconst METRIC = require(\"./constants\");\nconst Types = require(\"./types\");\nconst Reporters = require(\"./reporters\");\nconst { registerCommonMetrics, updateCommonMetrics } = require(\"./commons\");\n\nconst METRIC_NAME_REGEXP \t= /^[a-zA-Z_][a-zA-Z0-9-_:.]*$/;\nconst METRIC_LABEL_REGEXP \t= /^[a-zA-Z_][a-zA-Z0-9-_.]*$/;\n\n/**\n * Metric Registry class\n */\nclass MetricRegistry {\n\n\t/**\n\t * Creates an instance of MetricRegistry.\n\t *\n\t * @param {ServiceBroker} broker\n\t * @param {Object} opts\n\t * @memberof MetricRegistry\n\t */\n\tconstructor(broker, opts) {\n\t\tthis.broker = broker;\n\t\tthis.logger = broker.getLogger(\"metrics\");\n\n\t\tthis.dirty = true;\n\n\t\tif (opts === true || opts === false)\n\t\t\topts = { enabled: opts };\n\n\t\tthis.opts = _.defaultsDeep({}, opts, {\n\t\t\tenabled: true,\n\t\t\tcollectProcessMetrics: process.env.NODE_ENV !== \"test\",\n\t\t\tcollectInterval: 5,\n\n\t\t\treporter: false,\n\n\t\t\tdefaultBuckets: [1, 5, 10, 25, 50, 100, 250, 500, 1000, 2500, 5000, 10000], // in milliseconds\n\t\t\tdefaultQuantiles: [0.5, 0.9, 0.95, 0.99, 0.999], // percentage\n\t\t\tdefaultMaxAgeSeconds: 60,\n\t\t\tdefaultAgeBuckets: 10,\n\t\t\tdefaultAggregator: \"sum\"\n\t\t});\n\n\t\tthis.store = new Map();\n\n\t\tif (this.opts.enabled)\n\t\t\tthis.logger.info(\"Metrics: Enabled\");\n\t}\n\n\t/**\n\t * Initialize Registry.\n\t */\n\tinit() {\n\t\tif (this.opts.enabled) {\n\n\t\t\t// Create Reporter instances\n\t\t\tif (this.opts.reporter) {\n\t\t\t\tconst reporters = Array.isArray(this.opts.reporter) ? this.opts.reporter : [this.opts.reporter];\n\n\t\t\t\tthis.reporter = _.compact(reporters).map(r => {\n\t\t\t\t\tconst reporter = Reporters.resolve(r);\n\t\t\t\t\treporter.init(this);\n\t\t\t\t\treturn reporter;\n\t\t\t\t});\n\n\t\t\t\tconst reporterNames = this.reporter.map(reporter => this.broker.getConstructorName(reporter));\n\t\t\t\tthis.logger.info(`Metric reporter${reporterNames.length > 1 ? \"s\" : \"\"}: ${reporterNames.join(\", \")}`);\n\t\t\t}\n\n\t\t\t// Start colllect timer\n\t\t\tif (this.opts.collectProcessMetrics) {\n\t\t\t\tthis.collectTimer = setInterval(() => {\n\t\t\t\t\tupdateCommonMetrics.call(this);\n\t\t\t\t}, this.opts.collectInterval * 1000);\n\t\t\t\tthis.collectTimer.unref();\n\n\t\t\t\tregisterCommonMetrics.call(this);\n\t\t\t\tupdateCommonMetrics.call(this);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Stop Metric Registry\n\t */\n\tstop() {\n\t\tif (this.collectTimer) {\n\t\t\tclearInterval(this.collectTimer);\n\t\t}\n\n\t\tif (this.reporter) {\n\t\t\treturn this.broker.Promise.all(this.reporter.map(r => r.stop()));\n\t\t}\n\t}\n\n\t/**\n\t * Check metric is enabled?\n\t *\n\t * @returns\n\t * @memberof MetricRegistry\n\t */\n\tisEnabled() {\n\t\treturn this.opts.enabled;\n\t}\n\n\t/**\n\t * Register a new metric.\n\t *\n\t * @param {Object} opts\n\t * @returns {BaseMetric}\n\t * @memberof MetricRegistry\n\t */\n\tregister(opts) {\n\t\tif (!isPlainObject(opts))\n\t\t\tthrow new Error(\"Wrong argument. Must be an Object.\");\n\n\t\tif (!opts.type)\n\t\t\tthrow new Error(\"The metric 'type' property is mandatory.\");\n\n\t\tif (!opts.name)\n\t\t\tthrow new Error(\"The metric 'name' property is mandatory.\");\n\n\t\tif (!METRIC_NAME_REGEXP.test(opts.name))\n\t\t\tthrow new Error(\"The metric 'name' is not valid: \" + opts.name);\n\n\t\tif (Array.isArray(opts.labelNames)) {\n\t\t\topts.labelNames.forEach(name => {\n\t\t\t\tif (!METRIC_LABEL_REGEXP.test(name))\n\t\t\t\t\tthrow new Error(`The '${opts.name}' metric label name is not valid: ${name}`);\n\n\t\t\t});\n\t\t}\n\n\t\tconst MetricClass = Types.resolve(opts.type);\n\n\t\tif (!this.opts.enabled)\n\t\t\treturn null;\n\n\t\tconst item = new MetricClass(opts, this);\n\t\tthis.store.set(opts.name, item);\n\t\treturn item;\n\t}\n\n\t/**\n\t * Check a metric by name.\n\t *\n\t * @param {String} name\n\t * @returns {Boolean}\n\t * @memberof MetricRegistry\n\t */\n\thasMetric(name) {\n\t\treturn this.store.has(name);\n\t}\n\n\t/**\n\t * Get metric by name\n\t *\n\t * @param {String} name\n\t * @returns {BaseMetric}\n\t * @memberof MetricRegistry\n\t */\n\tgetMetric(name) {\n\t\tconst item = this.store.get(name);\n\t\tif (!item)\n\t\t\treturn null;\n\n\t\treturn item;\n\t}\n\n\t/**\n\t * Increment a metric value.\n\t *\n\t * @param {String} name\n\t * @param {Object?} labels\n\t * @param {number} [value=1]\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof MetricRegistry\n\t */\n\tincrement(name, labels, value = 1, timestamp) {\n\t\tif (!this.opts.enabled)\n\t\t\treturn null;\n\n\t\tconst item = this.getMetric(name);\n\t\tif (!isFunction(item.increment))\n\t\t\tthrow new Error(\"Invalid metric type. Incrementing works only with counter & gauge metric types.\");\n\n\t\treturn item.increment(labels, value, timestamp);\n\t}\n\n\t/**\n\t * Decrement a metric value.\n\t *\n\t * @param {String} name\n\t * @param {Object?} labels\n\t * @param {number} [value=1]\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof MetricRegistry\n\t */\n\tdecrement(name, labels, value = 1, timestamp) {\n\t\tif (!this.opts.enabled)\n\t\t\treturn null;\n\n\t\tconst item = this.getMetric(name);\n\t\tif (!isFunction(item.decrement))\n\t\t\tthrow new Error(\"Invalid metric type. Decrementing works only with gauge metric type.\");\n\n\t\treturn item.decrement(labels, value, timestamp);\n\t}\n\n\t/**\n\t * Set a metric value.\n\t *\n\t * @param {String} name\n\t * @param {*} value\n\t * @param {Object?} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof MetricRegistry\n\t */\n\tset(name, value, labels, timestamp) {\n\t\tif (!this.opts.enabled)\n\t\t\treturn null;\n\n\t\tconst item = this.getMetric(name);\n\t\tif (!isFunction(item.set))\n\t\t\tthrow new Error(\"Invalid metric type. Value setting works only with counter, gauge & info metric types.\");\n\n\t\treturn item.set(value, labels, timestamp);\n\t}\n\n\t/**\n\t * Observe a metric.\n\t *\n\t * @param {String} name\n\t * @param {Number} value\n\t * @param {Object?} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof MetricRegistry\n\t */\n\tobserve(name, value, labels, timestamp) {\n\t\tif (!this.opts.enabled)\n\t\t\treturn null;\n\n\t\tconst item = this.getMetric(name);\n\t\tif (!isFunction(item.observe))\n\t\t\tthrow new Error(\"Invalid metric type. Observing works only with histogram metric type.\");\n\n\t\treturn item.observe(value, labels, timestamp);\n\t}\n\n\t/**\n\t * Reset metric values.\n\t *\n\t * @param {String} name\n\t * @param {Object?} labels\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof MetricRegistry\n\t */\n\treset(name, labels, timestamp) {\n\t\tif (!this.opts.enabled)\n\t\t\treturn null;\n\n\t\tconst item = this.getMetric(name);\n\t\titem.reset(labels, timestamp);\n\t}\n\n\t/**\n\t * Reset metric all values.\n\t *\n\t * @param {String} name\n\t * @param {Number?} timestamp\n\t * @returns\n\t * @memberof MetricRegistry\n\t */\n\tresetAll(name, timestamp) {\n\t\tif (!this.opts.enabled)\n\t\t\treturn null;\n\n\t\tconst item = this.getMetric(name);\n\t\titem.resetAll(timestamp);\n\t}\n\n\t/**\n\t * Start a timer & observe the elapsed time.\n\t *\n\t * @param {String} name\n\t * @param {Object?} labels\n\t * @param {Number?} timestamp\n\t * @returns {Function} `end`˙function.\n\t * @memberof MetricRegistry\n\t */\n\ttimer(name, labels, timestamp) {\n\t\tlet item;\n\t\tif (name && this.opts.enabled) {\n\t\t\titem = this.getMetric(name);\n\t\t\tif (!isFunction(item.observe) && !isFunction(item.set)) {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthrow new Error(\"Invalid metric type. Timing works only with histogram or gauge metric types\");\n\t\t\t}\n\t\t}\n\n\t\tconst start = process.hrtime();\n\t\treturn () => {\n\t\t\tconst delta = process.hrtime(start);\n\t\t\tconst duration = (delta[0] + delta[1] / 1e9) * 1000;\n\n\t\t\tif (item) {\n\t\t\t\tif (item.type == METRIC.TYPE_HISTOGRAM)\n\t\t\t\t\titem.observe(duration, labels, timestamp);\n\t\t\t\telse if (item.type == METRIC.TYPE_GAUGE)\n\t\t\t\t\titem.set(duration, labels, timestamp);\n\t\t\t}\n\n\t\t\treturn duration;\n\t\t};\n\t}\n\n\t/**\n\t * Some metric has been changed.\n\t *\n\t * @param {BaseMetric} metric\n\t * @param {any} value\n\t * @param {Object} labels\n\t * @param {Number?} timestamp\n\t *\n\t * @memberof MetricRegistry\n\t */\n\tchanged(metric, value, labels, timestamp) {\n\t\tthis.dirty = true;\n\t\tif (Array.isArray(this.reporter))\n\t\t\tthis.reporter.forEach(reporter => reporter.metricChanged(metric, value, labels, timestamp));\n\t}\n\n\t/**\n\t * List all registered metrics with labels & values.\n\t *\n\t * @param {Object?} opts\n\t * @param {String|Array<String>|null} opts.types\n\t * @param {String|Array<String>|null} opts.includes\n\t * @param {String|Array<String>|null} opts.excludes\n\t */\n\tlist(opts) {\n\t\tconst res = [];\n\t\topts = opts || {};\n\n\t\tconst types = opts.types != null ? (isString(opts.types) ? [opts.types] : opts.types) : null;\n\t\tconst includes = opts.includes != null ? (isString(opts.includes) ? [opts.includes] : opts.includes) : null;\n\t\tconst excludes = opts.excludes != null ? (isString(opts.excludes) ? [opts.excludes] : opts.excludes) : null;\n\n\t\tthis.store.forEach(metric => {\n\t\t\tif (types && !types.some(type => metric.type == type))\n\t\t\t\treturn;\n\n\t\t\tif (includes && !includes.some(pattern => match(metric.name, pattern)))\n\t\t\t\treturn;\n\n\t\t\tif (excludes && !excludes.every(pattern => !match(metric.name, pattern)))\n\t\t\t\treturn;\n\n\t\t\tres.push(metric.toObject());\n\t\t});\n\n\t\treturn res;\n\t}\n\n\n\t/**\n\t * Pluralize metric units.\n\t *\n\t * @param {String} unit\n\t * @returns {String}\n\t */\n\tpluralizeUnit(unit) {\n\t\tswitch(unit) {\n\t\t\tcase METRIC.UNIT_GHZ:\n\t\t\t\treturn unit;\n\t\t}\n\t\treturn unit + \"s\";\n\t}\n}\n\nmodule.exports = MetricRegistry;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst METRIC = require(\"./constants\");\n\nconst MetricRegistry = require(\"./registry\");\nconst BaseMetric = require(\"./types/base\");\nconst CounterMetric = require(\"./types/counter\");\nconst GaugeMetric = require(\"./types/gauge\");\nconst HistrogramMetric = require(\"./types/histogram\");\nconst InfoMetric = require(\"./types/info\");\n\nconst Reporters = require(\"./reporters\");\n\nmodule.exports = {\n\tMETRIC: METRIC,\n\n\tMetricRegistry,\n\n\tBaseMetric,\n\tCounterMetric,\n\tGaugeMetric,\n\tHistrogramMetric,\n\tInfoMetric,\n\n\tReporters\n};\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst P \t\t\t\t= require(\"./packets\");\nconst { Packet } \t\t= require(\"./packets\");\nconst E \t\t\t\t= require(\"./errors\");\n\nconst { Transform } \t= require(\"stream\");\nconst { METRIC }\t\t= require(\"./metrics\");\n\n/**\n * Transit class\n *\n * @class Transit\n */\nclass Transit {\n\n\t/**\n\t * Create an instance of Transit.\n\t *\n\t * @param {ServiceBroker} Broker instance\n\t * @param {Transporter} Transporter instance\n\t * @param {Object?} opts\n\t *\n\t * @memberof Transit\n\t */\n\tconstructor(broker, transporter, opts) {\n\t\tthis.broker = broker;\n\t\tthis.Promise = broker.Promise;\n\t\tthis.logger = broker.getLogger(\"transit\");\n\t\tthis.nodeID = broker.nodeID;\n\t\tthis.metrics = broker.metrics;\n\t\tthis.instanceID = broker.instanceID;\n\t\tthis.tx = transporter;\n\t\tthis.opts = opts;\n\t\tthis.discoverer = broker.registry.discoverer;\n\n\t\tthis.pendingRequests = new Map();\n\t\tthis.pendingReqStreams = new Map();\n\t\tthis.pendingResStreams = new Map();\n\n\t\t/* deprecated */\n\t\tthis.stat = {\n\t\t\tpackets: {\n\t\t\t\tsent: {\n\t\t\t\t\tcount: 0,\n\t\t\t\t\tbytes: 0\n\t\t\t\t},\n\t\t\t\treceived: {\n\t\t\t\t\tcount: 0,\n\t\t\t\t\tbytes: 0\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.connected = false;\n\t\tthis.disconnecting = false;\n\t\tthis.isReady = false;\n\n\t\tconst wrappedMessageHandler = (cmd, packet) => this.messageHandler(cmd, packet);\n\n\t\tthis.publish = this.broker.wrapMethod(\"transitPublish\", this.publish, this);\n\t\tthis.messageHandler = this.broker.wrapMethod(\"transitMessageHandler\", this.messageHandler, this);\n\n\n\t\tif (this.tx) {\n\t\t\tthis.tx.init(this, wrappedMessageHandler, this.afterConnect.bind(this));\n\n\t\t\tthis.tx.send = this.broker.wrapMethod(\"transporterSend\", this.tx.send, this.tx);\n\t\t\tthis.tx.receive = this.broker.wrapMethod(\"transporterReceive\", this.tx.receive, this.tx, { reverse: true });\n\t\t}\n\n\t\tthis.__connectResolve = null;\n\n\t\tthis.registerMoleculerMetrics();\n\t}\n\n\t/**\n\t * Register Moleculer Transit Core metrics.\n\t */\n\tregisterMoleculerMetrics() {\n\t\tif (!this.broker.isMetricsEnabled()) return;\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_TRANSIT_READY, type: METRIC.TYPE_GAUGE, description: \"Transit is ready\" }).set(0);\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_TRANSIT_CONNECTED, type: METRIC.TYPE_GAUGE, description: \"Transit is connected\" }).set(0);\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_TRANSIT_PONG_TIME, type: METRIC.TYPE_GAUGE, labelNames: [\"targetNodeID\"], description: \"Ping time\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_TRANSIT_PONG_SYSTIME_DIFF, type: METRIC.TYPE_GAUGE, labelNames: [\"targetNodeID\"], description: \"System time difference between nodes\" });\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_TRANSIT_ORPHAN_RESPONSE_TOTAL, type: METRIC.TYPE_COUNTER, description: \"Number of orphan responses\" });\n\t}\n\n\t/**\n\t * It will be called after transporter connected or reconnected.\n\t *\n\t * @param {any} wasReconnect\n\t * @returns {Promise}\n\t *\n\t * @memberof Transit\n\t */\n\tafterConnect(wasReconnect) {\n\t\treturn this.Promise.resolve()\n\n\t\t\t.then(() => {\n\t\t\t\tif (wasReconnect) {\n\t\t\t\t\t// After reconnecting, we should send a broadcast INFO packet because there may new nodes.\n\t\t\t\t\t// In case of disabled balancer, it triggers the `makeBalancedSubscriptions` method.\n\t\t\t\t\treturn this.discoverer.sendLocalNodeInfo();\n\t\t\t\t} else {\n\t\t\t\t\t// After connecting we should subscribe to topics\n\t\t\t\t\treturn this.makeSubscriptions();\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.then(() => this.discoverer.discoverAllNodes())\n\t\t\t.delay(500) // Waiting for incoming INFO packets\n\n\t\t\t.then(() => {\n\t\t\t\tthis.connected = true;\n\t\t\t\tthis.metrics.set(METRIC.MOLECULER_TRANSIT_CONNECTED, 1);\n\n\t\t\t\tthis.broker.broadcastLocal(\"$transporter.connected\", { wasReconnect: !!wasReconnect });\n\n\t\t\t\tif (this.__connectResolve) {\n\t\t\t\t\tthis.__connectResolve();\n\t\t\t\t\tthis.__connectResolve = null;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n\n\t/**\n\t * Connect with transporter. If failed, try again after 5 sec.\n\t *\n\t * @memberof Transit\n\t */\n\tconnect() {\n\t\tthis.logger.info(\"Connecting to the transporter...\");\n\t\treturn new this.Promise(resolve => {\n\t\t\tthis.__connectResolve = resolve;\n\n\t\t\tconst doConnect = () => {\n\t\t\t\tlet reconnectStarted = false;\n\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tconst errorHandler = (err) => {\n\t\t\t\t\tif (this.disconnecting) return;\n\t\t\t\t\tif (reconnectStarted) return;\n\n\t\t\t\t\tthis.logger.warn(\"Connection is failed.\", err && err.message || \"Unknown error\");\n\t\t\t\t\tthis.logger.debug(err);\n\n\t\t\t\t\tif (this.opts.disableReconnect) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\treconnectStarted = true;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.logger.info(\"Reconnecting...\");\n\t\t\t\t\t\tdoConnect();\n\t\t\t\t\t}, 5 * 1000);\n\t\t\t\t};\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthis.tx.connect(errorHandler).catch(errorHandler);\n\t\t\t};\n\n\t\t\tdoConnect();\n\n\t\t});\n\t}\n\n\t/**\n\t * Disconnect with transporter\n\t *\n\t * @memberof Transit\n\t */\n\tdisconnect() {\n\t\tthis.connected = false;\n\t\tthis.isReady = false;\n\t\tthis.disconnecting = true;\n\t\tthis.metrics.set(METRIC.MOLECULER_TRANSIT_CONNECTED, 0);\n\n\t\tthis.broker.broadcastLocal(\"$transporter.disconnected\", { graceFul: true });\n\n\t\treturn this.Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tif (this.tx.connected) {\n\t\t\t\t\treturn this.discoverer.localNodeDisconnected()\n\t\t\t\t\t\t.then(() => this.tx.disconnect());\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => this.disconnecting = false);\n\t}\n\n\t/**\n\t * Local broker is ready (all services loaded).\n\t * Send INFO packet to all other nodes\n\t */\n\tready() {\n\t\tif (this.connected) {\n\t\t\tthis.isReady = true;\n\t\t\tthis.metrics.set(METRIC.MOLECULER_TRANSIT_READY, 1);\n\t\t\treturn this.discoverer.localNodeReady();\n\t\t}\n\t}\n\n\t/**\n\t * Send DISCONNECT to remote nodes\n\t *\n\t * @returns {Promise}\n\t *\n\t * @memberof Transit\n\t */\n\tsendDisconnectPacket() {\n\t\treturn this.publish(new Packet(P.PACKET_DISCONNECT)).catch(/* istanbul ignore next */ err => this.logger.debug(\"Unable to send DISCONNECT packet.\", err));\n\t}\n\n\t/**\n\t * Subscribe to topics for transportation\n\t *\n\t * @memberof Transit\n\t */\n\tmakeSubscriptions() {\n\t\tthis.subscribing = this.tx.makeSubscriptions([\n\n\t\t\t// Subscribe to broadcast events\n\t\t\t{ cmd: P.PACKET_EVENT, nodeID: this.nodeID },\n\n\t\t\t// Subscribe to requests\n\t\t\t{ cmd: P.PACKET_REQUEST, nodeID: this.nodeID },\n\n\t\t\t// Subscribe to node responses of requests\n\t\t\t{ cmd: P.PACKET_RESPONSE, nodeID: this.nodeID },\n\n\t\t\t// Discover handler\n\t\t\t{ cmd: P.PACKET_DISCOVER },\n\t\t\t{ cmd: P.PACKET_DISCOVER, nodeID: this.nodeID },\n\n\t\t\t// NodeInfo handler\n\t\t\t{ cmd: P.PACKET_INFO }, // Broadcasted INFO. If a new node connected\n\t\t\t{ cmd: P.PACKET_INFO, nodeID: this.nodeID }, // Response INFO to DISCOVER packet\n\n\t\t\t// Disconnect handler\n\t\t\t{ cmd: P.PACKET_DISCONNECT },\n\n\t\t\t// Heartbeat handler\n\t\t\t{ cmd: P.PACKET_HEARTBEAT },\n\n\t\t\t// Ping handler\n\t\t\t{ cmd: P.PACKET_PING }, // Broadcasted\n\t\t\t{ cmd: P.PACKET_PING, nodeID: this.nodeID }, // Targeted\n\n\t\t\t// Pong handler\n\t\t\t{ cmd: P.PACKET_PONG, nodeID: this.nodeID }\n\n\t\t]).then(() => {\n\t\t\tthis.subscribing = null;\n\t\t});\n\n\t\treturn this.subscribing;\n\t}\n\n\t/**\n\t * Message handler for incoming packets\n\t *\n\t * @param {Array} topic\n\t * @param {String} msg\n\t * @returns {Boolean} If packet is processed return with `true`\n\t *\n\t * @memberof Transit\n\t */\n\tmessageHandler(cmd, packet) {\n\t\ttry {\n\t\t\tconst payload = packet.payload;\n\n\t\t\t// Check payload\n\t\t\tif (!payload) {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthrow new E.MoleculerServerError(\"Missing response payload.\", 500, \"MISSING_PAYLOAD\");\n\t\t\t}\n\n\t\t\t// Check protocol version\n\t\t\tif (payload.ver !== this.broker.PROTOCOL_VERSION && !this.opts.disableVersionCheck) {\n\t\t\t\tthrow new E.ProtocolVersionMismatchError({\n\t\t\t\t\tnodeID: payload.sender,\n\t\t\t\t\tactual: this.broker.PROTOCOL_VERSION,\n\t\t\t\t\treceived: payload.ver\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (payload.sender === this.nodeID) {\n\n\t\t\t\t// Detect nodeID conflict\n\t\t\t\tif (cmd === P.PACKET_INFO && payload.instanceID !== this.instanceID) {\n\t\t\t\t\treturn this.broker.fatal(\"ServiceBroker has detected a nodeID conflict, use unique nodeIDs. ServiceBroker stopped.\");\n\t\t\t\t}\n\n\t\t\t\t// Skip own packets (if only built-in balancer disabled)\n\t\t\t\tif (cmd !== P.PACKET_EVENT && cmd !== P.PACKET_REQUEST && cmd !== P.PACKET_RESPONSE)\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Request\n\t\t\tif (cmd === P.PACKET_REQUEST) {\n\t\t\t\treturn this.requestHandler(payload);\n\t\t\t}\n\n\t\t\t// Response\n\t\t\telse if (cmd === P.PACKET_RESPONSE) {\n\t\t\t\tthis.responseHandler(payload);\n\t\t\t}\n\n\t\t\t// Event\n\t\t\telse if (cmd === P.PACKET_EVENT) {\n\t\t\t\tthis.eventHandler(payload);\n\t\t\t}\n\n\t\t\t// Discover\n\t\t\telse if (cmd === P.PACKET_DISCOVER) {\n\t\t\t\tthis.discoverer.sendLocalNodeInfo(payload.sender);\n\t\t\t}\n\n\t\t\t// Node info\n\t\t\telse if (cmd === P.PACKET_INFO) {\n\t\t\t\tthis.discoverer.processRemoteNodeInfo(payload.sender, payload);\n\t\t\t}\n\n\t\t\t// Disconnect\n\t\t\telse if (cmd === P.PACKET_DISCONNECT) {\n\t\t\t\tthis.discoverer.remoteNodeDisconnected(payload.sender, false);\n\t\t\t}\n\n\t\t\t// Heartbeat\n\t\t\telse if (cmd === P.PACKET_HEARTBEAT) {\n\t\t\t\tthis.discoverer.heartbeatReceived(payload.sender, payload);\n\t\t\t}\n\n\t\t\t// Ping\n\t\t\telse if (cmd === P.PACKET_PING) {\n\t\t\t\tthis.sendPong(payload);\n\t\t\t}\n\n\t\t\t// Pong\n\t\t\telse if (cmd === P.PACKET_PONG) {\n\t\t\t\tthis.processPong(payload);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t} catch (err) {\n\t\t\tthis.logger.error(err, cmd, packet);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Handle incoming event\n\t *\n\t * @param {any} payload\n\t * @memberof Transit\n\t */\n\teventHandler(payload) {\n\t\tthis.logger.debug(`Event '${payload.event}' received from '${payload.sender}' node` + (payload.groups ? ` in '${payload.groups.join(\", \")}' group(s)` : \"\") + \".\");\n\n\t\tif (!this.broker.started) {\n\t\t\tthis.logger.warn(`Incoming '${payload.event}' event from '${payload.sender}' node is dropped, because broker is stopped.`);\n\t\t\treturn;\n\t\t}\n\n\t\t// Create caller context\n\t\tconst ctx = new this.broker.ContextFactory(this.broker);\n\t\tctx.id = payload.id;\n\t\tctx.eventName = payload.event;\n\t\tctx.setParams(payload.data, this.broker.options.contextParamsCloning);\n\t\tctx.eventGroups = payload.groups;\n\t\tctx.eventType = payload.broadcast ? \"broadcast\" : \"emit\";\n\t\tctx.meta = payload.meta || {};\n\t\tctx.level = payload.level;\n\t\tctx.tracing = !!payload.tracing;\n\t\tctx.parentID = payload.parentID;\n\t\tctx.requestID = payload.requestID;\n\t\tctx.caller = payload.caller;\n\t\tctx.nodeID = payload.sender;\n\n\t\tthis.broker.emitLocalServices(ctx);\n\t}\n\n\t/**\n\t * Handle incoming request\n\t *\n\t * @param {Object} payload\n\t *\n\t * @memberof Transit\n\t */\n\trequestHandler(payload) {\n\t\tthis.logger.debug(`<= Request '${payload.action}' received from '${payload.sender}' node.`);\n\n\t\ttry {\n\t\t\tif (!this.broker.started) {\n\t\t\t\tthis.logger.warn(`Incoming '${payload.action}' request from '${payload.sender}' node is dropped because broker is stopped.`);\n\t\t\t\tthrow new E.ServiceNotAvailableError({ action: payload.action, nodeID: this.nodeID });\n\t\t\t}\n\n\t\t\tlet pass;\n\t\t\tif (payload.stream !== undefined) {\n\t\t\t\tpass = this._handleIncomingRequestStream(payload);\n\t\t\t\tif (pass === null) // eslint-disable-line security/detect-possible-timing-attacks\n\t\t\t\t\treturn this.Promise.resolve();\n\t\t\t}\n\n\t\t\tconst endpoint = this.broker._getLocalActionEndpoint(payload.action);\n\n\t\t\t// Recreate caller context\n\t\t\tconst ctx = new this.broker.ContextFactory(this.broker);\n\t\t\tctx.setEndpoint(endpoint);\n\t\t\tctx.id = payload.id;\n\t\t\tctx.setParams(pass ? pass : payload.params, this.broker.options.contextParamsCloning);\n\t\t\tctx.parentID = payload.parentID;\n\t\t\tctx.requestID = payload.requestID;\n\t\t\tctx.caller = payload.caller;\n\t\t\tctx.meta = payload.meta || {};\n\t\t\tctx.level = payload.level;\n\t\t\tctx.tracing = payload.tracing;\n\t\t\tctx.nodeID = payload.sender;\n\n\t\t\tif (payload.timeout != null)\n\t\t\t\tctx.options.timeout = payload.timeout;\n\n\t\t\tconst p = endpoint.action.handler(ctx);\n\t\t\t// Pointer to Context\n\t\t\tp.ctx = ctx;\n\n\t\t\treturn p\n\t\t\t\t.then(res => this.sendResponse(payload.sender, payload.id, ctx.meta, res, null))\n\t\t\t\t.catch(err => this.sendResponse(payload.sender, payload.id, ctx.meta, null, err));\n\n\t\t} catch (err) {\n\t\t\treturn this.sendResponse(payload.sender, payload.id, payload.meta, null, err);\n\t\t}\n\t}\n\n\t/**\n\t * Handle incoming request stream.\n\t *\n\t * @param {Object} payload\n\t * @returns {Stream}\n\t */\n\t_handleIncomingRequestStream(payload) {\n\t\tlet pass = this.pendingReqStreams.get(payload.id);\n\t\tlet isNew = false;\n\n\t\tif (!payload.stream && !pass) {\n\t\t\t// It is not a stream data\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!pass) {\n\t\t\tisNew = true;\n\t\t\tthis.logger.debug(`<= New stream is received from '${payload.sender}'. Seq: ${payload.seq}`);\n\n\t\t\t// Create a new pass stream\n\t\t\tpass = new Transform({\n\t\t\t\tobjectMode: payload.meta && payload.meta[\"$streamObjectMode\"],\n\t\t\t\ttransform: function(chunk, encoding, done) {\n\t\t\t\t\tthis.push(chunk);\n\t\t\t\t\treturn done();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpass.$prevSeq = -1;\n\t\t\tpass.$pool = new Map();\n\n\t\t\tthis.pendingReqStreams.set(payload.id, pass);\n\t\t}\n\n\t\tif (payload.seq > pass.$prevSeq + 1) {\n\t\t\t// Some chunks are late. Store these chunks.\n\t\t\tthis.logger.info(`Put the chunk into pool (size: ${pass.$pool.size}). Seq: ${payload.seq}`);\n\n\t\t\tpass.$pool.set(payload.seq, payload);\n\n\t\t\t// TODO: start timer.\n\t\t\t// TODO: check length of pool.\n\t\t\t// TODO: reset seq\n\n\t\t\treturn isNew ? pass : null;\n\t\t}\n\n\t\t// the next stream chunk received\n\t\tpass.$prevSeq = payload.seq;\n\n\t\tif (pass.$prevSeq > 0) {\n\t\t\tif (!payload.stream) {\n\n\t\t\t\t// Check stream error\n\t\t\t\tif (payload.meta && payload.meta[\"$streamError\"]) {\n\t\t\t\t\tpass.emit(\"error\", this._createErrFromPayload(payload.meta[\"$streamError\"], payload.sender));\n\t\t\t\t}\n\n\t\t\t\tthis.logger.debug(`<= Stream closing is received from '${payload.sender}'. Seq: ${payload.seq}`);\n\n\t\t\t\t// End of stream\n\t\t\t\tpass.end();\n\n\t\t\t\t// Remove pending request stream\n\t\t\t\tthis.pendingReqStreams.delete(payload.id);\n\n\t\t\t\treturn null;\n\n\t\t\t} else {\n\t\t\t\tthis.logger.debug(`<= Stream chunk is received from '${payload.sender}'. Seq: ${payload.seq}`);\n\t\t\t\tpass.write(payload.params.type === \"Buffer\" ? Buffer.from(payload.params.data) : payload.params);\n\t\t\t}\n\t\t}\n\n\t\t// Check newer chunks in the pool\n\t\tif (pass.$pool.size > 0) {\n\t\t\tthis.logger.warn(`Has stored packets. Size: ${pass.$pool.size}`);\n\t\t\tconst nextSeq = pass.$prevSeq + 1;\n\t\t\tconst nextPacket = pass.$pool.get(nextSeq);\n\t\t\tif (nextPacket) {\n\t\t\t\tpass.$pool.delete(nextSeq);\n\t\t\t\tsetImmediate(() => this.requestHandler(nextPacket));\n\t\t\t}\n\t\t}\n\n\t\treturn isNew ? pass : null;\n\t}\n\n\t/**\n\t * Create an Error instance from payload ata\n\t * @param {Object} error\n\t * @param {String} sender\n\t */\n\t_createErrFromPayload(error, sender) {\n\t\tlet err = E.recreateError(error);\n\t\tif (!err) {\n\t\t\terr = new Error(error.message);\n\t\t\terr.name = error.name;\n\t\t\terr.code = error.code;\n\t\t\terr.type = error.type;\n\t\t\terr.data = error.data;\n\t\t}\n\t\terr.retryable = error.retryable;\n\t\terr.nodeID = error.nodeID || sender;\n\n\t\tif (error.stack)\n\t\t\terr.stack = error.stack;\n\n\t\treturn err;\n\t}\n\n\t/**\n\t * Process incoming response of request\n\t *\n\t * @param {Object} packet\n\t *\n\t * @memberof Transit\n\t */\n\tresponseHandler(packet) {\n\t\tconst id = packet.id;\n\t\tconst req = this.pendingRequests.get(id);\n\n\t\t// If not exists (timed out), we skip response processing\n\t\tif (req == null) {\n\t\t\tthis.logger.debug(\"Orphan response is received. Maybe the request is timed out earlier. ID:\", packet.id, \", Sender:\", packet.sender);\n\t\t\tthis.metrics.increment(METRIC.MOLECULER_TRANSIT_ORPHAN_RESPONSE_TOTAL);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.logger.debug(`<= Response '${req.action.name}' is received from '${packet.sender}'.`);\n\n\t\t// Update nodeID in context (if it uses external balancer)\n\t\treq.ctx.nodeID = packet.sender;\n\n\t\t// Merge response meta with original meta\n\t\tObject.assign(req.ctx.meta || {}, packet.meta || {});\n\n\t\t// Handle stream response\n\t\tif (packet.stream != null) {\n\t\t\tif (this._handleIncomingResponseStream(packet, req))\n\t\t\t\treturn;\n\t\t}\n\n\t\t// Remove pending request\n\t\tthis.removePendingRequest(id);\n\n\t\tif (!packet.success) {\n\t\t\treq.reject(this._createErrFromPayload(packet.error, packet.sender));\n\t\t} else {\n\t\t\treq.resolve(packet.data);\n\t\t}\n\t}\n\n\t/**\n\t * Handle incoming response stream.\n\t *\n\t * @param {Object} packet\n\t * @param {Object} req\n\t */\n\t_handleIncomingResponseStream(packet, req) {\n\t\tlet pass = this.pendingResStreams.get(packet.id);\n\t\tif (!pass && !packet.stream)\n\t\t\treturn false;\n\n\t\tif (!pass) {\n\t\t\tthis.logger.debug(`<= New stream is received from '${packet.sender}'. Seq: ${packet.seq}`);\n\n\t\t\tpass = new Transform({\n\t\t\t\tobjectMode: packet.meta && packet.meta[\"$streamObjectMode\"],\n\t\t\t\ttransform: function(chunk, encoding, done) {\n\t\t\t\t\tthis.push(chunk);\n\t\t\t\t\treturn done();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpass.$prevSeq = -1;\n\t\t\tpass.$pool = new Map();\n\n\t\t\tthis.pendingResStreams.set(packet.id, pass);\n\n\t\t\treq.resolve(pass);\n\t\t}\n\n\t\tif (packet.seq > pass.$prevSeq + 1) {\n\t\t\t// Some chunks are late. Store these chunks.\n\t\t\tthis.logger.info(`Put the chunk into pool (size: ${pass.$pool.size}). Seq: ${packet.seq}`);\n\n\t\t\tpass.$pool.set(packet.seq, packet);\n\n\t\t\t// TODO: start timer.\n\t\t\t// TODO: check length of pool.\n\t\t\t// TODO: resetting seq.\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// the next stream chunk received\n\t\tpass.$prevSeq = packet.seq;\n\n\t\tif (pass.$prevSeq > 0) {\n\n\t\t\tif (!packet.stream) {\n\t\t\t\t// Received error?\n\t\t\t\tif (!packet.success)\n\t\t\t\t\tpass.emit(\"error\", this._createErrFromPayload(packet.error, packet.sender));\n\n\t\t\t\tthis.logger.debug(`<= Stream closing is received from '${packet.sender}'. Seq: ${packet.seq}`);\n\n\t\t\t\t// End of stream\n\t\t\t\tpass.end();\n\n\t\t\t\t// Remove pending request\n\t\t\t\tthis.removePendingRequest(packet.id);\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\t\t\t\t// stream chunk\n\t\t\t\tthis.logger.debug(`<= Stream chunk is received from '${packet.sender}'. Seq: ${packet.seq}`);\n\t\t\t\tpass.write(packet.data.type === \"Buffer\" ? Buffer.from(packet.data.data):packet.data);\n\t\t\t}\n\t\t}\n\n\t\t// Check newer chunks in the pool\n\t\tif (pass.$pool.size > 0) {\n\t\t\tthis.logger.warn(`Has stored packets. Size: ${pass.$pool.size}`);\n\t\t\tconst nextSeq = pass.$prevSeq + 1;\n\t\t\tconst nextPacket = pass.$pool.get(nextSeq);\n\t\t\tif (nextPacket) {\n\t\t\t\tpass.$pool.delete(nextSeq);\n\t\t\t\tsetImmediate(() => this.responseHandler(nextPacket));\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\n\t/**\n\t * Send a request to a remote service. It returns a Promise\n\t * what will be resolved when the response received.\n\t *\n\t * @param {<Context>} ctx Context of request\n\t * @returns {Promise}\n\t *\n\t * @memberof Transit\n\t */\n\trequest(ctx) {\n\t\tif (this.opts.maxQueueSize && this.pendingRequests.size >= this.opts.maxQueueSize)\n\t\t\t/* istanbul ignore next */\n\t\t\treturn this.Promise.reject(new E.QueueIsFullError({\n\t\t\t\taction: ctx.action.name,\n\t\t\t\tnodeID: this.nodeID,\n\t\t\t\tsize: this.pendingRequests.size,\n\t\t\t\tlimit: this.opts.maxQueueSize\n\t\t\t}));\n\n\t\t// Expanded the code that v8 can optimize it.  (TryCatchStatement disable optimizing)\n\t\treturn new this.Promise((resolve, reject) => this._sendRequest(ctx, resolve, reject));\n\t}\n\n\t/**\n\t * Send a remote request\n\t *\n\t * @param {<Context>} ctx      Context of request\n\t * @param {Function} resolve   Resolve of Promise\n\t * @param {Function} reject    Reject of Promise\n\t *\n\t * @memberof Transit\n\t */\n\t_sendRequest(ctx, resolve, reject) {\n\t\tconst isStream = ctx.params && ctx.params.readable === true && typeof ctx.params.on === \"function\" && typeof ctx.params.pipe === \"function\";\n\n\t\tconst request = {\n\t\t\taction: ctx.action,\n\t\t\tnodeID: ctx.nodeID,\n\t\t\tctx,\n\t\t\tresolve,\n\t\t\treject,\n\t\t\tstream: isStream // ???\n\t\t};\n\n\t\tconst payload = {\n\t\t\tid: ctx.id,\n\t\t\taction: ctx.action.name,\n\t\t\tparams: isStream ? null : ctx.params,\n\t\t\tmeta: ctx.meta,\n\t\t\ttimeout: ctx.options.timeout,\n\t\t\tlevel: ctx.level,\n\t\t\ttracing: ctx.tracing,\n\t\t\tparentID: ctx.parentID,\n\t\t\trequestID: ctx.requestID,\n\t\t\tcaller: ctx.caller,\n\t\t\tstream: isStream,\n\t\t};\n\n\t\tif (payload.stream) {\n\t\t\tif (ctx.params.readableObjectMode === true || (ctx.params._readableState && ctx.params._readableState.objectMode === true)) {\n\t\t\t\tpayload.meta = payload.meta || {};\n\t\t\t\tpayload.meta[\"$streamObjectMode\"] = true;\n\t\t\t}\n\t\t\tpayload.seq = 0;\n\t\t}\n\n\t\tconst packet = new Packet(P.PACKET_REQUEST, ctx.nodeID, payload);\n\n\t\tconst nodeName = ctx.nodeID ? `'${ctx.nodeID}'` : \"someone\";\n\t\tthis.logger.debug(`=> Send '${ctx.action.name}' request to ${nodeName} node.`);\n\n\t\tconst publishCatch = /* istanbul ignore next */ err => this.logger.error(`Unable to send '${ctx.action.name}' request to ${nodeName} node.`, err);\n\n\t\t// Add to pendings\n\t\tthis.pendingRequests.set(ctx.id, request);\n\n\t\t// Publish request\n\t\treturn this.publish(packet)\n\t\t\t.then(() => {\n\t\t\t\tif (isStream) {\n\t\t\t\t\t// Skip to send ctx.meta with chunks because it doesn't appear on the remote side.\n\t\t\t\t\tpayload.meta = {};\n\t\t\t\t\t// Still send information about objectMode in case of packets are received in wrong order\n\t\t\t\t\tif (ctx.params.readableObjectMode === true || (ctx.params._readableState && ctx.params._readableState.objectMode === true)) {\n\t\t\t\t\t\tpayload.meta[\"$streamObjectMode\"] = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst stream = ctx.params;\n\t\t\t\t\tstream.on(\"data\", (chunk) => {\n\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\tconst chunks = [];\n\t\t\t\t\t\tif (chunk instanceof Buffer && this.opts.maxChunkSize > 0 && chunk.length > this.opts.maxChunkSize) {\n\t\t\t\t\t\t\tlet len = chunk.length;\n\t\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\t\twhile (i < len) {\n\t\t\t\t\t\t\t\tchunks.push(chunk.slice(i, i += this.opts.maxChunkSize));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchunks.push(chunk);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (const ch of chunks) {\n\t\t\t\t\t\t\tconst copy = Object.assign({}, payload);\n\t\t\t\t\t\t\tcopy.seq = ++payload.seq;\n\t\t\t\t\t\t\tcopy.stream = true;\n\t\t\t\t\t\t\tcopy.params = ch;\n\n\t\t\t\t\t\t\tthis.logger.debug(`=> Send stream chunk to ${nodeName} node. Seq: ${copy.seq}`);\n\n\t\t\t\t\t\t\tthis.publish(new Packet(P.PACKET_REQUEST, ctx.nodeID, copy))\n\t\t\t\t\t\t\t\t.catch(publishCatch);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstream.resume();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.on(\"end\", () => {\n\t\t\t\t\t\tconst copy = Object.assign({}, payload);\n\t\t\t\t\t\tcopy.seq = ++payload.seq;\n\t\t\t\t\t\tcopy.params = null;\n\t\t\t\t\t\tcopy.stream = false;\n\n\t\t\t\t\t\tthis.logger.debug(`=> Send stream closing to ${nodeName} node. Seq: ${copy.seq}`);\n\n\t\t\t\t\t\treturn this.publish(new Packet(P.PACKET_REQUEST, ctx.nodeID, copy))\n\t\t\t\t\t\t\t.catch(publishCatch);\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.on(\"error\", err => {\n\t\t\t\t\t\tconst copy = Object.assign({}, payload);\n\t\t\t\t\t\tcopy.seq = ++payload.seq;\n\t\t\t\t\t\tcopy.stream = false;\n\t\t\t\t\t\tcopy.meta[\"$streamError\"] = this._createPayloadErrorField(err);\n\t\t\t\t\t\tcopy.params = null;\n\n\t\t\t\t\t\tthis.logger.debug(`=> Send stream error to ${nodeName} node.`, copy.meta[\"$streamError\"]);\n\n\t\t\t\t\t\treturn this.publish(new Packet(P.PACKET_REQUEST, ctx.nodeID, copy))\n\t\t\t\t\t\t\t.catch(publishCatch);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tpublishCatch(err);\n\t\t\t\treject(err);\n\t\t\t});\n\t}\n\n\t/**\n\t * Send an event to a remote node.\n\t * The event is balanced by transporter\n\t *\n\t * @param {Context} ctx\n\t *\n\t * @memberof Transit\n\t */\n\tsendEvent(ctx) {\n\t\tconst groups = ctx.eventGroups;\n\t\tif (ctx.endpoint)\n\t\t\tthis.logger.debug(`=> Send '${ctx.eventName}' event to '${ctx.nodeID}' node` + (groups ? ` in '${groups.join(\", \")}' group(s)` : \"\") + \".\");\n\t\telse\n\t\t\tthis.logger.debug(`=> Send '${ctx.eventName}' event to '${groups.join(\", \")}' group(s).`);\n\n\t\treturn this.publish(new Packet(P.PACKET_EVENT, ctx.endpoint ? ctx.nodeID : null, {\n\t\t\tid: ctx.id,\n\t\t\tevent: ctx.eventName,\n\t\t\tdata: ctx.params,\n\t\t\tgroups,\n\t\t\tbroadcast: ctx.eventType == \"broadcast\",\n\t\t\tmeta: ctx.meta,\n\t\t\tlevel: ctx.level,\n\t\t\ttracing: ctx.tracing,\n\t\t\tparentID: ctx.parentID,\n\t\t\trequestID: ctx.requestID,\n\t\t\tcaller: ctx.caller,\n\t\t\tneedAck: ctx.needAck\n\t\t})).catch(/* istanbul ignore next */ err => this.logger.error(`Unable to send '${ctx.eventName}' event to groups.`, err));\n\t}\n\n\t/**\n\t * Remove a pending request\n\t *\n\t * @param {any} id\n\t *\n\t * @memberof Transit\n\t */\n\tremovePendingRequest(id) {\n\t\tthis.pendingRequests.delete(id);\n\n\t\tthis.pendingReqStreams.delete(id);\n\t\tthis.pendingResStreams.delete(id);\n\t}\n\n\t/**\n\t * Remove a pending request & streams\n\t *\n\t * @param {String} nodeID\n\t *\n\t * @memberof Transit\n\t */\n\tremovePendingRequestByNodeID(nodeID) {\n\t\tthis.logger.debug(`Remove pending requests of '${nodeID}' node.`);\n\t\tthis.pendingRequests.forEach((req, id) => {\n\t\t\tif (req.nodeID === nodeID) {\n\t\t\t\tthis.pendingRequests.delete(id);\n\n\t\t\t\t// Reject the request\n\t\t\t\treq.reject(new E.RequestRejectedError({\n\t\t\t\t\taction: req.action.name,\n\t\t\t\t\tnodeID: req.nodeID\n\t\t\t\t}));\n\n\t\t\t\tthis.pendingReqStreams.delete(id);\n\t\t\t\tthis.pendingResStreams.delete(id);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Create error field in outgoing payload\n\t *\n\t * @param {Error} err\n\t * @returns {Object}\n\t * @memberof Transit\n\t */\n\t_createPayloadErrorField(err) {\n\t\treturn {\n\t\t\tname: err.name,\n\t\t\tmessage: err.message,\n\t\t\tnodeID: err.nodeID || this.nodeID,\n\t\t\tcode: err.code,\n\t\t\ttype: err.type,\n\t\t\tretryable: err.retryable,\n\t\t\tstack: err.stack,\n\t\t\tdata: err.data\n\t\t};\n\t}\n\n\t/**\n\t * Send back the response of request\n\t *\n\t * @param {String} nodeID\n\t * @param {String} id\n\t * @param {any} meta\n\t * @param {any} data\n\t * @param {Error} err\n\t *\n\t * @memberof Transit\n\t */\n\tsendResponse(nodeID, id, meta, data, err) {\n\t\t// Publish the response\n\t\tconst payload = {\n\t\t\tid: id,\n\t\t\tmeta: meta,\n\t\t\tsuccess: err == null,\n\t\t\tdata: data\n\t\t};\n\n\t\tif (err)\n\t\t\tpayload.error = this._createPayloadErrorField(err);\n\n\t\tconst publishCatch = /* istanbul ignore next */ err => this.logger.error(`Unable to send '${id}' response to '${nodeID}' node.`, err);\n\n\t\tif (data && data.readable === true && typeof data.on === \"function\" && typeof data.pipe === \"function\") {\n\t\t\t// Streaming response\n\t\t\tpayload.stream = true;\n\t\t\tif (data.readableObjectMode === true || (data._readableState && data._readableState.objectMode === true)) {\n\t\t\t\tpayload.meta = payload.meta || {};\n\t\t\t\tpayload.meta[\"$streamObjectMode\"] = true;\n\t\t\t}\n\t\t\tpayload.seq = 0;\n\n\t\t\tconst stream = data;\n\t\t\tstream.pause();\n\n\t\t\tstream.on(\"data\", (chunk) => {\n\t\t\t\tstream.pause();\n\t\t\t\tconst chunks = [];\n\t\t\t\tif (chunk instanceof Buffer && this.opts.maxChunkSize > 0 && chunk.length > this.opts.maxChunkSize) {\n\t\t\t\t\tlet len = chunk.length;\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\twhile (i < len) {\n\t\t\t\t\t\tchunks.push(chunk.slice(i, i += this.opts.maxChunkSize));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tchunks.push(chunk);\n\t\t\t\t}\n\t\t\t\tfor (const ch of chunks) {\n\t\t\t\t\tconst copy = Object.assign({}, payload);\n\t\t\t\t\tcopy.seq = ++payload.seq;\n\t\t\t\t\tcopy.stream = true;\n\t\t\t\t\tcopy.data = ch;\n\n\t\t\t\t\tthis.logger.debug(`=> Send stream chunk to ${nodeID} node. Seq: ${copy.seq}`);\n\n\t\t\t\t\tthis.publish(new Packet(P.PACKET_RESPONSE, nodeID, copy))\n\t\t\t\t\t\t.catch(publishCatch);\n\t\t\t\t}\n\t\t\t\tstream.resume();\n\t\t\t\treturn;\n\t\t\t});\n\n\t\t\tstream.on(\"end\", () => {\n\t\t\t\tconst copy = Object.assign({}, payload);\n\t\t\t\tcopy.stream = false;\n\t\t\t\tcopy.seq = ++payload.seq;\n\t\t\t\tcopy.data = null;\n\n\t\t\t\tthis.logger.debug(`=> Send stream closing to ${nodeID} node. Seq: ${copy.seq}`);\n\n\t\t\t\treturn this.publish(new Packet(P.PACKET_RESPONSE, nodeID, copy))\n\t\t\t\t\t.catch(publishCatch);\n\t\t\t});\n\n\t\t\tstream.on(\"error\", err => {\n\t\t\t\tconst copy = Object.assign({}, payload);\n\t\t\t\tcopy.stream = false;\n\t\t\t\tcopy.seq = ++payload.seq;\n\t\t\t\tif (err) {\n\t\t\t\t\tcopy.success = false;\n\t\t\t\t\tcopy.error = this._createPayloadErrorField(err);\n\t\t\t\t}\n\n\t\t\t\tthis.logger.debug(`=> Send stream error to ${nodeID} node.`, copy.error);\n\n\t\t\t\treturn this.publish(new Packet(P.PACKET_RESPONSE, nodeID, copy))\n\t\t\t\t\t.catch(publishCatch);\n\t\t\t});\n\n\t\t\tpayload.data = null;\n\t\t\treturn this.publish(new Packet(P.PACKET_RESPONSE, nodeID, payload))\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (payload.stream)\n\t\t\t\t\t\tstream.resume();\n\t\t\t\t})\n\t\t\t\t.catch(publishCatch);\n\n\t\t}\n\n\t\treturn this.publish(new Packet(P.PACKET_RESPONSE, nodeID, payload))\n\t\t\t.catch(publishCatch);\n\t}\n\n\t/**\n\t * Discover other nodes. It will be called after success connect.\n\t *\n\t * @memberof Transit\n\t */\n\tdiscoverNodes() {\n\t\treturn this.publish(new Packet(P.PACKET_DISCOVER))\n\t\t\t.catch(/* istanbul ignore next */ err => this.logger.error(\"Unable to send DISCOVER packet.\", err));\n\t}\n\n\t/**\n\t * Discover a node. It will be called if we got message from an unknown node.\n\t *\n\t * @memberof Transit\n\t */\n\tdiscoverNode(nodeID) {\n\t\treturn this.publish(new Packet(P.PACKET_DISCOVER, nodeID))\n\t\t\t.catch(/* istanbul ignore next */ err => this.logger.error(`Unable to send DISCOVER packet to '${nodeID}' node.`, err));\n\t}\n\n\t/**\n\t * Send node info package to other nodes.\n\t *\n\t * @memberof Transit\n\t */\n\tsendNodeInfo(info, nodeID) {\n\t\tif (!this.connected || !this.isReady) return this.Promise.resolve();\n\n\t\tconst p = !nodeID && this.broker.options.disableBalancer ? this.tx.makeBalancedSubscriptions() : this.Promise.resolve();\n\t\treturn p.then(() => this.publish(new Packet(P.PACKET_INFO, nodeID, {\n\t\t\tservices: info.services,\n\t\t\tipList: info.ipList,\n\t\t\thostname: info.hostname,\n\t\t\tclient: info.client,\n\t\t\tconfig: info.config,\n\t\t\tinstanceID: this.broker.instanceID,\n\t\t\tmetadata: info.metadata,\n\t\t\tseq: info.seq\n\t\t}))).catch(/* istanbul ignore next */ err => this.logger.error(`Unable to send INFO packet to '${nodeID}' node.`, err));\n\n\t}\n\n\t/**\n\t * Send ping to a node (or all nodes if nodeID is null)\n\t *\n\t * @param {String} nodeID\n\t * @param {String} id\n\t * @returns\n\t * @memberof Transit\n\t */\n\tsendPing(nodeID, id) {\n\t\treturn this.publish(new Packet(P.PACKET_PING, nodeID, { time: Date.now(), id: id || this.broker.generateUid() }))\n\t\t\t.catch(/* istanbul ignore next */ err => this.logger.error(`Unable to send PING packet to '${nodeID}' node.`, err));\n\t}\n\n\t/**\n\t * Send back pong response\n\t *\n\t * @param {Object} payload\n\t * @returns\n\t * @memberof Transit\n\t */\n\tsendPong(payload) {\n\t\treturn this.publish(new Packet(P.PACKET_PONG, payload.sender, {\n\t\t\ttime: payload.time,\n\t\t\tid: payload.id,\n\t\t\tarrived: Date.now()\n\t\t})).catch(/* istanbul ignore next */ err => this.logger.error(`Unable to send PONG packet to '${payload.sender}' node.`, err));\n\t}\n\n\t/**\n\t * Process incoming PONG packet.\n\t * Measure ping time & current time difference.\n\t *\n\t * @param {Object} payload\n\t * @memberof Transit\n\t */\n\tprocessPong(payload) {\n\t\tconst now = Date.now();\n\t\tconst elapsedTime = now - payload.time;\n\t\tconst timeDiff = Math.round(now - payload.arrived - elapsedTime / 2);\n\n\t\t// this.logger.debug(`PING-PONG from '${payload.sender}' - Time: ${elapsedTime}ms, Time difference: ${timeDiff}ms`);\n\n\t\tthis.broker.broadcastLocal(\"$node.pong\", { nodeID: payload.sender, elapsedTime, timeDiff, id: payload.id });\n\n\t\tthis.metrics.set(METRIC.MOLECULER_TRANSIT_PONG_TIME, elapsedTime, { targetNodeID: payload.sender });\n\t\tthis.metrics.set(METRIC.MOLECULER_TRANSIT_PONG_SYSTIME_DIFF, timeDiff, { targetNodeID: payload.sender });\n\t}\n\n\t/**\n\t * Send a node heartbeat. It will be called with timer from local Discoverer.\n\t *\n\t * @params {Node} localNode\n\t * @memberof Transit\n\t */\n\tsendHeartbeat(localNode) {\n\t\treturn this.publish(new Packet(P.PACKET_HEARTBEAT, null, {\n\t\t\tcpu: localNode.cpu\n\t\t})).catch(/* istanbul ignore next */ err => this.logger.error(\"Unable to send HEARTBEAT packet.\", err));\n\n\t}\n\n\t/**\n\t * Subscribe via transporter\n\t *\n\t * @param {String} topic\n\t * @param {String=} nodeID\n\t *\n\t * @deprecated\n\t * @memberof Transit\n\t */\n\tsubscribe(topic, nodeID) {\n\t\treturn this.tx.subscribe(topic, nodeID);\n\t}\n\n\t/**\n\t * Publish via transporter\n\t *\n\t * @param {Packet} Packet\n\t *\n\t * @memberof Transit\n\t */\n\tpublish(packet) {\n\t\tif (this.subscribing) {\n\t\t\treturn this.subscribing\n\t\t\t\t.then(() => {\n\t\t\t\t\treturn this.tx.prepublish(packet);\n\t\t\t\t});\n\t\t}\n\t\treturn this.tx.prepublish(packet);\n\t}\n\n}\n\nmodule.exports = Transit;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n/**\n * Base strategy class\n *\n * @class BaseStrategy\n */\nclass BaseStrategy {\n\n\t/**\n\t * Constructor\n\t *\n\t * @param {ServiceRegistry} registry\n\t * @param {ServiceBroker} broker\n\t * @param {Object?} opts\n\t */\n\tconstructor(registry, broker, opts) {\n\t\tthis.registry = registry;\n\t\tthis.broker = broker;\n\t\tthis.opts = opts || {};\n\t}\n\n\t/**\n\t * Select an endpoint.\n\t *\n\t * @param {Array<Endpoint>} list\n\t * @param {Context?} ctx\n\t *\n\t * @memberof BaseStrategy\n\t */\n\tselect(/*list, ctx*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n}\n\nmodule.exports = BaseStrategy;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst BaseStrategy = require(\"./base\");\n\n/**\n * Round-robin strategy class\n *\n * @class RoundRobinStrategy\n */\nclass RoundRobinStrategy extends BaseStrategy {\n\n\tconstructor(registry, broker, opts) {\n\t\tsuper(registry, broker, opts);\n\n\t\tthis.counter = 0;\n\t}\n\n\tselect(list) {\n\t\t// Reset counter\n\t\tif (this.counter >= list.length) {\n\t\t\tthis.counter = 0;\n\t\t}\n\t\treturn list[this.counter++];\n\t}\n\n}\n\nmodule.exports = RoundRobinStrategy;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { random } = require(\"lodash\");\nconst BaseStrategy = require(\"./base\");\n\n/**\n * Random strategy class\n *\n * @class RandomStrategy\n */\nclass RandomStrategy extends BaseStrategy {\n\tselect(list) {\n\t\treturn list[random(0, list.length - 1)];\n\t}\n}\n\nmodule.exports = RandomStrategy;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\"use strict\";\n\nconst _ = require(\"lodash\");\n\nconst { random } = require(\"lodash\");\nconst BaseStrategy = require(\"./base\");\n\n/**\n * Lowest latency invocation strategy\n *\n * Since Strategy can be instantiated multiple times, therefore,\n * we need to have a \"master\" instance to send ping, and each\n * individual \"slave\" instance will update their list dynamically\n *\n * These options can be configured in broker registry options:\n *\n * const broker = new ServiceBroker({\n * \tlogger: true,\n * \tregistry: {\n * \t\tstrategy: \"LatencyStrategy\",\n * \t\tstrategyOptions: {\n * \t\t\tsampleCount: 5,\n * \t\t\tlowLatency: 10,\n * \t\t\tcollectCount: 5,\n * \t\t\tpingInterval: 10\n * \t\t}\n * \t}\n * });\n *\n * @class LatencyStrategy\n */\nclass LatencyStrategy extends BaseStrategy {\n\n\tconstructor(registry, broker, opts) {\n\t\tsuper(registry, broker, opts);\n\n\t\tthis.opts = _.defaultsDeep(opts, {\n\t\t\tsampleCount: 5,\n\t\t\tlowLatency: 10,\n\t\t\tcollectCount: 5,\n\t\t\tpingInterval: 10\n\t\t});\n\n\t\tthis.brokerStopped = false;\n\n\t\tthis.hostAvgLatency = new Map();\n\n\t\t/* hostMap contains:\n\t\t\thostname => {\n\t\t\t\thistoricLatency: [],\n\t\t\t\tnodeList: []\n\t\t\t}\n\t\t*/\n\t\tthis.hostMap = new Map();\n\n\t\t// short circuit\n\t\tif (!this.broker.transit) return;\n\n\t\tif (this.broker.localBus.listenerCount(\"$node.latencyMaster\") === 0) {\n\t\t\t// claim as master\n\t\t\tthis.broker.localBus.on(\"$node.latencyMaster\", function() {});\n\t\t\t// respond to PONG\n\t\t\tthis.broker.localBus.on(\"$node.pong\", this.processPong.bind(this));\n\t\t\t// dynamically add new node\n\t\t\tthis.broker.localBus.on(\"$node.connected\", this.addNode.bind(this));\n\t\t\t// dynamically remove node\n\t\t\tthis.broker.localBus.on(\"$node.disconnected\", this.removeHostMap.bind(this));\n\t\t\t// try to discovery all nodes on start up\n\t\t\tthis.broker.localBus.on(\"$broker.started\", this.discovery.bind(this));\n\t\t\t// clean up ourselves\n\t\t\tthis.broker.localBus.on(\"$broker.stopped\", () => this.brokerStopped = true);\n\t\t} else {\n\t\t\t// remove node if we are told by master\n\t\t\tthis.broker.localBus.on(\"$node.latencySlave.removeHost\", this.removeHostLatency.bind(this));\n\t\t}\n\n\t\tthis.broker.localBus.on(\"$node.latencySlave\", this.updateLatency.bind(this));\n\t}\n\n\t// Master\n\tdiscovery() {\n\t\treturn this.broker.transit.sendPing().then(() => {\n\t\t\tconst timer = setTimeout(() => this.pingHosts(), 1000 * this.opts.pingInterval);\n\t\t\ttimer.unref();\n\t\t});\n\t}\n\n\t// Master\n\tpingHosts() {\n\n\t\t/* istanbul ignore next */\n\t\tif (this.brokerStopped) return;\n\t\t/*\n\t\t\tSmart Ping: only ping the host, not the nodes (which may be many)\n\n\t\t\tAlthough, if that particular node on the host is overloaded,\n\t\t\tthe measurement may be skewed.\n\t\t*/\n\t\tconst hosts = Array.from(this.hostMap.values());\n\n\t\treturn this.broker.Promise.all(hosts.map(host => { // TODO: missing concurency: 5, here was bluebird Promise.map\n\t\t\t// Select a nodeID randomly\n\t\t\tconst nodeID = host.nodeList[random(0, host.nodeList.length - 1)];\n\t\t\treturn this.broker.transit.sendPing(nodeID);\n\t\t})).then(() => {\n\t\t\tconst timer = setTimeout(() => this.pingHosts(), 1000 * this.opts.pingInterval);\n\t\t\ttimer.unref();\n\t\t});\n\t}\n\n\t// Master\n\tprocessPong(payload) {\n\t\tlet node = this.registry.nodes.get(payload.nodeID);\n\n\t\t/* istanbul ignore next */\n\t\tif (!node) return;\n\n\t\tlet info = this.getHostLatency(node);\n\n\t\tif (info.historicLatency.length > (this.opts.collectCount - 1))\n\t\t\tinfo.historicLatency.shift();\n\n\t\tinfo.historicLatency.push(payload.elapsedTime);\n\n\t\tconst avgLatency = info.historicLatency.reduce((sum, latency) => sum + latency, 0) / info.historicLatency.length;\n\n\t\tthis.broker.localBus.emit(\"$node.latencySlave\", {\n\t\t\thostname: node.hostname,\n\t\t\tavgLatency: avgLatency\n\t\t});\n\t}\n\n\t// Master\n\tgetHostLatency(node) {\n\t\tlet info = this.hostMap.get(node.hostname);\n\t\tif (typeof info === \"undefined\") {\n\t\t\tinfo = {\n\t\t\t\thistoricLatency: [],\n\t\t\t\tnodeList: [ node.id ]\n\t\t\t};\n\t\t\tthis.hostMap.set(node.hostname, info);\n\t\t}\n\t\treturn info;\n\t}\n\n\t// Master\n\taddNode(payload) {\n\t\tlet node = payload.node;\n\n\t\t// each host may have multiple nodes\n\t\tlet info = this.getHostLatency(node);\n\t\tif (info.nodeList.indexOf(node.id) === -1) {\n\t\t\tinfo.nodeList.push(node.id);\n\t\t}\n\t}\n\n\t// Master\n\tremoveHostMap(payload) {\n\t\tlet node = payload.node;\n\n\t\tlet info = this.hostMap.get(node.hostname);\n\t\t// This exists to make sure that we don't get an \"undefined\",\n\t\t// \ttherefore the test coverage here is unnecessary.\n\t\t/* istanbul ignore next */\n\t\tif (typeof info === \"undefined\") return;\n\n\t\tinfo.nodeList = info.nodeList.filter(id => id !== node.id);\n\n\t\tif (info.nodeList.length == 0) {\n\t\t\t// only remove the host if the last node disconnected\n\t\t\tthis.broker.localBus.emit(\"$node.latencySlave.removeHost\", node.hostname);\n\t\t\tthis.hostMap.delete(node.hostname);\n\t\t}\n\t}\n\n\t// Master + Slave\n\tupdateLatency(payload) {\n\t\tthis.hostAvgLatency.set(payload.hostname, payload.avgLatency);\n\t}\n\n\t// Slave\n\tremoveHostLatency(hostname) {\n\t\tthis.hostAvgLatency.delete(hostname);\n\t}\n\n\t/**\n\t * Select an endpoint by network latency\n\t *\n\t * @param {Array<Endpoint>} list\n\t * @returns {Endpoint}\n\t * @memberof LatencyStrategy\n\t */\n\tselect(list) {\n\t\tlet minEp = null;\n\t\tlet minLatency = null;\n\n\t\tconst sampleCount = this.opts.sampleCount;\n\t\tconst count = sampleCount <= 0 || sampleCount > list.length ? list.length : sampleCount;\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tlet ep;\n\t\t\t// Get random endpoint\n\t\t\tif (count == list.length) {\n\t\t\t\tep = list[i];\n\t\t\t} else {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tep = list[random(0, list.length - 1)];\n\t\t\t}\n\t\t\tconst epLatency = this.hostAvgLatency.get(ep.node.hostname);\n\n\t\t\t// Check latency of endpoint\n\t\t\tif (typeof epLatency !== \"undefined\") {\n\n\t\t\t\tif (epLatency < this.opts.lowLatency)\n\t\t\t\t\treturn ep;\n\n\t\t\t\tif (!minEp || !minLatency || epLatency < minLatency) {\n\t\t\t\t\tminLatency = epLatency;\n\t\t\t\t\tminEp = ep;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Return the lowest latency\n\t\tif (minEp) {\n\t\t\treturn minEp;\n\t\t}\n\n\t\t// Return a random item (no latency data)\n\t\treturn list[random(0, list.length - 1)];\n\t}\n}\n\nmodule.exports = LatencyStrategy;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst BaseStrategy = require(\"./base\");\nconst crypto = require(\"crypto\");\nconst LRU = require(\"lru-cache\");\nconst { isFunction } = require(\"../utils\");\n\n/**\n * Sharding invocation strategy\n *\n * Using consistent-hashing. More info: https://www.toptal.com/big-data/consistent-hashing\n *\n * @class ShardStrategy\n */\nclass ShardStrategy extends BaseStrategy {\n\n\tconstructor(registry, broker, opts) {\n\t\tsuper(registry, broker, opts);\n\n\t\tthis.opts = _.defaultsDeep(opts, {\n\t\t\tshardKey: null,\n\t\t\tvnodes: 10,\n\t\t\tringSize: null,\n\t\t\tcacheSize: 1000\n\t\t});\n\n\t\tthis.cache = new LRU({\n\t\t\tmax: this.opts.cacheSize,\n\t\t\tmaxAge: null\n\t\t});\n\n\t\tthis.needRebuild = true;\n\t\tthis.ring = [];\n\n\t\tbroker.localBus.on(\"$node.**\", () => this.needRebuild = true);\n\t}\n\n\t/**\n\t * Get key field value from Context.\n\t *\n\t * @param {Context} ctx\n\t * @returns {any}\n\t * @memberof ShardStrategy\n\t */\n\tgetKeyFromContext(ctx) {\n\t\tif (!this.opts.shardKey)  return null;\n\n\t\tif (isFunction(this.opts.shardKey))\n\t\t\treturn this.opts.shardKey.call(this, ctx);\n\n\t\tif (this.opts.shardKey.startsWith(\"#\"))\n\t\t\treturn _.get(ctx.meta, this.opts.shardKey.slice(1));\n\n\t\treturn _.get(ctx.params, this.opts.shardKey);\n\t}\n\n\t/**\n\t * Select an endpoint by sharding.\n\t *\n\t * @param {Array<Endpoint>} list\n\t * @param {Context} ctx\n\t * @returns {Endpoint}\n\t * @memberof ShardStrategy\n\t */\n\tselect(list, ctx) {\n\t\tlet key = this.getKeyFromContext(ctx);\n\t\tif (key != null) {\n\t\t\tif (this.needRebuild)\n\t\t\t\tthis.rebuild(list);\n\n\t\t\tconst nodeID = this.getNodeIDByKey(key);\n\t\t\tif (nodeID)\n\t\t\t\treturn list.find(ep => ep.id == nodeID);\n\t\t}\n\n\t\t// Return a random item (no key)\n\t\treturn list[_.random(0, list.length - 1)];\n\t}\n\n\t/**\n\t * Get nodeID by a hashed numeric key.\n\t *\n\t * @param {Number} key\n\t * @returns {String}\n\t * @memberof ShardStrategy\n\t */\n\tgetNodeIDByKey(key) {\n\t\tif (this.cache) {\n\t\t\tconst cached = this.cache.get(key);\n\t\t\tif (cached) return cached;\n\t\t}\n\n\t\tconst hashNum = this.getHash(key.toString());\n\n\t\tlet found;\n\t\tconst ringLen = this.ring.length;\n\t\tfor(let i = 0; i < ringLen; i++) {\n\t\t\tif (hashNum <= this.ring[i].key) {\n\t\t\t\tfound = this.ring[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (found) {\n\t\t\tif (this.cache)\n\t\t\t\tthis.cache.set(key, found.nodeID);\n\t\t\treturn found.nodeID;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Calculate 8 bit integer hash from string key based on MD5 hash.\n\t *\n\t * @param {String} key\n\t * @returns {Number}\n\t * @memberof ShardStrategy\n\t */\n\tgetHash(key) {\n\t\tconst hash = crypto.createHash(\"md5\").update(key).digest(\"hex\");\n\t\tconst hashNum = parseInt(hash.substring(0,8), 16);\n\t\treturn this.opts.ringSize ? hashNum % this.opts.ringSize : hashNum;\n\t}\n\n\t/**\n\t * Rebuild the node hashring.\n\t *\n\t * @param {Array<Endpoint>} list\n\t * @memberof ShardStrategy\n\t */\n\trebuild(list) {\n\t\tthis.cache.reset();\n\t\tthis.ring = [];\n\n\t\tconst arr = list\n\t\t\t.map(ep => ep.id)\n\t\t\t.sort();\n\n\t\tconst total = arr.length * this.opts.vnodes;\n\t\tconst ringSize = this.opts.ringSize ? this.opts.ringSize : Math.pow(2, 32);\n\t\tconst slice = ringSize / total;\n\n\t\tfor (let j = 0; j < this.opts.vnodes; j++) {\n\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\tconst nodeID = arr[i];\n\t\t\t\tthis.ring.push({\n\t\t\t\t\tkey: Math.floor(slice * (this.ring.length + 1)),\n\t\t\t\t\tnodeID: nodeID\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Set the latest value to the last slice.\n\t\tthis.ring[this.ring.length - 1].key = ringSize;\n\n\t\tthis.needRebuild = false;\n\t}\n\n}\n\nmodule.exports = ShardStrategy;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { isObject, isString } = require(\"../utils\");\nconst { BrokerOptionsError } = require(\"../errors\");\n\nconst Strategies = {\n\tBase: require(\"./base\"),\n\tRoundRobin: require(\"./round-robin\"),\n\tRandom: require(\"./random\"),\n\tCpuUsage: require(\"./cpu-usage\"),\n\tLatency: require(\"./latency\"),\n\tShard: require(\"./shard\")\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Strategies).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Strategies[n];\n}\n\n/**\n * Resolve strategy by name\n *\n * @param {object|string} opt\n * @returns {Strategy}\n * @memberof ServiceBroker\n */\nfunction resolve(opt) {\n\tif (Object.prototype.isPrototypeOf.call(Strategies.Base, opt)) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet StrategyClass = getByName(opt);\n\t\tif (StrategyClass)\n\t\t\treturn StrategyClass;\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid strategy type '${opt}'.`, { type: opt });\n\n\t} else if (isObject(opt)) {\n\t\tlet StrategyClass = getByName(opt.type || \"RoundRobin\");\n\t\tif (StrategyClass)\n\t\t\treturn StrategyClass;\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid strategy type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\treturn Strategies.RoundRobin;\n}\n\n\nfunction register(name, value) {\n\tStrategies[name] = value;\n}\n\nmodule.exports = Object.assign(Strategies, { resolve, register });\n\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\n\n/**\n * Abstract Discoverer class\n *\n * @class BaseDiscoverer\n */\nclass BaseDiscoverer {\n\n\t/**\n\t * Creates an instance of Discoverer.\n\t *\n\t * @memberof BaseDiscoverer\n\t */\n\tconstructor(opts) {\n\t\tthis.Promise = Promise; // while `init` is not called\n\n\t\tthis.opts = _.defaultsDeep({}, opts, {\n\t\t\theartbeatInterval: null,\n\t\t\theartbeatTimeout: null,\n\n\t\t\tdisableHeartbeatChecks: false,\n\t\t\tdisableOfflineNodeRemoving: false,\n\t\t\tcleanOfflineNodesTimeout: 10 * 60, // 10 minutes\n\t\t});\n\n\t\t// Timer variables\n\t\tthis.heartbeatTimer = null;\n\t\tthis.checkNodesTimer = null;\n\t\tthis.offlineTimer = null;\n\n\t\t// Pointer for the local `Node` instance\n\t\tthis.localNode = null;\n\t}\n\n\t/**\n\t * Initialize Discoverer\n\t *\n\t * @param {ServiceRegistry} registry\n\t */\n\tinit(registry) {\n\t\tthis.registry = registry;\n\t\tthis.broker = registry.broker;\n\t\tthis.Promise = this.broker.Promise;\n\n\t\tif (this.broker) {\n\t\t\tthis.logger = this.broker.getLogger(\"Discovery\");\n\t\t\tthis.transit = this.broker.transit;\n\n\t\t\t// Get HB time settings from broker options. Backward compatibility\n\t\t\tif (this.opts.heartbeatInterval == null)\n\t\t\t\tthis.opts.heartbeatInterval = this.broker.options.heartbeatInterval;\n\t\t\tif (this.opts.heartbeatTimeout == null)\n\t\t\t\tthis.opts.heartbeatTimeout = this.broker.options.heartbeatTimeout;\n\t\t}\n\n\t\tif (this.transit) {\n\t\t\tthis.broker.localBus.on(\"$transporter.connected\", () => this.startHeartbeatTimers());\n\t\t\tthis.broker.localBus.on(\"$transporter.disconnected\", () => this.stopHeartbeatTimers());\n\t\t}\n\n\t\tthis.localNode = this.registry.nodes.localNode;\n\n\t\tthis.registerMoleculerMetrics();\n\t}\n\n\t/**\n\t * Stop discoverer clients.\n\t */\n\tstop() {\n\t\tthis.stopHeartbeatTimers();\n\t\treturn this.Promise.resolve();\n\t}\n\n\t/**\n\t * Register Moleculer Transit Core metrics.\n\t */\n\tregisterMoleculerMetrics() {\n\t\t// Not implemented\n\t}\n\n\t/**\n\t * Start heartbeat timers\n\t */\n\tstartHeartbeatTimers() {\n\t\tthis.stopHeartbeatTimers();\n\n\t\tif (this.opts.heartbeatInterval > 0) {\n\t\t\t// HB timer\n\t\t\tconst time = this.opts.heartbeatInterval * 1000 + (Math.round(Math.random() * 1000) - 500); // random +/- 500ms\n\t\t\tthis.heartbeatTimer = setInterval(() => this.beat(), time);\n\t\t\tthis.heartbeatTimer.unref();\n\n\t\t\t// Check expired heartbeats of remote nodes timer\n\t\t\tthis.checkNodesTimer = setInterval(() => this.checkRemoteNodes(), this.opts.heartbeatTimeout * 1000);\n\t\t\tthis.checkNodesTimer.unref();\n\n\t\t\t// Clean offline nodes timer\n\t\t\tthis.offlineTimer = setInterval(() => this.checkOfflineNodes(), 60 * 1000); // 1 min\n\t\t\tthis.offlineTimer.unref();\n\t\t}\n\t}\n\n\t/**\n\t * Stop heartbeat timers\n\t */\n\tstopHeartbeatTimers() {\n\t\tif (this.heartbeatTimer) {\n\t\t\tclearInterval(this.heartbeatTimer);\n\t\t\tthis.heartbeatTimer = null;\n\t\t}\n\n\t\tif (this.checkNodesTimer) {\n\t\t\tclearInterval(this.checkNodesTimer);\n\t\t\tthis.checkNodesTimer = null;\n\t\t}\n\n\t\tif (this.offlineTimer) {\n\t\t\tclearInterval(this.offlineTimer);\n\t\t\tthis.offlineTimer = null;\n\t\t}\n\t}\n\n\t/**\n\t * Disable built-in Heartbeat logic. Used by TCP transporter\n\t */\n\tdisableHeartbeat() {\n\t\tthis.opts.heartbeatInterval = 0;\n\t\tthis.stopHeartbeatTimers();\n\t}\n\n\t/**\n\t * Heartbeat method.\n\t */\n\tbeat() {\n\t\t// Update the local CPU usage before sending heartbeat.\n\t\treturn this.localNode.updateLocalInfo(this.broker.getCpuUsage)\n\t\t\t.then(() => this.sendHeartbeat());\n\t}\n\n\t/**\n\t * Check all registered remote nodes are available.\n\t */\n\tcheckRemoteNodes() {\n\t\tif (this.disableHeartbeatChecks) return;\n\n\t\tconst now = Math.round(process.uptime());\n\t\tthis.registry.nodes.toArray().forEach(node => {\n\t\t\tif (node.local || !node.available) return;\n\t\t\tif (!node.lastHeartbeatTime) {\n\t\t\t\t// Még nem jött be az első heartbeat.\n\t\t\t\tnode.lastHeartbeatTime = now;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (now - node.lastHeartbeatTime > this.broker.options.heartbeatTimeout) {\n\t\t\t\tthis.logger.warn(`Heartbeat is not received from '${node.id}' node.`);\n\t\t\t\tthis.registry.nodes.disconnected(node.id, true);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Check offline nodes. Remove which is older than 10 minutes.\n\t */\n\tcheckOfflineNodes() {\n\t\tif (this.disableOfflineNodeRemoving || !this.opts.cleanOfflineNodesTimeout) return;\n\n\t\tconst now = Math.round(process.uptime());\n\t\tthis.registry.nodes.toArray().forEach(node => {\n\t\t\tif (node.local || node.available) return;\n\t\t\tif (!node.lastHeartbeatTime) {\n\t\t\t\t// Még nem jött be az első heartbeat.\n\t\t\t\tnode.lastHeartbeatTime = now;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (now - node.lastHeartbeatTime > this.opts.cleanOfflineNodesTimeout) {\n\t\t\t\tthis.logger.warn(`Removing offline '${node.id}' node from registry because it hasn't submitted heartbeat signal for 10 minutes.`);\n\t\t\t\tthis.registry.nodes.delete(node.id);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Heartbeat received from a remote node.\n\t *\n\t * @param {String} nodeID\n\t * @param {Object} payload\n\t */\n\theartbeatReceived(nodeID, payload) {\n\t\tconst node = this.registry.nodes.get(nodeID);\n\t\tif (node) {\n\t\t\tif (!node.available) {\n\t\t\t\t// Reconnected node. Request a fresh INFO\n\t\t\t\tthis.discoverNode(nodeID);\n\t\t\t} else {\n\t\t\t\tif (payload.seq != null && node.seq !== payload.seq) {\n\t\t\t\t\t// Some services changed on the remote node. Request a new INFO\n\t\t\t\t\tthis.discoverNode(nodeID);\n\t\t\t\t} else if (payload.instanceID != null && !node.instanceID.startsWith(payload.instanceID)) {\n\t\t\t\t\t// The node has been restarted. Request a new INFO\n\t\t\t\t\tthis.discoverNode(nodeID);\n\t\t\t\t} else {\n\t\t\t\t\tnode.heartbeat(payload);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Unknow node. Request an INFO\n\t\t\tthis.discoverNode(nodeID);\n\t\t}\n\t}\n\n\t/**\n\t * Received an INFO from a remote node.\n\t *\n\t * @param {String} nodeID\n\t * @param {Object} payload\n\t */\n\tprocessRemoteNodeInfo(nodeID, payload) {\n\t\treturn this.broker.registry.processNodeInfo(payload);\n\t}\n\n\t/**\n\t * Sending a local heartbeat to remote nodes.\n\t */\n\tsendHeartbeat() {\n\t\tif (!this.transit) return this.Promise.resolve();\n\t\treturn this.transit.sendHeartbeat(this.localNode);\n\t}\n\n\t/**\n\t * Discover a new or old node by nodeID\n\t *\n\t * @param {String} nodeID\n\t */\n\tdiscoverNode() {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\n\t/**\n\t * Discover all nodes (after connected)\n\t */\n\tdiscoverAllNodes() {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\n\t/**\n\t * Called when the local node is ready (transporter connected)\n\t */\n\tlocalNodeReady() {\n\t\t// Local node has started all local services. We send a new INFO packet\n\t\t// which contains the local services because we are ready to accept incoming requests.\n\t\treturn this.sendLocalNodeInfo();\n\t}\n\n\t/**\n\t * Local service registry has been changed. We should notify remote nodes.\n\t *\n\t * @param {String} nodeID\n\t */\n\tsendLocalNodeInfo() {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\n\t/**\n\t * Called when the local node disconnected.\n\t * You can clean it from the remote registry.\n\t */\n\tlocalNodeDisconnected() {\n\t\tif (!this.transit) return this.Promise.resolve();\n\t\treturn this.transit.sendDisconnectPacket();\n\t}\n\n\t/**\n\t * Called when a remote node disconnected (received DISCONNECT packet)\n\t * You can clean it from local registry.\n\t *\n\t * @param {String} nodeID\n\t * @param {Boolean} isUnexpected\n\t */\n\tremoteNodeDisconnected(nodeID, isUnexpected) {\n\t\treturn this.registry.nodes.disconnected(nodeID, isUnexpected);\n\t}\n\n}\n\nmodule.exports = BaseDiscoverer;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst BaseDiscoverer = require(\"./base\");\n\n/**\n * Local (built-in) Discoverer class\n *\n * @class Discoverer\n */\nclass LocalDiscoverer extends BaseDiscoverer {\n\n\t/**\n\t * Creates an instance of Discoverer.\n\t *\n\t * @memberof LocalDiscoverer\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\t/**\n\t * Initialize Discoverer\n\t *\n\t * @param {any} registry\n\t *\n\t * @memberof LocalDiscoverer\n\t */\n\tinit(registry) {\n\t\tsuper.init(registry);\n\t}\n\n\t/**\n\t * Discover a new or old node.\n\t *\n\t * @param {String} nodeID\n\t */\n\tdiscoverNode(nodeID) {\n\t\tif (!this.transit) return this.Promise.resolve();\n\t\treturn this.transit.discoverNode(nodeID);\n\t}\n\n\t/**\n\t * Discover all nodes (after connected)\n\t */\n\tdiscoverAllNodes() {\n\t\tif (!this.transit) return this.Promise.resolve();\n\t\treturn this.transit.discoverNodes();\n\t}\n\n\t/**\n\t * Local service registry has been changed. We should notify remote nodes.\n\t *\n\t * @param {String} nodeID\n\t */\n\tsendLocalNodeInfo(nodeID) {\n\t\tif (!this.transit) return this.Promise.resolve();\n\n\t\tconst info = this.broker.getLocalNodeInfo();\n\t\treturn this.transit.sendNodeInfo(info, nodeID);\n\t}\n\n}\n\nmodule.exports = LocalDiscoverer;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { BrokerOptionsError } = require(\"../../errors\");\nconst { isObject, isString } = require(\"../../utils\");\n\nconst Discoverers = {\n\tBase: require(\"./base\"),\n\tLocal: require(\"./local\"),\n\tEtcd3: require(\"./etcd3\"),\n\tRedis: require(\"./redis\")\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Discoverers).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Discoverers[n];\n}\n\n/**\n * Resolve discoverer by name\n *\n * @param {object|string} opt\n * @returns {Discoverer}\n * @memberof ServiceBroker\n */\nfunction resolve(opt) {\n\tif (opt instanceof Discoverers.Base) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet DiscovererClass = getByName(opt);\n\t\tif (DiscovererClass)\n\t\t\treturn new DiscovererClass();\n\n\t\tif (opt.startsWith(\"redis://\"))\n\t\t\treturn new Discoverers.Redis(opt);\n\n\t\tif (opt.startsWith(\"etcd3://\"))\n\t\t\treturn new Discoverers.Etcd3(opt);\n\n\t\tthrow new BrokerOptionsError(`Invalid Discoverer type '${opt}'.`, { type: opt });\n\n\t} else if (isObject(opt)) {\n\t\tlet DiscovererClass = getByName(opt.type || \"Local\");\n\t\tif (DiscovererClass)\n\t\t\treturn new DiscovererClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid Discoverer type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\treturn new Discoverers.Local();\n}\n\nfunction register(name, value) {\n\tDiscoverers[name] = value;\n}\n\nmodule.exports = Object.assign(Discoverers, { resolve, register });\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n/**\n * Node class\n *\n * @class Node\n */\nclass Node {\n\t/**\n\t * Creates an instance of Node.\n\t *\n\t * @param {String} id\n\t *\n\t * @memberof Node\n\t */\n\tconstructor(id) {\n\t\tthis.id = id;\n\t\tthis.instanceID = null;\n\t\tthis.available = true;\n\t\tthis.local = false;\n\t\tthis.lastHeartbeatTime = Math.round(process.uptime());\n\t\tthis.config = {};\n\t\tthis.client = {};\n\t\tthis.metadata = null;\n\n\t\tthis.ipList = null;\n\t\tthis.port = null;\n\t\tthis.hostname = null;\n\t\tthis.udpAddress = null;\n\n\t\tthis.rawInfo = null;\n\t\tthis.services = [];\n\n\t\tthis.cpu = null;\n\t\tthis.cpuSeq = null;\n\n\t\tthis.seq = 0;\n\t\tthis.offlineSince = null;\n\t}\n\n\t/**\n\t * Update properties\n\t *\n\t * @param {object} payload\n\t * @param {boolean} isReconnected\n\t * @memberof Node\n\t */\n\tupdate(payload, isReconnected) {\n\t\t// Update properties\n\t\tthis.metadata = payload.metadata;\n\t\tthis.ipList = payload.ipList;\n\t\tthis.hostname = payload.hostname;\n\t\tthis.port = payload.port;\n\t\tthis.client = payload.client || {};\n\t\tthis.config = payload.config || {};\n\t\tthis.instanceID = payload.instanceID;\n\n\t\t// Process services & events\n\t\tthis.services = payload.services;\n\t\tthis.rawInfo = payload;\n\n\t\tconst newSeq = payload.seq || 1;\n\t\tif (newSeq > this.seq || isReconnected) {\n\t\t\tthis.seq = newSeq;\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/**\n\t * Update local properties.\n\t *\n\t * @memberof Node\n\t * @param {Function} cpuUsage\n\t */\n\tupdateLocalInfo(cpuUsage) {\n\t\treturn cpuUsage().then(res => {\n\t\t\tconst newVal = Math.round(res.avg);\n\t\t\tif (this.cpu != newVal) {\n\t\t\t\tthis.cpu = newVal;\n\t\t\t\tthis.cpuSeq++;\n\t\t\t}\n\t\t}).catch(() => { /* silent */ });\n\t}\n\n\t/**\n\t * Update heartbeat properties\n\t *\n\t * @param {any} payload\n\t * @memberof Node\n\t */\n\theartbeat(payload) {\n\t\tif (!this.available) {\n\t\t\tthis.available = true;\n\t\t\tthis.offlineSince = null;\n\t\t}\n\n\t\tif (payload.cpu != null) {\n\t\t\tthis.cpu = payload.cpu;\n\t\t\tthis.cpuSeq = payload.cpuSeq || 1;\n\t\t}\n\n\t\tthis.lastHeartbeatTime = Math.round(process.uptime());\n\t}\n\n\t/**\n\t * Node disconnected\n\t *\n\t * @memberof Node\n\t */\n\tdisconnected() {\n\t\tif (this.available) {\n\t\t\tthis.offlineSince = Math.round(process.uptime());\n\t\t\tthis.seq++;\n\t\t}\n\n\t\tthis.available = false;\n\t}\n}\n\nmodule.exports = Node;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ \t\t\t= require(\"lodash\");\nconst os \t\t\t= require(\"os\");\nconst Node \t\t\t= require(\"./node\");\nconst { getIpList } = require(\"../utils\");\n\n/**\n * Catalog for nodes\n *\n * @class NodeCatalog\n */\nclass NodeCatalog {\n\n\t/**\n\t * Creates an instance of NodeCatalog.\n\t *\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t *\n\t * @memberof NodeCatalog\n\t */\n\tconstructor(registry, broker) {\n\t\tthis.registry = registry;\n\t\tthis.broker = broker;\n\t\tthis.logger = registry.logger;\n\n\t\tthis.nodes = new Map();\n\n\t\tthis.createLocalNode();\n\t}\n\n\t/**\n\t * Create local node with local information\n\t *\n\t * @returns\n\t * @memberof NodeCatalog\n\t */\n\tcreateLocalNode() {\n\t\tconst node = new Node(this.broker.nodeID);\n\t\tnode.local = true;\n\t\tnode.ipList = getIpList();\n\t\tnode.instanceID = this.broker.instanceID;\n\t\tnode.hostname = os.hostname();\n\t\tnode.client = {\n\t\t\ttype: \"nodejs\",\n\t\t\tversion: this.broker.MOLECULER_VERSION,\n\t\t\tlangVersion: process.version\n\t\t};\n\t\tnode.metadata = this.broker.metadata;\n\t\tnode.seq = 1;\n\n\t\tthis.add(node.id, node);\n\n\t\tthis.localNode = node;\n\t\treturn node;\n\t}\n\n\t/**\n\t * Add a new node\n\t *\n\t * @param {String} id\n\t * @param {any} node\n\t * @memberof NodeCatalog\n\t */\n\tadd(id, node) {\n\t\tthis.nodes.set(id, node);\n\t}\n\n\t/**\n\t * Check a node exist by nodeID\n\t *\n\t * @param {String} id\n\t * @returns\n\t * @memberof NodeCatalog\n\t */\n\thas(id) {\n\t\treturn this.nodes.has(id);\n\t}\n\n\t/**\n\t * Get a node by nodeID\n\t *\n\t * @param {String} id\n\t * @returns\n\t * @memberof NodeCatalog\n\t */\n\tget(id) {\n\t\treturn this.nodes.get(id);\n\t}\n\n\t/**\n\t * Delete a node by nodeID\n\t *\n\t * @param {String} id\n\t * @returns\n\t * @memberof NodeCatalog\n\t */\n\tdelete(id) {\n\t\treturn this.nodes.delete(id);\n\t}\n\n\t/**\n\t * Get count of all registered nodes\n\t */\n\tcount() {\n\t\treturn this.nodes.size;\n\t}\n\n\t/**\n\t * Get count of online nodes\n\t */\n\tonlineCount() {\n\t\tlet count = 0;\n\t\tthis.nodes.forEach(node => {\n\t\t\tif (node.available)\n\t\t\t\tcount++;\n\t\t});\n\n\t\treturn count;\n\t}\n\n\t/**\n\t * Process incoming INFO packet payload\n\t *\n\t * @param {any} payload\n\t * @memberof NodeCatalog\n\t */\n\tprocessNodeInfo(payload) {\n\t\tconst nodeID = payload.sender;\n\t\t//let oldNode;\n\t\tlet node = this.get(nodeID);\n\t\tlet isNew = false;\n\t\tlet isReconnected = false;\n\n\t\tif (!node) {\n\t\t\tisNew = true;\n\t\t\tnode = new Node(nodeID);\n\n\t\t\tthis.add(nodeID, node);\n\t\t} else if (!node.available) {\n\t\t\tisReconnected = true;\n\t\t\tnode.lastHeartbeatTime = Math.round(process.uptime());\n\t\t\tnode.available = true;\n\t\t\tnode.offlineSince = null;\n\t\t}\n\n\t\t// Update instance\n\t\tconst needRegister = node.update(payload, isReconnected);\n\n\t\t// Refresh services if 'seq' is greater or it is a reconnected node\n\t\tif (needRegister && node.services) {\n\t\t\tthis.registry.registerServices(node, node.services);\n\t\t}\n\n\t\t// Local notifications\n\t\tif (isNew) {\n\t\t\tthis.broker.broadcastLocal(\"$node.connected\", { node, reconnected: false });\n\t\t\tthis.logger.info(`Node '${nodeID}' connected.`);\n\t\t\tthis.registry.updateMetrics();\n\t\t} else if (isReconnected) {\n\t\t\tthis.broker.broadcastLocal(\"$node.connected\", { node, reconnected: true });\n\t\t\tthis.logger.info(`Node '${nodeID}' reconnected.`);\n\t\t\tthis.registry.updateMetrics();\n\t\t} else {\n\t\t\tthis.broker.broadcastLocal(\"$node.updated\", { node });\n\t\t\tthis.logger.debug(`Node '${nodeID}' updated.`);\n\t\t}\n\n\t\treturn node;\n\t}\n\n\t/**\n\t * Disconnected a node\n\t *\n\t * @param {String} nodeID\n\t * @param {Boolean} isUnexpected\n\t * @memberof NodeCatalog\n\t */\n\tdisconnected(nodeID, isUnexpected) {\n\t\tlet node = this.get(nodeID);\n\t\tif (node && node.available) {\n\t\t\tnode.disconnected(isUnexpected);\n\n\t\t\tthis.registry.unregisterServicesByNode(node.id);\n\n\t\t\tthis.broker.broadcastLocal(\"$node.disconnected\", { node, unexpected: !!isUnexpected });\n\n\t\t\tthis.registry.updateMetrics();\n\n\t\t\tthis.logger.warn(`Node '${node.id}' disconnected${isUnexpected ? \" unexpectedly\" : \"\"}.`);\n\n\t\t\tif (this.broker.transit)\n\t\t\t\tthis.broker.transit.removePendingRequestByNodeID(nodeID);\n\t\t}\n\t}\n\n\n\t/**\n\t * Get a node list\n\t *\n\t * @param {Object} {onlyAvailable = false, withServices = false}\n\t * @returns\n\t * @memberof NodeCatalog\n\t */\n\tlist({ onlyAvailable = false, withServices = false }) {\n\t\tlet res = [];\n\t\tthis.nodes.forEach(node => {\n\t\t\tif (onlyAvailable && !node.available)\n\t\t\t\treturn;\n\n\t\t\tif (withServices)\n\t\t\t\tres.push(_.omit(node, [\"rawInfo\"]));\n\t\t\telse\n\t\t\t\tres.push(_.omit(node, [\"services\", \"rawInfo\"]));\n\t\t});\n\n\t\treturn res;\n\t}\n\n\t/**\n\t * Get a copy from node list.\n\t */\n\ttoArray() {\n\t\treturn Array.from(this.nodes.values());\n\t}\n}\n\nmodule.exports = NodeCatalog;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n/**\n * Service class\n *\n * @class ServiceItem\n */\nclass ServiceItem {\n\n\t/**\n\t * Creates an instance of ServiceItem.\n\t *\n\t * @param {Node} node\n\t * @param {Object} service\n\t * @param {Boolean} local\n\t * @memberof ServiceItem\n\t */\n\tconstructor(node, service, local) {\n\t\tthis.node = node;\n\t\tthis.name = service.name;\n\t\tthis.fullName = service.fullName;\n\t\tthis.version = service.version;\n\t\tthis.settings = service.settings;\n\t\tthis.metadata = service.metadata || {};\n\n\t\tthis.local = !!local;\n\n\t\tthis.actions = {};\n\t\tthis.events = {};\n\t}\n\n\t/**\n\t * Check the service equals params\n\t *\n\t * @param {String} fullName\n\t * @param {String} nodeID\n\t * @returns\n\t * @memberof ServiceItem\n\t */\n\tequals(fullName, nodeID) {\n\t\treturn this.fullName == fullName && (nodeID == null || this.node.id == nodeID);\n\t}\n\n\t/**\n\t * Update service properties\n\t *\n\t * @param {any} svc\n\t * @memberof ServiceItem\n\t */\n\tupdate(svc) {\n\t\tthis.fullName = svc.fullName;\n\t\tthis.version = svc.version;\n\t\tthis.settings = svc.settings;\n\t\tthis.metadata = svc.metadata || {};\n\t}\n\n\t/**\n\t * Add action to service\n\t *\n\t * @param {any} action\n\t * @memberof ServiceItem\n\t */\n\taddAction(action) {\n\t\tthis.actions[action.name] = action;\n\t}\n\n\t/**\n\t * Add event to service\n\t *\n\t * @param {any} event\n\t * @memberof ServiceItem\n\t */\n\taddEvent(event) {\n\t\tthis.events[event.name] = event;\n\t}\n}\n\nmodule.exports = ServiceItem;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst ServiceItem = require(\"./service-item\");\nconst { removeFromArray } = require(\"../utils\");\n\n/**\n * Catalog for services\n *\n * @class ServiceCatalog\n */\nclass ServiceCatalog {\n\n\t/**\n\t * Creates an instance of ServiceCatalog.\n\t *\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t * @memberof ServiceCatalog\n\t */\n\tconstructor(registry, broker) {\n\t\tthis.registry = registry;\n\t\tthis.broker = broker;\n\t\tthis.logger = registry.logger;\n\n\t\tthis.services = [];\n\t}\n\n\t/**\n\t * Add a new service\n\t *\n\t * @param {Node} node\n\t * @param {Object} service\n\t * @param {Boolean} local\n\t *\n\t * @returns {ServiceItem}\n\t *\n\t * @memberof ServiceCatalog\n\t */\n\tadd(node, service, local) {\n\t\tconst item = new ServiceItem(node, service, local);\n\t\tthis.services.push(item);\n\t\treturn item;\n\t}\n\n\t/**\n\t * Check the service is exist\n\t *\n\t * @param {String} fullName\n\t * @param {String} nodeID\n\t * @returns\n\t * @memberof ServiceCatalog\n\t */\n\thas(fullName, nodeID) {\n\t\treturn this.services.find(svc => svc.equals(fullName, nodeID)) != null;\n\t}\n\n\t/**\n\t * Get a service by fullName & nodeID\n\t *\n\t * @param {String} fullName\n\t * @param {String} nodeID\n\t * @returns\n\t * @memberof ServiceCatalog\n\t */\n\tget(fullName, nodeID) {\n\t\treturn this.services.find(svc => svc.equals(fullName, nodeID));\n\t}\n\n\t/**\n\t * Get a filtered list of services with actions\n\t *\n\t * @param {Object} {onlyLocal = false,  onlyAvailable = false, skipInternal = false, withActions = false, withEvents = false, grouping = false}\n\t * @returns {Array}\n\t *\n\t * @memberof Registry\n\t */\n\tlist({ onlyLocal = false, onlyAvailable = false, skipInternal = false, withActions = false, withEvents = false, grouping = false }) {\n\t\tlet res = [];\n\t\tthis.services.forEach(service => {\n\t\t\tif (skipInternal && /^\\$/.test(service.name))\n\t\t\t\treturn;\n\n\t\t\tif (onlyLocal && !service.local)\n\t\t\t\treturn;\n\n\t\t\tif (onlyAvailable && !service.node.available)\n\t\t\t\treturn;\n\n\t\t\tlet item;\n\t\t\tif (grouping)\n\t\t\t\titem = res.find(svc => svc.fullName == service.fullName);\n\n\t\t\tif (!item) {\n\t\t\t\tlet item = {\n\t\t\t\t\tname: service.name,\n\t\t\t\t\tversion: service.version,\n\t\t\t\t\tfullName: service.fullName,\n\t\t\t\t\tsettings: service.settings,\n\t\t\t\t\tmetadata: service.metadata,\n\n\t\t\t\t\tlocal: service.local,\n\t\t\t\t\tavailable: service.node.available,\n\t\t\t\t};\n\n\t\t\t\tif (grouping)\n\t\t\t\t\titem.nodes = [service.node.id];\n\t\t\t\telse\n\t\t\t\t\titem.nodeID = service.node.id;\n\n\t\t\t\tif (withActions) {\n\t\t\t\t\titem.actions = {};\n\n\t\t\t\t\t_.forIn(service.actions, action => {\n\t\t\t\t\t\tif (action.protected) return;\n\n\t\t\t\t\t\titem.actions[action.name] = _.omit(action, [\"handler\", \"remoteHandler\", \"service\"]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (withEvents) {\n\t\t\t\t\titem.events = {};\n\n\t\t\t\t\t_.forIn(service.events, event => {\n\t\t\t\t\t\t// Skip internal event handlers\n\t\t\t\t\t\tif (/^\\$/.test(event.name)) return;\n\n\t\t\t\t\t\titem.events[event.name] = _.omit(event, [\"handler\", \"remoteHandler\", \"service\"]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tres.push(item);\n\n\t\t\t} else {\n\t\t\t\tif (item.nodes.indexOf(service.node.id) === -1)\n\t\t\t\t\titem.nodes.push(service.node.id);\n\t\t\t}\n\t\t});\n\n\t\treturn res;\n\t}\n\n\t/**\n\t * Get local service list for INFO packet\n\t *\n\t * @returns {Object}\n\t * @memberof ServiceCatalog\n\t */\n\tgetLocalNodeServices() {\n\t\tlet res = [];\n\t\tthis.services.forEach(service => {\n\t\t\tif (!service.local)\n\t\t\t\treturn;\n\n\t\t\tlet item = {\n\t\t\t\tname: service.name,\n\t\t\t\tversion: service.version,\n\t\t\t\tfullName: service.fullName,\n\t\t\t\tsettings: service.settings,\n\t\t\t\tmetadata: service.metadata,\n\t\t\t\tdependencies: service.dependencies\n\t\t\t};\n\n\t\t\titem.actions = {};\n\n\t\t\t_.forIn(service.actions, action => {\n\t\t\t\tif (action.protected) return;\n\n\t\t\t\titem.actions[action.name] = _.omit(action, [\"handler\", \"remoteHandler\", \"service\"]);\n\t\t\t});\n\n\t\t\titem.events = {};\n\n\t\t\t_.forIn(service.events, event => {\n\t\t\t\t// Leave internal event handlers, because it can be used for internal events.\n\t\t\t\t//if (/^\\$/.test(event.name)) return;\n\n\t\t\t\titem.events[event.name] = _.omit(event, [\"handler\", \"remoteHandler\", \"service\"]);\n\t\t\t});\n\n\t\t\tres.push(item);\n\t\t});\n\n\t\treturn res;\n\t}\n\n\t/**\n\t * Remove all endpoints by nodeID\n\t *\n\t * @param {String} nodeID\n\t * @memberof ServiceCatalog\n\t */\n\tremoveAllByNodeID(nodeID) {\n\t\t_.remove(this.services, service => {\n\t\t\tif (service.node.id == nodeID) {\n\t\t\t\tthis.registry.actions.removeByService(service);\n\t\t\t\tthis.registry.events.removeByService(service);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Remove endpoint by fullName & nodeID\n\t *\n\t * @param {String} fullName\n\t * @param {String} nodeID\n\t * @memberof ServiceCatalog\n\t */\n\tremove(fullName, nodeID) {\n\t\tlet service = this.get(fullName, nodeID);\n\t\tif (service) {\n\t\t\tthis.registry.actions.removeByService(service);\n\t\t\tthis.registry.events.removeByService(service);\n\n\t\t\tremoveFromArray(this.services, service);\n\t\t}\n\t}\n}\n\nmodule.exports = ServiceCatalog;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { MoleculerServerError } = require(\"../errors\");\n\n/**\n * Endpoint list class\n *\n * @class EndpointList\n */\nclass EndpointList {\n\n\t/**\n\t * Creates an instance of EndpointList.\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t * @param {String} name\n\t * @param {String} group\n\t * @param {EndPointClass} EndPointFactory\n\t * @param {StrategyClass} StrategyFactory\n\t * @param {Object?} strategyOptions\n\t * @memberof EndpointList\n\t */\n\tconstructor(registry, broker, name, group, EndPointFactory, StrategyFactory, strategyOptions) {\n\t\tthis.registry = registry;\n\t\tthis.broker = broker;\n\t\tthis.logger = registry.logger;\n\t\tthis.strategy = new StrategyFactory(registry, broker, strategyOptions);\n\t\tthis.name = name;\n\t\tthis.group = group;\n\t\tthis.internal = name.startsWith(\"$\");\n\n\t\tthis.EndPointFactory = EndPointFactory;\n\n\t\tthis.endpoints = [];\n\n\t\tthis.localEndpoints = [];\n\t}\n\n\t/**\n\t * Add a new endpoint\n\t *\n\t * @param {Node} node\n\t * @param {Service} service\n\t * @param {any} data\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\tadd(node, service, data) {\n\t\tconst found = this.endpoints.find(ep => ep.node == node && ep.service.name == service.name);\n\t\tif (found) {\n\t\t\tfound.update(data);\n\t\t\treturn found;\n\t\t}\n\n\t\tconst ep = new this.EndPointFactory(this.registry, this.broker, node, service, data);\n\t\tthis.endpoints.push(ep);\n\n\t\tthis.setLocalEndpoints();\n\n\t\treturn ep;\n\t}\n\n\t/**\n\t * Get first endpoint\n\t *\n\t * @returns {Endpoint}\n\t * @memberof EndpointList\n\t */\n\tgetFirst() {\n\t\tif (this.endpoints.length > 0)\n\t\t\treturn this.endpoints[0];\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Select next endpoint with balancer strategy\n\t *\n\t * @param {Array<Endpoint>} list\n\t * @param {Context} ctx\n\t * @returns {Endpoint}\n\t * @memberof EndpointList\n\t */\n\tselect(list, ctx) {\n\t\tconst ret = this.strategy.select(list, ctx);\n\t\tif (!ret) {\n\t\t\t/* istanbul ignore next */\n\t\t\tthrow new MoleculerServerError(\"Strategy returned an invalid endpoint.\", 500, \"INVALID_ENDPOINT\", { strategy: typeof(this.strategy) });\n\t\t}\n\t\treturn ret;\n\t}\n\n\t/**\n\t * Get next endpoint\n\t *\n\t * @param {Context} ctx\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\tnext(ctx) {\n\t\t// No items\n\t\tif (this.endpoints.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// If internal (service), return the local always\n\t\tif (this.internal && this.hasLocal()) {\n\t\t\treturn this.nextLocal();\n\t\t}\n\n\t\t// Only 1 item\n\t\tif (this.endpoints.length === 1) {\n\t\t\t// No need to select a node, return the only one\n\t\t\tconst item = this.endpoints[0];\n\t\t\tif (item.isAvailable)\n\t\t\t\treturn item;\n\n\t\t\treturn null;\n\t\t}\n\n\t\t// Search local item\n\t\tif (this.registry.opts.preferLocal === true && this.hasLocal()) {\n\t\t\tconst ep = this.nextLocal(ctx);\n\t\t\tif (ep && ep.isAvailable)\n\t\t\t\treturn ep;\n\t\t}\n\n\t\tconst epList = this.endpoints.filter(ep => ep.isAvailable);\n\t\tif (epList.length == 0)\n\t\t\treturn null;\n\n\t\treturn this.select(epList, ctx);\n\t}\n\n\t/**\n\t * Get next local endpoint\n\t *\n\t * @param {Context} ctx\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\tnextLocal(ctx) {\n\t\t// No items\n\t\tif (this.localEndpoints.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Only 1 item\n\t\tif (this.localEndpoints.length === 1) {\n\t\t\t// No need to select a node, return the only one\n\t\t\tconst item = this.localEndpoints[0];\n\t\t\tif (item.isAvailable)\n\t\t\t\treturn item;\n\n\t\t\treturn null;\n\t\t}\n\n\t\tconst epList = this.localEndpoints.filter(ep => ep.isAvailable);\n\t\tif (epList.length == 0)\n\t\t\treturn null;\n\n\t\treturn this.select(epList, ctx);\n\t}\n\n\t/**\n\t * Check there is available endpoint\n\t *\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\thasAvailable() {\n\t\treturn this.endpoints.find(ep => ep.isAvailable) != null;\n\t}\n\n\t/**\n\t * Check there is local endpoint\n\t *\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\thasLocal() {\n\t\treturn this.localEndpoints.length > 0;\n\t}\n\n\t/**\n\t * Set local endpoint\n\t *\n\t * @memberof EndpointList\n\t */\n\tsetLocalEndpoints() {\n\t\tthis.localEndpoints = this.endpoints.filter(ep => ep.local);\n\t}\n\n\t/**\n\t * Get count of endpoints\n\t *\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\tcount() {\n\t\treturn this.endpoints.length;\n\t}\n\n\t/**\n\t * Get endpoint on a specified node\n\t *\n\t * @param {String} nodeID\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\tgetEndpointByNodeID(nodeID) {\n\t\tconst ep = this.endpoints.find(ep => ep.id == nodeID);\n\t\tif (ep && ep.isAvailable)\n\t\t\treturn ep;\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Check nodeID in the endpoint list\n\t *\n\t * @param {String} nodeID\n\t * @returns\n\t * @memberof EndpointList\n\t */\n\thasNodeID(nodeID) {\n\t\treturn this.endpoints.find(ep => ep.id == nodeID) != null;\n\t}\n\n\t/**\n\t * Remove all endpoints by service\n\t *\n\t * @param {ServiceItem} service\n\t * @memberof EndpointList\n\t */\n\tremoveByService(service) {\n\t\t_.remove(this.endpoints, ep => {\n\t\t\tif (ep.service == service) {\n\t\t\t\tep.destroy();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tthis.setLocalEndpoints();\n\t}\n\n\t/**\n\t * Remove endpoints by node ID\n\t *\n\t * @param {String} nodeID\n\t * @memberof EndpointList\n\t */\n\tremoveByNodeID(nodeID) {\n\t\t_.remove(this.endpoints, ep => {\n\t\t\tif (ep.id == nodeID) {\n\t\t\t\tep.destroy();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tthis.setLocalEndpoints();\n\t}\n}\n\nmodule.exports = EndpointList;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n/**\n * Endpoint class\n *\n * @class Endpoint\n */\nclass Endpoint {\n\t/**\n\t * Creates an instance of Endpoint.\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t * @param {Node} node\n\t * @memberof Endpoint\n\t */\n\tconstructor(registry, broker, node) {\n\t\tthis.registry = registry;\n\t\tthis.broker = broker;\n\n\t\tthis.id = node.id;\n\t\tthis.node = node;\n\n\t\tthis.local = node.id === broker.nodeID;\n\t\tthis.state = true;\n\t}\n\n\tdestroy() {\n\n\t}\n\n\t/**\n\t * Get availability\n\t *\n\t * @readonly\n\t * @memberof Endpoint\n\t */\n\tget isAvailable() {\n\t\treturn this.state;\n\t}\n\n\tupdate() {\n\n\t}\n}\n\nmodule.exports = Endpoint;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Endpoint = require(\"./endpoint\");\n\n/**\n * Endpoint class for events\n *\n * @class EventEndpoint\n * @extends {Endpoint}\n */\nclass EventEndpoint extends Endpoint {\n\n\t/**\n\t * Creates an instance of EventEndpoint.\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t * @param {Node} node\n\t * @param {Service} service\n\t * @param {any} event\n\t * @memberof EventEndpoint\n\t */\n\tconstructor(registry, broker, node, service, event) {\n\t\tsuper(registry, broker, node);\n\n\t\tthis.service = service;\n\t\tthis.event = event;\n\t}\n\n\t/**\n\t * Update properties\n\t *\n\t * @param {any} event\n\t * @memberof EventEndpoint\n\t */\n\tupdate(event) {\n\t\tthis.event = event;\n\t}\n}\n\nmodule.exports = EventEndpoint;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ \t\t\t= require(\"lodash\");\nconst utils\t\t\t= require(\"../utils\");\nconst Strategies \t= require(\"../strategies\");\nconst EndpointList \t= require(\"./endpoint-list\");\nconst EventEndpoint = require(\"./endpoint-event\");\n\n/**\n * Catalog for events\n *\n * @class EventCatalog\n */\nclass EventCatalog {\n\n\t/**\n\t * Creates an instance of EventCatalog.\n\t *\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t * @param {any} StrategyFactory\n\t * @memberof EventCatalog\n\t */\n\tconstructor(registry, broker, StrategyFactory) {\n\t\tthis.registry = registry;\n\t\tthis.broker = broker;\n\t\tthis.logger = registry.logger;\n\t\tthis.StrategyFactory = StrategyFactory;\n\n\t\tthis.events = [];\n\n\t\tthis.EndpointFactory = EventEndpoint;\n\t}\n\n\t/**\n\t * Add a new event\n\t *\n\t * @param {Node} node\n\t * @param {ServiceItem} service\n\t * @param {any} event\n\t * @returns\n\t * @memberof EventCatalog\n\t */\n\tadd(node, service, event) {\n\t\tconst eventName = event.name;\n\t\tconst groupName = event.group || service.name;\n\t\tlet list = this.get(eventName, groupName);\n\t\tif (!list) {\n\t\t\tconst strategyFactory = event.strategy ? (Strategies.resolve(event.strategy) || this.StrategyFactory) : this.StrategyFactory;\n\t\t\tconst strategyOptions = event.strategyOptions ? event.strategyOptions : this.registry.opts.strategyOptions;\n\t\t\t// Create a new EndpointList\n\t\t\tlist = new EndpointList(this.registry, this.broker, eventName, groupName, this.EndpointFactory, strategyFactory, strategyOptions);\n\t\t\tthis.events.push(list);\n\t\t}\n\n\t\tlist.add(node, service, event);\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Get an event by name (and group name)\n\t *\n\t * @param {String} eventName\n\t * @param {String} groupName\n\t * @returns\n\t * @memberof EventCatalog\n\t */\n\tget(eventName, groupName) {\n\t\treturn this.events.find(list => list.name == eventName && list.group == groupName);\n\t}\n\n\t/**\n\t * Get balanced endpoint for event\n\t *\n\t * @param {String} eventName\n\t * @param {String|Array?} groups\n\t * @returns\n\t * @memberof EventCatalog\n\t */\n\tgetBalancedEndpoints(eventName, groups) {\n\t\tconst res = [];\n\n\t\tthis.events.forEach(list => {\n\t\t\tif (!utils.match(eventName, list.name)) return;\n\t\t\tif (groups == null || groups.length == 0 || groups.indexOf(list.group) != -1) {\n\t\t\t\t// Use built-in balancer, get the next endpoint\n\t\t\t\tconst ep = list.next();\n\t\t\t\tif (ep && ep.isAvailable)\n\t\t\t\t\tres.push([ep, list.group]);\n\t\t\t}\n\t\t});\n\n\t\treturn res;\n\t}\n\n\t/**\n\t * Get all groups for event\n\t *\n\t * @param {String} eventName\n\t * @returns Array<String>\n\t * @memberof EventCatalog\n\t */\n\tgetGroups(eventName) {\n\t\treturn _.uniq(this.events.filter(list => utils.match(eventName, list.name)).map(item => item.group));\n\t}\n\n\t/**\n\t * Get all endpoints for event\n\t *\n\t * @param {String} eventName\n\t * @param {Array<String>?} groupNames\n\t * @returns\n\t * @memberof EventCatalog\n\t */\n\tgetAllEndpoints(eventName, groupNames) {\n\t\tconst res = [];\n\t\tthis.events.forEach(list => {\n\t\t\tif (!utils.match(eventName, list.name)) return;\n\t\t\tif (groupNames == null || groupNames.length == 0 || groupNames.indexOf(list.group) !== -1) {\n\t\t\t\tlist.endpoints.forEach(ep => {\n\t\t\t\t\tif (ep.isAvailable)\n\t\t\t\t\t\tres.push(ep);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn _.uniqBy(res, \"id\");\n\t}\n\n\t/**\n\t * Call local service handlers\n\t *\n\t * @param {String} eventName\n\t * @param {any} payload\n\t * @param {Array<String>?} groupNames\n\t * @param {String} nodeID\n\t * @param {boolean} broadcast\n\t * @returns {Promise<any>}\n\t *\n\t * @memberof EventCatalog\n\t */\n\temitLocalServices(ctx) {\n\t\tconst isBroadcast = [\"broadcast\", \"broadcastLocal\"].indexOf(ctx.eventType) !== -1;\n\t\tconst sender = ctx.nodeID;\n\n\t\tconst promises = [];\n\n\t\tthis.events.forEach(list => {\n\t\t\tif (!utils.match(ctx.eventName, list.name)) return;\n\t\t\tif (ctx.eventGroups == null || ctx.eventGroups.length == 0 || ctx.eventGroups.indexOf(list.group) !== -1) {\n\t\t\t\tif (isBroadcast) {\n\t\t\t\t\tlist.endpoints.forEach(ep => {\n\t\t\t\t\t\tif (ep.local && ep.event.handler) {\n\t\t\t\t\t\t\tconst newCtx = ctx.copy(ep);\n\t\t\t\t\t\t\tnewCtx.nodeID = sender;\n\t\t\t\t\t\t\tpromises.push(this.callEventHandler(newCtx));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst ep = list.nextLocal();\n\t\t\t\t\tif (ep && ep.event.handler) {\n\t\t\t\t\t\tconst newCtx = ctx.copy(ep);\n\t\t\t\t\t\tnewCtx.nodeID = sender;\n\t\t\t\t\t\tpromises.push(this.callEventHandler(newCtx));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn this.broker.Promise.all(promises);\n\t}\n\n\t/**\n\t * Call local event handler and handles unhandled promise rejections.\n\t *\n\t * @param {Context} ctx\n\t *\n\t * @memberof EventCatalog\n\t */\n\tcallEventHandler(ctx) {\n\t\treturn ctx.endpoint.event.handler(ctx);\n\t}\n\n\t/**\n\t * Remove endpoints by service\n\t *\n\t * @param {ServiceItem} service\n\t * @memberof EventCatalog\n\t */\n\tremoveByService(service) {\n\t\tthis.events.forEach(list => {\n\t\t\tlist.removeByService(service);\n\t\t});\n\t}\n\n\t/**\n\t * Remove endpoint by name & nodeId\n\t *\n\t * @param {String} eventName\n\t * @param {String} nodeID\n\t * @memberof EventCatalog\n\t */\n\tremove(eventName, nodeID) {\n\t\tthis.events.forEach(list => {\n\t\t\tif (list.name == eventName)\n\t\t\t\tlist.removeByNodeID(nodeID);\n\t\t});\n\t}\n\n\t/**\n\t * Get a filtered list of events\n\t *\n\t * @param {Object} {onlyLocal = false, onlyAvailable = false, skipInternal = false, withEndpoints = false}\n\t * @returns {Array}\n\t *\n\t * @memberof EventCatalog\n\t */\n\tlist({ onlyLocal = false, onlyAvailable = false, skipInternal = false, withEndpoints = false }) {\n\t\tlet res = [];\n\n\t\tthis.events.forEach(list => {\n\t\t\t/* istanbul ignore next */\n\t\t\tif (skipInternal && /^\\$/.test(list.name))\n\t\t\t\treturn;\n\n\t\t\tif (onlyLocal && !list.hasLocal())\n\t\t\t\treturn;\n\n\t\t\tif (onlyAvailable && !list.hasAvailable())\n\t\t\t\treturn;\n\n\t\t\tlet item = {\n\t\t\t\tname: list.name,\n\t\t\t\tgroup: list.group,\n\t\t\t\tcount: list.count(),\n\t\t\t\t//service: list.service,\n\t\t\t\thasLocal: list.hasLocal(),\n\t\t\t\tavailable: list.hasAvailable()\n\t\t\t};\n\n\t\t\tif (item.count > 0) {\n\t\t\t\tconst ep = list.endpoints[0];\n\t\t\t\tif (ep)\n\t\t\t\t\titem.event = _.omit(ep.event, [\"handler\", \"remoteHandler\", \"service\"]);\n\t\t\t}\n\n\t\t\tif (withEndpoints) {\n\t\t\t\tif (item.count > 0) {\n\t\t\t\t\titem.endpoints = list.endpoints.map(ep => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnodeID: ep.node.id,\n\t\t\t\t\t\t\tstate: ep.state,\n\t\t\t\t\t\t\tavailable: ep.node.available,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tres.push(item);\n\t\t});\n\n\t\treturn res;\n\t}\n}\n\nmodule.exports = EventCatalog;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Endpoint = require(\"./endpoint\");\n\n/**\n * Endpoint class for actions\n *\n * @class ActionEndpoint\n * @extends {Endpoint}\n */\nclass ActionEndpoint extends Endpoint {\n\n\t/**\n\t * Creates an instance of ActionEndpoint.\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t * @param {Node} node\n\t * @param {ServiceItem} service\n\t * @param {any} action\n\t * @memberof ActionEndpoint\n\t */\n\tconstructor(registry, broker, node, service, action) {\n\t\tsuper(registry, broker, node);\n\n\t\tthis.service = service;\n\t\tthis.action = action;\n\n\t\tthis.name = `${this.id}:${this.action.name}`;\n\t}\n\n\t/**\n\t * Update properties\n\t *\n\t * @param {any} action\n\t * @memberof ActionEndpoint\n\t */\n\tupdate(action) {\n\t\tthis.action = action;\n\t}\n}\n\nmodule.exports = ActionEndpoint;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst Strategies = require(\"../strategies\");\nconst EndpointList = require(\"./endpoint-list\");\nconst ActionEndpoint = require(\"./endpoint-action\");\n\n/**\n * Catalog class to store service actions\n *\n * @class ActionCatalog\n */\nclass ActionCatalog {\n\n\t/**\n\t * Creates an instance of ActionCatalog.\n\t *\n\t * @param {Registry} registry\n\t * @param {ServiceBroker} broker\n\t * @param {Strategy} StrategyFactory\n\t * @memberof ActionCatalog\n\t */\n\tconstructor(registry, broker, StrategyFactory) {\n\t\tthis.registry = registry;\n\t\tthis.broker = broker;\n\t\tthis.logger = registry.logger;\n\t\tthis.StrategyFactory = StrategyFactory;\n\n\t\tthis.actions = new Map();\n\n\t\tthis.EndpointFactory = ActionEndpoint;\n\t}\n\n\t/**\n\t * Add an action\n\t *\n\t * @param {Node} node\n\t * @param {ServiceItem} service\n\t * @param {Action} action\n\t * @memberof ActionCatalog\n\t */\n\tadd(node, service, action) {\n\t\tlet list = this.actions.get(action.name);\n\t\tif (!list) {\n\t\t\tconst strategyFactory = action.strategy ? (Strategies.resolve(action.strategy) || this.StrategyFactory) : this.StrategyFactory;\n\t\t\tconst strategyOptions = action.strategyOptions ? action.strategyOptions : this.registry.opts.strategyOptions;\n\t\t\t// Create a new EndpointList\n\t\t\tlist = new EndpointList(this.registry, this.broker, action.name, null, this.EndpointFactory, strategyFactory, strategyOptions);\n\t\t\tthis.actions.set(action.name, list);\n\t\t}\n\n\t\tlist.add(node, service, action);\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Get action by name\n\t *\n\t * @param {String} actionName\n\t * @returns\n\t * @memberof ActionCatalog\n\t */\n\tget(actionName) {\n\t\treturn this.actions.get(actionName);\n\t}\n\n\t/**\n\t * Check the action is available (there is live endpoint)\n\t *\n\t * @param {String} actionName\n\t * @returns {Boolean}\n\t * @memberof ActionCatalog\n\t */\n\tisAvailable(actionName) {\n\t\tconst list = this.actions.get(actionName);\n\t\tif (list)\n\t\t\treturn list.hasAvailable();\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Remove all actions by service\n\t *\n\t * @param {ServiceItem} service\n\t * @memberof ActionCatalog\n\t */\n\tremoveByService(service) {\n\t\tthis.actions.forEach(list => {\n\t\t\tlist.removeByService(service);\n\t\t});\n\t}\n\n\t/**\n\t * Remove action by name & nodeID\n\t *\n\t * @param {String} actionName\n\t * @param {String} nodeID\n\t * @memberof ActionCatalog\n\t */\n\tremove(actionName, nodeID) {\n\t\tconst list = this.actions.get(actionName);\n\t\tif (list)\n\t\t\tlist.removeByNodeID(nodeID);\n\t}\n\n\t/**\n\t * Get a filtered list of actions\n\t *\n\t * @param {Object} {onlyLocal = false, onlyAvailable = false, skipInternal = false, withEndpoints = false}\n\t * @returns {Array}\n\t *\n\t * @memberof ActionCatalog\n\t */\n\tlist({ onlyLocal = false, onlyAvailable = false, skipInternal = false, withEndpoints = false }) {\n\t\tlet res = [];\n\n\t\tthis.actions.forEach((list, key) => {\n\t\t\tif (skipInternal && /^\\$/.test(key))\n\t\t\t\treturn;\n\n\t\t\tif (onlyLocal && !list.hasLocal())\n\t\t\t\treturn;\n\n\t\t\tif (onlyAvailable && !list.hasAvailable())\n\t\t\t\treturn;\n\n\t\t\tlet item = {\n\t\t\t\tname: key,\n\t\t\t\tcount: list.count(),\n\t\t\t\thasLocal: list.hasLocal(),\n\t\t\t\tavailable: list.hasAvailable()\n\t\t\t};\n\n\t\t\tif (item.count > 0) {\n\t\t\t\tconst ep = list.endpoints[0];\n\t\t\t\tif (ep)\n\t\t\t\t\titem.action = _.omit(ep.action, [\"handler\", \"remoteHandler\", \"service\"]);\n\t\t\t}\n\t\t\tif (item.action && item.action.protected === true) return;\n\n\t\t\tif (withEndpoints) {\n\t\t\t\tif (item.count > 0) {\n\t\t\t\t\titem.endpoints = list.endpoints.map(ep => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnodeID: ep.node.id,\n\t\t\t\t\t\t\tstate: ep.state,\n\t\t\t\t\t\t\tavailable: ep.node.available,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tres.push(item);\n\t\t});\n\n\t\treturn res;\n\t}\n}\n\nmodule.exports = ActionCatalog;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\n\nconst utils = require(\"../utils\");\nconst Strategies = require(\"../strategies\");\nconst Discoverers = require(\"./discoverers\");\nconst NodeCatalog = require(\"./node-catalog\");\nconst ServiceCatalog = require(\"./service-catalog\");\nconst EventCatalog = require(\"./event-catalog\");\nconst ActionCatalog = require(\"./action-catalog\");\nconst ActionEndpoint = require(\"./endpoint-action\");\nconst { METRIC }\t\t= require(\"../metrics\");\n\n/**\n * Service Registry\n *\n * @class Registry\n */\nclass Registry {\n\n\t/**\n\t * Creates an instance of Registry.\n\t *\n\t * @param {any} broker\n\t * @memberof Registry\n\t */\n\tconstructor(broker) {\n\t\tthis.broker = broker;\n\t\tthis.metrics = broker.metrics;\n\t\tthis.logger = broker.getLogger(\"registry\");\n\n\t\tthis.opts = Object.assign({}, broker.options.registry);\n\n\t\tthis.StrategyFactory = Strategies.resolve(this.opts.strategy);\n\t\tthis.logger.info(`Strategy: ${this.StrategyFactory.name}`);\n\n\t\tthis.discoverer = Discoverers.resolve(this.opts.discoverer);\n\t\tthis.logger.info(`Discoverer: ${this.broker.getConstructorName(this.discoverer)}`);\n\n\t\tthis.nodes = new NodeCatalog(this, broker);\n\t\tthis.services = new ServiceCatalog(this, broker);\n\t\tthis.actions = new ActionCatalog(this, broker, this.StrategyFactory);\n\t\tthis.events = new EventCatalog(this, broker, this.StrategyFactory);\n\n\t\tthis.registerMoleculerMetrics();\n\t\tthis.updateMetrics();\n\t}\n\n\tinit(broker) {\n\t\tthis.discoverer.init(this);\n\t}\n\n\tstop() {\n\t\treturn this.discoverer.stop();\n\t}\n\n\t/**\n\t * Register Moleculer Core metrics.\n\t */\n\tregisterMoleculerMetrics() {\n\t\tif (!this.broker.isMetricsEnabled()) return;\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_NODES_TOTAL, type: METRIC.TYPE_GAUGE, description: \"Number of registered nodes\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_NODES_ONLINE_TOTAL, type: METRIC.TYPE_GAUGE, description: \"Number of online nodes\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_SERVICES_TOTAL, type: METRIC.TYPE_GAUGE, description: \"Number of registered services\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_SERVICE_ENDPOINTS_TOTAL, type: METRIC.TYPE_GAUGE, labelNames: [\"service\"], description: \"Number of service endpoints\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_ACTIONS_TOTAL, type: METRIC.TYPE_GAUGE, description: \"Number of registered actions\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_ACTION_ENDPOINTS_TOTAL, type: METRIC.TYPE_GAUGE, labelNames: [\"action\"], description: \"Number of action endpoints\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_EVENTS_TOTAL, type: METRIC.TYPE_GAUGE, description: \"Number of registered events\" });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_REGISTRY_EVENT_ENDPOINTS_TOTAL, type: METRIC.TYPE_GAUGE, labelNames: [\"event\"], description: \"Number of event endpoints\" });\n\t}\n\n\t/**\n\t * Update metrics.\n\t */\n\tupdateMetrics() {\n\t\tif (!this.broker.isMetricsEnabled()) return;\n\n\t\tthis.metrics.set(METRIC.MOLECULER_REGISTRY_NODES_TOTAL, this.nodes.count());\n\t\tthis.metrics.set(METRIC.MOLECULER_REGISTRY_NODES_ONLINE_TOTAL, this.nodes.onlineCount());\n\n\t\tconst services = this.services.list({ grouping: true, onlyLocal: false, onlyAvailable: false, skipInternal: false, withActions: false, withEvents: false });\n\t\tthis.metrics.set(METRIC.MOLECULER_REGISTRY_SERVICES_TOTAL, services.length);\n\t\tservices.forEach(svc => this.metrics.set(METRIC.MOLECULER_REGISTRY_SERVICE_ENDPOINTS_TOTAL, svc.nodes ? svc.nodes.length : 0, { service: svc.fullName }));\n\n\t\tconst actions = this.actions.list({ withEndpoints: true });\n\t\tthis.metrics.set(METRIC.MOLECULER_REGISTRY_ACTIONS_TOTAL, actions.length);\n\t\tactions.forEach(item => this.metrics.set(METRIC.MOLECULER_REGISTRY_ACTION_ENDPOINTS_TOTAL, item.endpoints ? item.endpoints.length : 0, { action: item.name }));\n\n\t\tconst events = this.events.list({ withEndpoints: true });\n\t\tthis.metrics.set(METRIC.MOLECULER_REGISTRY_EVENTS_TOTAL, events.length);\n\t\tevents.forEach(item => this.metrics.set(METRIC.MOLECULER_REGISTRY_EVENT_ENDPOINTS_TOTAL, item.endpoints ? item.endpoints.length : 0, { event: item.name }));\n\t}\n\n\t/**\n\t * Register local service\n\t *\n\t * @param {Service} svc\n\t * @memberof Registry\n\t */\n\tregisterLocalService(svc) {\n\t\tif (!this.services.has(svc.fullName, this.broker.nodeID)) {\n\t\t\tconst service = this.services.add(this.nodes.localNode, svc, true);\n\n\t\t\tif (svc.actions)\n\t\t\t\tthis.registerActions(this.nodes.localNode, service, svc.actions);\n\n\t\t\tif (svc.events)\n\t\t\t\tthis.registerEvents(this.nodes.localNode, service, svc.events);\n\n\t\t\tthis.nodes.localNode.services.push(service);\n\n\t\t\tthis.regenerateLocalRawInfo(this.broker.started);\n\n\t\t\tthis.logger.info(`'${svc.name}' service is registered.`);\n\n\t\t\tthis.broker.servicesChanged(true);\n\t\t\tthis.updateMetrics();\n\t\t}\n\t}\n\n\t/**\n\t * Register remote services\n\t *\n\t * @param {Nodeany} node\n\t * @param {Array} serviceList\n\t * @memberof Registry\n\t */\n\tregisterServices(node, serviceList) {\n\t\tserviceList.forEach(svc => {\n\t\t\tif (!svc.fullName)\n\t\t\t\tsvc.fullName = this.broker.ServiceFactory.getVersionedFullName(svc.name, svc.version);\n\n\t\t\tlet prevActions, prevEvents;\n\t\t\tlet service = this.services.get(svc.fullName, node.id);\n\t\t\tif (!service) {\n\t\t\t\tservice = this.services.add(node, svc, false);\n\t\t\t} else {\n\t\t\t\tprevActions = Object.assign({}, service.actions);\n\t\t\t\tprevEvents = Object.assign({}, service.events);\n\t\t\t\tservice.update(svc);\n\t\t\t}\n\n\t\t\t//Register actions\n\t\t\tif (svc.actions) {\n\t\t\t\tthis.registerActions(node, service, svc.actions);\n\t\t\t}\n\n\t\t\t// remove old actions which is not exist\n\t\t\tif (prevActions) {\n\t\t\t\t_.forIn(prevActions, (action, name) => {\n\t\t\t\t\tif (!svc.actions || !svc.actions[name]) {\n\t\t\t\t\t\tthis.unregisterAction(node, name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Register events\n\t\t\tif (svc.events) {\n\t\t\t\tthis.registerEvents(node, service, svc.events);\n\t\t\t}\n\n\t\t\t// remove old events which is not exist\n\t\t\tif (prevEvents) {\n\t\t\t\t_.forIn(prevEvents, (event, name) => {\n\t\t\t\t\tif (!svc.events || !svc.events[name]) {\n\t\t\t\t\t\tthis.unregisterEvent(node, name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// remove old services which is not exist in new serviceList\n\t\t// Please note! At first, copy the array because you can't remove items inside forEach\n\t\tconst prevServices = Array.from(this.services.services);\n\t\tprevServices.forEach(service => {\n\t\t\tif (service.node != node) return;\n\n\t\t\tlet exist = false;\n\t\t\tserviceList.forEach(svc => {\n\t\t\t\tif (service.equals(svc.fullName))\n\t\t\t\t\texist = true;\n\t\t\t});\n\n\t\t\t// This service is removed on remote node!\n\t\t\tif (!exist) {\n\t\t\t\tthis.unregisterService(service.fullName, node.id);\n\t\t\t}\n\t\t});\n\n\t\tthis.broker.servicesChanged(false);\n\t\tthis.updateMetrics();\n\t}\n\n\t/**\n\t * Check the action visiblity.\n\t *\n\t * \tAvailable values:\n\t * \t\t- \"published\" or `null`: public action and can be published via API Gateway\n\t * \t\t- \"public\": public action, can be called remotely but not published via API GW\n\t * \t\t- \"protected\": can be called from local services\n\t * \t\t- \"private\": can be called from internally via `this.actions.xy()` inside Service\n\t *\n\t * @param {*} action\n\t * @param {*} node\n\t * @returns\n\t * @memberof Registry\n\t */\n\tcheckActionVisibility(action, node) {\n\t\tif (action.visibility == null || action.visibility == \"published\" || action.visibility == \"public\")\n\t\t\treturn true;\n\n\t\tif (action.visibility == \"protected\" && node.local)\n\t\t\treturn true;\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Register service actions\n\t *\n\t * @param {Node} node\n\t * @param {Service} service\n\t * @param {Object} actions\n\t * @memberof Registry\n\t */\n\tregisterActions(node, service, actions) {\n\t\t_.forIn(actions, action => {\n\n\t\t\tif (!this.checkActionVisibility(action, node))\n\t\t\t\treturn;\n\n\t\t\tif (node.local) {\n\t\t\t\taction.handler = this.broker.middlewares.wrapHandler(\"localAction\", action.handler, action);\n\t\t\t} else if (this.broker.transit) {\n\t\t\t\taction.handler = this.broker.middlewares.wrapHandler(\"remoteAction\", this.broker.transit.request.bind(this.broker.transit), { ...action, service });\n\t\t\t}\n\t\t\tif (this.broker.options.disableBalancer && this.broker.transit)\n\t\t\t\taction.remoteHandler = this.broker.middlewares.wrapHandler(\"remoteAction\", this.broker.transit.request.bind(this.broker.transit), { ...action, service });\n\n\t\t\tthis.actions.add(node, service, action);\n\t\t\tservice.addAction(action);\n\t\t});\n\t}\n\n\t/**\n\t * Create a local Endpoint for private actions\n\t *\n\t * @param {Action} action\n\t * @returns {ActionEndpoint}\n\t * @memberof Registry\n\t */\n\tcreatePrivateActionEndpoint(action) {\n\t\treturn new ActionEndpoint(this, this.broker, this.nodes.localNode, action.service, action);\n\t}\n\n\t/**\n\t * Check the service is exist\n\t *\n\t * @param {String} fullName\n\t * @param {String} nodeID\n\t * @returns {Boolean}\n\t * @memberof Registry\n\t */\n\thasService(fullName, nodeID) {\n\t\treturn this.services.has(fullName, nodeID);\n\t}\n\n\t/**\n\t * Get endpoint list of action by name\n\t *\n\t * @param {String} actionName\n\t * @returns {EndpointList}\n\t * @memberof Registry\n\t */\n\tgetActionEndpoints(actionName) {\n\t\treturn this.actions.get(actionName);\n\t}\n\n\t/**\n\t * Get an endpoint of action on a specified node\n\t *\n\t * @param {String} actionName\n\t * @param {String} nodeID\n\t * @returns {Endpoint}\n\t * @memberof Registry\n\t */\n\tgetActionEndpointByNodeId(actionName, nodeID) {\n\t\tconst list = this.actions.get(actionName);\n\t\tif (list)\n\t\t\treturn list.getEndpointByNodeID(nodeID);\n\t}\n\n\t/**\n\t * Unregister service\n\t *\n\t * @param {String} fullName\n\t * @param {String?} nodeID\n\t * @memberof Registry\n\t */\n\tunregisterService(fullName, nodeID) {\n\t\tthis.services.remove(fullName, nodeID || this.broker.nodeID);\n\n\t\tif (!nodeID || nodeID == this.broker.nodeID) {\n\t\t\tthis.regenerateLocalRawInfo(true);\n\t\t}\n\t}\n\n\t/**\n\t * Unregister all services by nodeID\n\t *\n\t * @param {String} nodeID\n\t * @memberof Registry\n\t */\n\tunregisterServicesByNode(nodeID) {\n\t\tthis.services.removeAllByNodeID(nodeID);\n\t}\n\n\t/**\n\t * Unregister an action by node & name\n\t *\n\t * @param {Node} node\n\t * @param {String} actionName\n\t * @memberof Registry\n\t */\n\tunregisterAction(node, actionName) {\n\t\tthis.actions.remove(actionName, node.id);\n\t}\n\n\t/**\n\t * Register service events\n\t *\n\t * @param {Node} node\n\t * @param {ServiceItem} service\n\t * @param {Object} events\n\t * @memberof Registry\n\t */\n\tregisterEvents(node, service, events) {\n\t\t_.forIn(events, event => {\n\n\t\t\tif (node.local)\n\t\t\t\tevent.handler = this.broker.middlewares.wrapHandler(\"localEvent\", event.handler, event);\n\n\t\t\tthis.events.add(node, service, event);\n\t\t\tservice.addEvent(event);\n\t\t});\n\t}\n\n\t/**\n\t * Unregister event by name & node\n\t *\n\t * @param {Node} node\n\t * @param {String} eventName\n\t * @memberof Registry\n\t */\n\tunregisterEvent(node, eventName) {\n\t\tthis.events.remove(eventName, node.id);\n\t}\n\n\t/**\n\t * Generate local raw info for INFO packet\n\t *\n\t * @memberof Registry\n\t */\n\tregenerateLocalRawInfo(incSeq) {\n\t\tlet node = this.nodes.localNode;\n\t\tif (incSeq)\n\t\t\tnode.seq++;\n\n\t\tconst rawInfo = _.pick(node, [\"ipList\", \"hostname\", \"instanceID\", \"client\", \"config\", \"port\", \"seq\", \"metadata\"]);\n\t\tif (this.broker.started)\n\t\t\trawInfo.services = this.services.getLocalNodeServices();\n\t\telse\n\t\t\trawInfo.services = [];\n\n\t\t// Make to be safety\n\t\tnode.rawInfo = utils.safetyObject(rawInfo, this.broker.options);\n\n\t\treturn node.rawInfo;\n\t}\n\n\t/**\n\t * Generate local node info for INFO packets\n\t *\n\t * @returns\n\t * @memberof Registry\n\t */\n\tgetLocalNodeInfo(force) {\n\t\tif (force || !this.nodes.localNode.rawInfo)\n\t\t\treturn this.regenerateLocalRawInfo();\n\n\t\treturn this.nodes.localNode.rawInfo;\n\t}\n\n\t/**\n\t * Generate node info for INFO packets\n\t *\n\t * @returns\n\t * @memberof Registry\n\t */\n\tgetNodeInfo(nodeID) {\n\t\tconst node = this.nodes.get(nodeID);\n\t\tif (!node)\n\t\t\treturn null;\n\n\t\tif (node.local)\n\t\t\treturn this.getLocalNodeInfo();\n\n\t\treturn node.rawInfo;\n\t}\n\n\t/**\n\t * Process an incoming node INFO packet\n\t *\n\t * @param {any} payload\n\t * @returns\n\t * @memberof Registry\n\t */\n\tprocessNodeInfo(payload) {\n\t\treturn this.nodes.processNodeInfo(payload);\n\t}\n\n\t/**\n\t * Get list of registered nodes\n\t *\n\t * @param {object} opts\n\t * @returns\n\t * @memberof Registry\n\t */\n\tgetNodeList(opts) {\n\t\treturn this.nodes.list(opts);\n\t}\n\n\t/**\n\t * Get list of registered services\n\t *\n\t * @param {object} opts\n\t * @returns\n\t * @memberof Registry\n\t */\n\tgetServiceList(opts) {\n\t\treturn this.services.list(opts);\n\t}\n\n\t/**\n\t * Get list of registered actions\n\t *\n\t * @param {object} opts\n\t * @returns\n\t * @memberof Registry\n\t */\n\tgetActionList(opts) {\n\t\treturn this.actions.list(opts);\n\t}\n\n\t/**\n\t * Get list of registered events\n\t *\n\t * @param {object} opts\n\t * @returns\n\t * @memberof Registry\n\t */\n\tgetEventList(opts) {\n\t\treturn this.events.list(opts);\n\t}\n\n\t/**\n\t * Get a raw info list from nodes\n\t *\n\t * @returns {Array<Object>}\n\t * @memberof Registry\n\t */\n\tgetNodeRawList() {\n\t\treturn this.nodes.toArray().map(node => node.rawInfo);\n\t}\n}\n\nmodule.exports = Registry;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Registry = require(\"./registry\");\n\nmodule.exports = Registry;\n\nmodule.exports.Endpoint = require(\"./endpoint\");\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { match, isObject, isString }\t= require(\"../utils\");\n\nconst LEVELS = [\"fatal\", \"error\", \"warn\", \"info\", \"debug\", \"trace\"];\n\n/**\n * Logger base class.\n *\n * @class BaseLogger\n */\nclass BaseLogger {\n\n\t/**\n\t * Creates an instance of BaseLogger.\n\t *\n\t * @param {Object} opts\n\t * @memberof BaseLogger\n\t */\n\tconstructor(opts) {\n\t\tthis.opts = _.defaultsDeep(opts, {\n\t\t\tlevel: \"info\",\n\t\t\tcreateLogger: null\n\t\t});\n\t\tthis.Promise = Promise; // default promise before logger is initialized\n\t}\n\n\t/**\n\t * Initialize logger.\n\t *\n\t * @param {LoggerFactory} loggerFactory\n\t */\n\tinit(loggerFactory)  {\n\t\tthis.loggerFactory = loggerFactory;\n\t\tthis.broker = this.loggerFactory.broker;\n\t\tthis.Promise = this.broker.Promise;\n\t}\n\n\t/**\n\t * Stopping logger\n\t */\n\tstop() {\n\t\treturn this.Promise.resolve();\n\t}\n\n\tgetLogLevel(mod) {\n\t\tmod = mod ? mod.toUpperCase() : \"\";\n\n\t\tconst level = this.opts.level;\n\t\tif (isString(level))\n\t\t\treturn level;\n\n\t\tif (isObject(level)) {\n\t\t\tif (level[mod])\n\t\t\t\treturn level[mod];\n\n\t\t\t// Find with matching\n\t\t\tconst key = Object.keys(level).find(m => match(mod, m) && m !== \"**\");\n\t\t\tif (key)\n\t\t\t\treturn level[key];\n\t\t\telse if (level[\"**\"]) {\n\t\t\t\treturn level[\"**\"];\n\t\t\t}\n\t\t}\n\n\t\t/* istanbul ignore next */\n\t\treturn null;\n\t}\n\n\tgetLogHandler(/*bindings*/) {\n\t\treturn null;\n\t}\n}\n\nBaseLogger.LEVELS = LEVELS;\n\nmodule.exports = BaseLogger;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n/* eslint-disable no-console */\n\n\"use strict\";\n\nconst BaseLogger \t= require(\"./base\");\nconst _ \t\t\t= require(\"lodash\");\nconst kleur \t\t= require(\"kleur\");\nconst util \t\t\t= require(\"util\");\nconst { isObject, isFunction }\t= require(\"../utils\");\n\n\nfunction getColor(type) {\n\tswitch(type) {\n\t\tcase \"fatal\": return kleur.red().inverse;\n\t\tcase \"error\": return kleur.red;\n\t\tcase \"warn\": return kleur.yellow;\n\t\tcase \"debug\": return kleur.magenta;\n\t\tcase \"trace\": return kleur.gray;\n\t\tdefault: return kleur.green;\n\t}\n}\n\n/**\n * Formatted abstract logger for Moleculer\n *\n * @class FormattedLogger\n * @extends {BaseLogger}\n */\nclass FormattedLogger extends BaseLogger {\n\n\t/**\n\t * Creates an instance of FormattedLogger.\n\t * @param {Object} opts\n\t * @memberof FormattedLogger\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\tcolors: true,\n\t\t\tmoduleColors: false,\n\t\t\tformatter: \"full\",\n\t\t\tobjectPrinter: null,\n\t\t\tautoPadding: false\n\t\t});\n\n\t\tthis.maxPrefixLength = 0;\n\t}\n\n\tinit(loggerFactory) {\n\t\tsuper.init(loggerFactory);\n\n\t\tif (!this.opts.colors)\n\t\t\tkleur.enabled = false;\n\n\t\tthis.objectPrinter = this.opts.objectPrinter ? this.opts.objectPrinter : o => util.inspect(o, { showHidden: false, depth: 2, colors: kleur.enabled, breakLength: Number.POSITIVE_INFINITY });\n\n\t\t// Generate colorful log level names\n\t\tthis.levelColorStr = BaseLogger.LEVELS.reduce((a, level) => {\n\t\t\ta[level] = getColor(level)(_.padEnd(level.toUpperCase(), 5));\n\t\t\treturn a;\n\t\t}, {});\n\n\t\tif (this.opts.colors && this.opts.moduleColors === true) {\n\t\t\tthis.opts.moduleColors = [\n\t\t\t\t\"yellow\", \"bold.yellow\",\n\t\t\t\t\"cyan\", \"bold.cyan\",\n\t\t\t\t\"green\", \"bold.green\",\n\t\t\t\t\"magenta\", \"bold.magenta\",\n\t\t\t\t\"blue\", \"bold.blue\",\n\t\t\t\t/*\"red\",*/\n\t\t\t\t/*\"grey\",*/\n\t\t\t\t/*\"white,\"*/\n\t\t\t];\n\t\t}\n\t}\n\n\t/**\n\t * Get a color for the module name.\n\t */\n\tgetNextColor(mod) {\n\t\tif (this.opts.colors && Array.isArray(this.opts.moduleColors)) {\n\t\t\t// Credits: \"visionmedia/debug\" https://github.com/visionmedia/debug/blob/master/src/common.js#L45\n\t\t\tlet hash = 0;\n\n\t\t\tfor (let i = 0; i < mod.length; i++) {\n\t\t\t\thash = ((hash << 5) - hash) + mod.charCodeAt(i);\n\t\t\t\thash |= 0; // Convert to 32bit integer\n\t\t\t}\n\n\t\t\treturn this.opts.moduleColors[Math.abs(hash) % this.opts.moduleColors.length];\n\t\t}\n\n\t\treturn \"grey\";\n\t}\n\n\tpadLeft(len) {\n\t\tif (this.opts.autoPadding)\n\t\t\treturn \" \".repeat(this.maxPrefixLength - len);\n\n\t\treturn \"\";\n\t}\n\n\t/**\n\t *\n\t * @param {object} bindings\n\t */\n\tgetFormatter(bindings) {\n\t\tconst formatter = this.opts.formatter;\n\n\t\tconst mod = (bindings && bindings.mod) ? bindings.mod.toUpperCase() : \"\";\n\t\tconst c = this.getNextColor(mod);\n\t\tconst modColorName = c.split(\".\").reduce((a,b) => a[b] || a()[b], kleur)(mod);\n\t\tconst moduleColorName = bindings ? kleur.grey(bindings.nodeID + \"/\") + modColorName : \"\";\n\n\t\tconst printArgs = args => {\n\t\t\treturn args.map(p => {\n\t\t\t\tif (isObject(p) || Array.isArray(p))\n\t\t\t\t\treturn this.objectPrinter(p);\n\t\t\t\treturn p;\n\t\t\t});\n\t\t};\n\n\t\tif (isFunction(formatter)) {\n\t\t\treturn (type, args) => formatter.call(this, type, args, bindings, { printArgs });\n\n\t\t} else if (formatter == \"json\") {\n\t\t\t// {\"ts\":1581243299731,\"level\":\"info\",\"msg\":\"Moleculer v0.14.0-rc2 is starting...\",\"nodeID\":\"console\",\"ns\":\"\",\"mod\":\"broker\"}\n\t\t\tkleur.enabled = false;\n\t\t\treturn (type, args) => [JSON.stringify({ ts: Date.now(), level: type, msg: printArgs(args).join(\" \"), ...bindings })];\n\t\t} else if (formatter == \"jsonext\") {\n\t\t\t// {\"time\":\"2020-02-09T10:44:35.285Z\",\"level\":\"info\",\"message\":\"Moleculer v0.14.0-rc2 is starting...\",\"nodeID\":\"console\",\"ns\":\"\",\"mod\":\"broker\"}\n\t\t\tkleur.enabled = false;\n\t\t\treturn (type, args) => {\n\t\t\t\tconst res = {\n\t\t\t\t\ttime: new Date().toISOString(),\n\t\t\t\t\tlevel: type,\n\t\t\t\t\tmessage: \"\",\n\t\t\t\t\t...bindings\n\t\t\t\t};\n\t\t\t\tif (args.length > 0) {\n\t\t\t\t\tif (typeof(args[0]) == \"object\"/* && !(args[0] instanceof Error)*/) {\n\t\t\t\t\t\tObject.assign(res, args[0]);\n\t\t\t\t\t\tres.message = printArgs(args.slice(1)).join(\" \");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres.message = printArgs(args).join(\" \");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn [JSON.stringify(res)];\n\t\t\t};\n\t\t} else if (formatter == \"simple\") {\n\t\t\t// INFO  - Moleculer v0.14.0-beta3 is starting...\n\t\t\treturn (type, args) => [this.levelColorStr[type], \"-\", ...printArgs(args)];\n\t\t} else if (formatter == \"short\") {\n\t\t\t// [08:42:12.973Z] INFO  BROKER: Moleculer v0.14.0-beta3 is starting...\n\t\t\tconst prefixLen = 23 + bindings.mod.length;\n\t\t\tthis.maxPrefixLength = Math.max(prefixLen, this.maxPrefixLength);\n\t\t\treturn (type, args) => [kleur.grey(`[${new Date().toISOString().substr(11)}]`), this.levelColorStr[type], modColorName + this.padLeft(prefixLen) + kleur.grey(\":\"), ...printArgs(args)];\n\t\t} else if (formatter == \"full\") {\n\t\t\t// [2019-08-31T08:40:53.481Z] INFO  bobcsi-pc-7100/BROKER: Moleculer v0.14.0-beta3 is starting...\n\t\t\tconst prefixLen = 35 + bindings.nodeID.length + bindings.mod.length;\n\t\t\tthis.maxPrefixLength = Math.max(prefixLen, this.maxPrefixLength);\n\t\t\treturn (type, args) => [kleur.grey(`[${new Date().toISOString()}]`), this.levelColorStr[type], moduleColorName + this.padLeft(prefixLen) + kleur.grey(\":\"), ...printArgs(args)];\n\t\t} else {\n\t\t\t// [{timestamp}] {level} {nodeID}/{mod}: {msg}\n\n\t\t\treturn (type, args) => {\n\t\t\t\tconst timestamp = new Date().toISOString();\n\t\t\t\treturn [this.render(formatter, {\n\t\t\t\t\ttimestamp: kleur.grey(timestamp),\n\t\t\t\t\ttime: kleur.grey(timestamp.substr(11)),\n\n\t\t\t\t\tlevel: this.levelColorStr[type],\n\t\t\t\t\tnodeID: kleur.grey(bindings.nodeID),\n\t\t\t\t\tmod: modColorName,\n\t\t\t\t\tmsg: printArgs(args).join(\" \")\n\t\t\t\t})];\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Interpolate a text.\n\t *\n\t * @param {Strimg} str\n\t * @param {Object} obj\n\t * @returns {String}\n\t */\n\trender(str, obj) {\n\t\treturn str.replace(/\\{\\s?(\\w+)\\s?\\}/g, (match, v) => obj[v] || \"\");\n\t}\n\n}\n\nmodule.exports = FormattedLogger;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n/* eslint-disable no-console */\n\n\"use strict\";\n\nconst FormattedLogger \t= require(\"./formatted\");\nconst kleur \t\t\t= require(\"kleur\");\n\n/**\n * Console logger for Moleculer\n *\n * @class ConsoleLogger\n * @extends {FormattedLogger}\n */\nclass ConsoleLogger extends FormattedLogger {\n\n\t/**\n\t * Creates an instance of ConsoleLogger.\n\t * @param {Object} opts\n\t * @memberof ConsoleLogger\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.maxPrefixLength = 0;\n\t}\n\n\tinit(loggerFactory) {\n\t\tsuper.init(loggerFactory);\n\n\t\tif (!this.opts.colors)\n\t\t\tkleur.enabled = false;\n\t}\n\n\t/**\n\t *\n\t * @param {object} bindings\n\t */\n\tgetLogHandler(bindings) {\n\t\tconst level = bindings ? this.getLogLevel(bindings.mod) : null;\n\t\tif (!level)\n\t\t\treturn null;\n\n\t\tconst levelIdx = FormattedLogger.LEVELS.indexOf(level);\n\t\tconst formatter = this.getFormatter(bindings);\n\n\t\treturn (type, args) => {\n\t\t\tconst typeIdx = FormattedLogger.LEVELS.indexOf(type);\n\t\t\tif (typeIdx > levelIdx) return;\n\n\t\t\tconst pargs = formatter(type, args);\n\t\t\tswitch(type) {\n\t\t\t\tcase \"fatal\":\n\t\t\t\tcase \"error\": return console.error(...pargs);\n\t\t\t\tcase \"warn\": return console.warn(...pargs);\n\t\t\t\tdefault: return console.log(...pargs);\n\t\t\t}\n\t\t};\n\t}\n\n}\n\nmodule.exports = ConsoleLogger;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { isObject, isString } = require(\"../utils\");\nconst { BrokerOptionsError } = require(\"../errors\");\nconst Base = require(\"./base\");\n\nconst Loggers = {\n\tBase,\n\tFormatted: require(\"./formatted\"),\n\n\tBunyan: require(\"./bunyan\"),\n\tConsole: require(\"./console\"),\n\tDatadog: require(\"./datadog\"),\n\tDebug: require(\"./debug\"),\n\tFile: require(\"./file\"),\n\tLog4js: require(\"./log4js\"),\n\tPino: require(\"./pino\"),\n\tWinston: require(\"./winston\"),\n\n\tLEVELS: Base.LEVELS\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Loggers).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Loggers[n];\n}\n\n/**\n * Resolve reporter by name\n *\n * @param {object|string} opt\n * @returns {Reporter}\n * @memberof ServiceBroker\n */\nfunction resolve(opt) {\n\tif (opt instanceof Loggers.Base) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet LoggerClass = getByName(opt);\n\t\tif (LoggerClass)\n\t\t\treturn new LoggerClass();\n\n\t} else if (isObject(opt)) {\n\t\tlet LoggerClass = getByName(opt.type);\n\t\tif (LoggerClass)\n\t\t\treturn new LoggerClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid logger configuration. Type: '${opt.type}'`, { type: opt.type });\n\t}\n\n\tthrow new BrokerOptionsError(`Invalid logger configuration: '${opt}'`, { type: opt });\n}\n\nfunction register(name, value) {\n\tLoggers[name] = value;\n}\n\nmodule.exports = Object.assign(Loggers, { resolve, register });\n\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { isPlainObject, isString } = require(\"./utils\");\nconst Loggers = require(\"./loggers\");\n\nconst noop = () => {};\nconst cwd = process.cwd();\n\n/**\n * Log factory class.\n *\n * @class LoggerFactory\n */\nclass LoggerFactory {\n\n\t/**\n\t * Constructor of LoggerFactory\n\t */\n\tconstructor(broker) {\n\t\tthis.broker = broker;\n\t\tthis.appenders = [];\n\t\tthis.cache = new Map();\n\t}\n\n\t/**\n\t * Initialize module.\n\t */\n\tinit(opts) {\n\t\tthis.opts = opts;\n\n\t\tconst globalLogLevel = this.broker.options.logLevel || \"info\";\n\n\t\tif (opts === false || opts == null) {\n\t\t\t// No logger\n\t\t\tthis.appenders = [];\n\n\t\t} else if (opts === true || opts === console) {\n\t\t\t// Default console logger\n\t\t\tthis.appenders = [Loggers.resolve({\n\t\t\t\ttype: \"Console\",\n\t\t\t\toptions: {\n\t\t\t\t\tlevel: globalLogLevel\n\t\t\t\t}\n\t\t\t})];\n\n\t\t} else {\n\t\t\tif (!Array.isArray(opts)) {\n\t\t\t\topts = [opts];\n\t\t\t}\n\n\t\t\tthis.appenders = _.compact(opts).map(o => {\n\t\t\t\t// Built-in shorthand\n\t\t\t\tif (isString(o))\n\t\t\t\t\treturn Loggers.resolve({ type: o, options: { level: globalLogLevel } });\n\n\t\t\t\t// Build-in with options\n\t\t\t\tif (isPlainObject(o))\n\t\t\t\t\treturn Loggers.resolve(_.defaultsDeep({}, o, { options: { level: globalLogLevel } }));\n\n\t\t\t\t// Custom logger instance\n\t\t\t\treturn Loggers.resolve(o);\n\t\t\t});\n\t\t}\n\n\t\t// Initialize appenders\n\t\tthis.appenders.forEach(app => app.init(this));\n\t}\n\n\t/**\n\t * Stopping all appenders\n\t */\n\tstop() {\n\t\treturn this.broker.Promise.all(this.appenders.map(appender => appender.stop()));\n\t}\n\n\t/**\n\t * Get caller information from error stack trace.\n\t */\n\tgetCallerFromStack() {\n\t\tconst _prepareStackTrace = Error.prepareStackTrace;\n\t\tError.prepareStackTrace = (_, stack) => stack;\n\t\tconst stack = new Error().stack;\n\t\tError.prepareStackTrace = _prepareStackTrace;\n\n\t\tif (stack.length > 2) {\n\t\t\tconst site = stack[2];\n\t\t\treturn {\n\t\t\t\tfilename: site.getFileName().substring(cwd.length + 1),\n\t\t\t\tlineNumber: site.getLineNumber(),\n\t\t\t\tcolumnNumber: site.getColumnNumber(),\n\t\t\t\tmethodName: site.getMethodName(),\n\t\t\t\tfunctionName: site.getFunctionName(),\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Get a logger for a module (service, transporter, cacher, context...etc)\n\t *\n\t * @param {Object} bindings\n\t * @returns {ModuleLogger}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tgetLogger(bindings) {\n\t\tlet logger = this.cache.get(this.getBindingsKey(bindings));\n\t\tif (logger) return logger;\n\n\t\tlogger = {};\n\t\tconst broker = this.broker;\n\t\tconst appenders = this.appenders;\n\n\t\tconst logHandlers = _.compact(appenders.map(app => app.getLogHandler(bindings)));\n\n\t\tLoggers.LEVELS.forEach((type) => {\n\t\t\tif (logHandlers.length == 0)\n\t\t\t\treturn logger[type] = noop;\n\n\t\t\tlogger[type] = function(...args) {\n\t\t\t\tif (broker.middlewares && broker.middlewares.registeredHooks.newLogEntry)\n\t\t\t\t\tbroker.middlewares.callSyncHandlers(\"newLogEntry\", [type, args, bindings], {});\n\n\t\t\t\tif (logHandlers.length == 0) return;\n\n\t\t\t\tfor(let i = 0; i < logHandlers.length; i++)\n\t\t\t\t\tlogHandlers[i](type, args);\n\t\t\t};\n\t\t});\n\n\t\t/*logger.log = function(type, ...args) {\n\t\t\tif (broker.middlewares)\n\t\t\t\tbroker.middlewares.callSyncHandlers(\"newLogEntry\", [type, args, bindings], {});\n\n\t\t\tif (logHandlers.length == 0) return;\n\n\t\t\tlogHandlers.forEach(fn => fn(type, args));\n\t\t};*/\n\n\t\tlogger.appenders = appenders;\n\n\n\t\tthis.cache.set(this.getBindingsKey(bindings), logger);\n\n\t\treturn logger;\n\t}\n\n\t/**\n\t * Create a key from bindings for logger caching.\n\t *\n\t * @param {object} bindings\n\t * @returns {String}\n\t */\n\tgetBindingsKey(bindings) {\n\t\tif (!bindings) return \"\";\n\n\t\treturn [\"nodeID\", \"ns\", \"mod\"]\n\t\t\t.map(key => bindings[key])\n\t\t\t.join(\"|\");\n\t}\n\n}\n\nmodule.exports = LoggerFactory;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { ValidationError } = require(\"../errors\");\nconst _ = require(\"lodash\");\n\nclass BaseValidator {\n\n\tconstructor(opts) {\n\t\tthis.opts = _.defaultsDeep(opts, {\n\t\t\tparamName: \"params\"\n\t\t});\n\t}\n\n\tinit(broker) {\n\t\tthis.broker = broker;\n\t}\n\n\t/**\n\t * Compile a validation schema to a checker function.\n\t * @param {any} schema\n\t * @returns {Function}\n\t */\n\tcompile(/*schema*/) {\n\t\tthrow new Error(\"Abstract method\");\n\t}\n\n\t/**\n\t * Validate params againt the schema\n\t * @param {any} params\n\t * @param {any} schema\n\t * @returns {boolean}\n\t */\n\tvalidate(/*params, schema*/) {\n\t\tthrow new Error(\"Abstract method\");\n\t}\n\n\t/**\n\t * Convert the specific validation schema to\n\t * the Moleculer (fastest-validator) validation schema format.\n\t *\n\t * @param {any} schema\n\t * @returns {Object}\n\t */\n\tconvertSchemaToMoleculer(/*schema*/) {\n\t\tthrow new Error(\"Abstract method\");\n\t}\n\n\t/**\n\t * Register validator as a middleware\n\t *\n\t * @memberof BaseValidator\n\t */\n\tmiddleware(broker) {\n\t\tconst self = this;\n\t\tconst paramName = this.opts.paramName;\n\n\t\treturn {\n\t\t\tname: \"Validator\",\n\t\t\tlocalAction: function validatorMiddleware(handler, action) {\n\t\t\t\t// Wrap a param validator\n\t\t\t\tif (action[paramName] && typeof action[paramName] === \"object\") {\n\t\t\t\t\tconst check = self.compile(action[paramName]);\n\t\t\t\t\treturn function validateContextParams(ctx) {\n\t\t\t\t\t\tlet res = check(ctx.params != null ? ctx.params : {});\n\t\t\t\t\t\tif (res === true)\n\t\t\t\t\t\t\treturn handler(ctx);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tres = res.map(data => Object.assign(data, { nodeID: ctx.nodeID, action: ctx.action.name }));\n\t\t\t\t\t\t\treturn broker.Promise.reject(new ValidationError(\"Parameters validation error!\", null, res));\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn handler;\n\t\t\t},\n\n\t\t\tlocalEvent: function validatorMiddleware(handler, event) {\n\t\t\t\t// Wrap a param validator\n\t\t\t\tif (event[paramName] && typeof event[paramName] === \"object\") {\n\t\t\t\t\tconst check = self.compile(event[paramName]);\n\t\t\t\t\treturn function validateContextParams(ctx) {\n\t\t\t\t\t\tlet res = check(ctx.params != null ? ctx.params : {});\n\t\t\t\t\t\tif (res === true)\n\t\t\t\t\t\t\treturn handler(ctx);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tres = res.map(data => Object.assign(data, { nodeID: ctx.nodeID, event: ctx.event.name }));\n\t\t\t\t\t\t\treturn broker.Promise.reject(new ValidationError(\"Parameters validation error!\", null, res));\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn handler;\n\t\t\t}\n\t\t};\n\t}\n}\n\n\nmodule.exports = BaseValidator;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Validator = require(\"fastest-validator\");\nconst { ValidationError } = require(\"../errors\");\nconst BaseValidator = require(\"./base\");\n\nclass FastestValidator  extends BaseValidator{\n\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t\tthis.validator = new Validator(this.opts);\n\t}\n\n\t/**\n\t * Compile a validation schema to a checker function.\n\t * @param {any} schema\n\t * @returns {Function}\n\t */\n\tcompile(schema) {\n\t\treturn this.validator.compile(schema);\n\t}\n\n\t/**\n\t * Validate params againt the schema\n\t * @param {any} params\n\t * @param {any} schema\n\t * @returns {boolean}\n\t */\n\tvalidate(params, schema) {\n\t\tconst res = this.validator.validate(params, schema);\n\t\tif (res !== true)\n\t\t\tthrow new ValidationError(\"Parameters validation error!\", null, res);\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Convert the specific validation schema to\n\t * the Moleculer (fastest-validator) validation schema format.\n\t *\n\t * @param {any} schema\n\t * @returns {Object}\n\t */\n\tconvertSchemaToMoleculer(schema) {\n\t\treturn schema;\n\t}\n}\n\nmodule.exports = FastestValidator;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { BrokerOptionsError } = require(\"../errors\");\nconst { isObject, isString } = require(\"../utils\");\n\nconst Validators = {\n\tBase: require(\"./base\"),\n\tFastest: require(\"./fastest\")\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Validators).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Validators[n];\n}\n\n/**\n * Resolve validator by name\n *\n * @param {object|string} opt\n * @returns {Validator}\n * @memberof ServiceBroker\n */\nfunction resolve(opt) {\n\tif (opt instanceof Validators.Base) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet ValidatorClass = getByName(opt);\n\t\tif (ValidatorClass)\n\t\t\treturn new ValidatorClass();\n\n\t\tthrow new BrokerOptionsError(`Invalid Validator type '${opt}'.`, { type: opt });\n\n\t} else if (isObject(opt)) {\n\t\tlet ValidatorClass = getByName(opt.type || \"Fastest\");\n\t\tif (ValidatorClass)\n\t\t\treturn new ValidatorClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid Validator type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\treturn new Validators.Fastest();\n}\n\nfunction register(name, value) {\n\tValidators[name] = value;\n}\n\nmodule.exports = Object.assign(Validators, { resolve, register });\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ \t\t\t= require(\"lodash\");\nconst crypto\t\t= require(\"crypto\");\nconst { METRIC }\t= require(\"../metrics\");\nconst { isObject, isFunction }\t= require(\"../utils\");\n\n/**\n * Abstract cacher class\n *\n * @class Cacher\n */\nclass Cacher {\n\n\t/**\n\t * Creates an instance of Cacher.\n\t *\n\t * @param {object} opts\n\t *\n\t * @memberof Cacher\n\t */\n\tconstructor(opts) {\n\t\tthis.opts = _.defaultsDeep(opts, {\n\t\t\tttl: null,\n\t\t\tkeygen: null,\n\t\t\tmaxParamsLength: null\n\t\t});\n\t}\n\n\t/**\n\t * Initialize cacher\n\t *\n\t * @param {any} broker\n\t *\n\t * @memberof Cacher\n\t */\n\tinit(broker) {\n\t\tthis.broker = broker;\n\t\tthis.metrics = broker.metrics;\n\n\t\tif (this.broker) {\n\t\t\tthis.logger = broker.getLogger(\"cacher\");\n\n\t\t\tif (this.opts.prefix) {\n\t\t\t\tthis.prefix = this.opts.prefix + \"-\";\n\t\t\t} else {\n\t\t\t\tthis.prefix = \"MOL-\";\n\t\t\t\tif (this.broker.namespace)\n\t\t\t\t\tthis.prefix += this.broker.namespace + \"-\";\n\t\t\t}\n\n\t\t\tthis.registerMoleculerMetrics();\n\t\t}\n\t}\n\n\t/**\n\t * Register Moleculer Transit Core metrics.\n\t */\n\tregisterMoleculerMetrics() {\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_GET_TOTAL, type: METRIC.TYPE_COUNTER, rate: true });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_GET_TIME, type: METRIC.TYPE_HISTOGRAM, quantiles: true, unit: METRIC.UNIT_MILLISECONDS });\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_FOUND_TOTAL, type: METRIC.TYPE_COUNTER, rate: true });\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_SET_TOTAL, type: METRIC.TYPE_COUNTER, rate: true });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_SET_TIME, type: METRIC.TYPE_HISTOGRAM, quantiles: true, unit: METRIC.UNIT_MILLISECONDS });\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_DEL_TOTAL, type: METRIC.TYPE_COUNTER, rate: true });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_DEL_TIME, type: METRIC.TYPE_HISTOGRAM, quantiles: true, unit: METRIC.UNIT_MILLISECONDS });\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_CLEAN_TOTAL, type: METRIC.TYPE_COUNTER, rate: true });\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_CLEAN_TIME, type: METRIC.TYPE_HISTOGRAM, quantiles: true, unit: METRIC.UNIT_MILLISECONDS });\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_CACHER_EXPIRED_TOTAL, type: METRIC.TYPE_COUNTER, rate: true });\n\t}\n\n\t/**\n\t * Close cacher\n\t *\n\t * @memberof Cacher\n\t */\n\tclose() {\n\t\t/* istanbul ignore next */\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Get a cached content by key\n\t *\n\t * @param {any} key\n\t *\n\t * @memberof Cacher\n\t */\n\tget(/*key*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n\t/**\n\t * Get a cached content and ttl by key\n\t *\n\t * @param {any} key\n\t *\n\t * @memberof Cacher\n\t */\n\tgetWithTTL(/*key*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n\t/**\n\t * Set a content by key to cache\n\t *\n\t * @param {any} key\n\t * @param {any} data\n\t * @param {Number?} ttl\n\t *\n\t * @memberof Cacher\n\t */\n\tset(/*key, data, ttl*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n\t/**\n\t * Delete a content by key from cache\n\t *\n\t * @param {string|Array<string>} key\n\t *\n\t * @memberof Cacher\n\t */\n\tdel(/*key*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n\n\t/**\n\t * Clean cache. Remove every key by match\n\t * @param {string|Array<string>} match string. Default is \"**\"\n\t * @returns {Promise}\n\t *\n\t * @memberof Cacher\n\t */\n\tclean(/*match = \"**\"*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n\t/**\n\t * Get a value from params or meta by `key`.\n\t * If the key starts with `#` it reads from `meta`, otherwise from `params`.\n\t *\n\t * @param {String} key\n\t * @param {Object} params\n\t * @param {Object} meta\n\t * @returns {any}\n\t * @memberof Cacher\n\t */\n\tgetParamMetaValue(key, params, meta) {\n\t\tif (key.startsWith(\"#\") && meta != null)\n\t\t\treturn _.get(meta, key.slice(1));\n\t\telse if (params != null)\n\t\t\treturn _.get(params, key);\n\t}\n\n\t/**\n\t * Default cache key generator\n\t *\n\t * @param {String} actionName\n\t * @param {Object|null} params\n\t * @param {Object} meta\n\t * @param {Array|null} keys\n\t * @returns {String}\n\t * @memberof Cacher\n\t */\n\tdefaultKeygen(actionName, params, meta, keys) {\n\t\tif (params || meta) {\n\t\t\tconst keyPrefix = actionName + \":\";\n\t\t\tif (keys) {\n\t\t\t\tif (keys.length == 1) {\n\t\t\t\t\t// Fast solution for ['id'] key\n\t\t\t\t\tconst val = this.getParamMetaValue(keys[0], params, meta);\n\t\t\t\t\treturn keyPrefix + this._hashedKey(isObject(val) ? this._hashedKey(this._generateKeyFromObject(val)) : val);\n\t\t\t\t}\n\n\t\t\t\tif (keys.length > 0) {\n\t\t\t\t\treturn keyPrefix + this._hashedKey(keys.reduce((a, key, i) => {\n\t\t\t\t\t\tconst val = this.getParamMetaValue(key, params, meta);\n\t\t\t\t\t\treturn a + (i ? \"|\" : \"\") + (isObject(val) || Array.isArray(val) ? this._hashedKey(this._generateKeyFromObject(val)) : val);\n\t\t\t\t\t}, \"\"));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn keyPrefix + this._hashedKey(this._generateKeyFromObject(params));\n\t\t\t}\n\t\t}\n\t\treturn actionName;\n\t}\n\n\t_hashedKey(key) {\n\t\tconst maxParamsLength = this.opts.maxParamsLength;\n\t\tif (!maxParamsLength || maxParamsLength < 44 || key.length <= maxParamsLength)\n\t\t\treturn key;\n\n\t\tconst prefixLength = maxParamsLength - 44;\n\n\t\tconst base64Hash = crypto.createHash(\"sha256\").update(key).digest(\"base64\");\n\t\tif (prefixLength < 1)\n\t\t\treturn base64Hash;\n\n\t\treturn key.substring(0, prefixLength) + base64Hash;\n\t}\n\n\t_generateKeyFromObject(obj) {\n\t\tif (Array.isArray(obj)) {\n\t\t\treturn obj.map(o => this._generateKeyFromObject(o)).join(\"|\");\n\t\t}\n\t\telse if (isObject(obj)) {\n\t\t\treturn Object.keys(obj).map(key => [key, this._generateKeyFromObject(obj[key])].join(\"|\")).join(\"|\");\n\t\t}\n\t\telse if (obj != null) {\n\t\t\treturn obj.toString();\n\t\t} else {\n\t\t\treturn \"null\";\n\t\t}\n\t}\n\n\t/**\n\t * Get a cache key by name and params.\n\t * Concatenate the name and the hashed params object\n\t *\n\t * @param {String} name\n\t * @param {Object} params\n\t * @param {Object} meta\n\t * @param {Array|null} keys\n\t * @returns {String}\n\t */\n\tgetCacheKey(actionName, params, meta, keys) {\n\t\tif (isFunction(this.opts.keygen))\n\t\t\treturn this.opts.keygen.call(this, actionName, params, meta, keys);\n\t\telse\n\t\t\treturn this.defaultKeygen(actionName, params, meta, keys);\n\t}\n\n\t/**\n\t * Register cacher as a middleware\n\t *\n\t * @memberof Cacher\n\t */\n\tmiddleware() {\n\t\treturn (handler, action) => {\n\t\t\tconst opts = _.defaultsDeep({}, isObject(action.cache) ? action.cache : { enabled: !!action.cache });\n\t\t\topts.lock = _.defaultsDeep({}, isObject(opts.lock) ? opts.lock : { enabled: !!opts.lock });\n\t\t\tif (opts.enabled !== false) {\n\t\t\t\tconst isEnabledFunction = isFunction(opts.enabled);\n\n\t\t\t\treturn function cacherMiddleware(ctx) {\n\t\t\t\t\tif (isEnabledFunction) {\n\t\t\t\t\t\tif (!opts.enabled.call(ctx.service, ctx)) {\n\t\t\t\t\t\t\t// Cache is disabled. Call the handler only.\n\t\t\t\t\t\t\treturn handler(ctx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Disable caching with `ctx.meta.$cache = false`\n\t\t\t\t\tif (ctx.meta[\"$cache\"] === false)\n\t\t\t\t\t\treturn handler(ctx);\n\n\t\t\t\t\tconst cacheKey = this.getCacheKey(action.name, ctx.params, ctx.meta, opts.keys);\n\t\t\t\t\t// Using lock\n\t\t\t\t\tif(opts.lock.enabled !== false){\n\t\t\t\t\t\tlet cachePromise;\n\t\t\t\t\t\tif(opts.lock.staleTime && this.getWithTTL){ // If enable cache refresh\n\t\t\t\t\t\t\tcachePromise = this.getWithTTL(cacheKey).then(({ data, ttl }) => {\n\t\t\t\t\t\t\t\tif (data != null) {\n\t\t\t\t\t\t\t\t\tif(opts.lock.staleTime && ttl && ttl < opts.lock.staleTime){\n\t\t\t\t\t\t\t\t\t\t// Cache is stale, try to refresh it.\n\t\t\t\t\t\t\t\t\t\tthis.tryLock(cacheKey, opts.lock.ttl).then(unlock=>{\n\t\t\t\t\t\t\t\t\t\t\treturn handler(ctx).then(result => {\n\t\t\t\t\t\t\t\t\t\t\t\t// Save the result to the cache and realse the lock.\n\t\t\t\t\t\t\t\t\t\t\t\treturn this.set(cacheKey, result, opts.ttl).then(()=>unlock());\n\t\t\t\t\t\t\t\t\t\t\t}).catch((/*err*/) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn this.del(cacheKey).then(()=>unlock());\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}).catch((/*err*/)=>{\n\t\t\t\t\t\t\t\t\t\t\t// The cache is refreshing on somewhere else.\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcachePromise = this.get(cacheKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn cachePromise.then(data=>{\n\t\t\t\t\t\t\tif (data != null) {\n\t\t\t\t\t\t\t\t// Found in the cache! Don't call handler, return with the content\n\t\t\t\t\t\t\t\tctx.cachedResult = true;\n\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Not found in the cache! Acquire a lock\n\t\t\t\t\t\t\treturn this.lock(cacheKey, opts.lock.ttl).then(unlock => {\n\t\t\t\t\t\t\t\treturn this.get(cacheKey).then(content => {\n\t\t\t\t\t\t\t\t\tif (content != null) {\n\t\t\t\t\t\t\t\t\t\t// Cache found. Realse the lock and return the value.\n\t\t\t\t\t\t\t\t\t\tctx.cachedResult = true;\n\t\t\t\t\t\t\t\t\t\treturn unlock().then(() => {\n\t\t\t\t\t\t\t\t\t\t\treturn content;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// Call the handler\n\t\t\t\t\t\t\t\t\treturn handler(ctx).then(result => {\n\t\t\t\t\t\t\t\t\t\t// Save the result to the cache and realse the lock.\n\t\t\t\t\t\t\t\t\t\tthis.set(cacheKey, result, opts.ttl).then(()=>unlock());\n\t\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t\t}).catch(e => {\n\t\t\t\t\t\t\t\t\t\treturn unlock().then(() => {\n\t\t\t\t\t\t\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t// Not using lock\n\t\t\t\t\treturn this.get(cacheKey).then(content => {\n\t\t\t\t\t\tif (content != null) {\n\t\t\t\t\t\t\t// Found in the cache! Don't call handler, return with the content\n\t\t\t\t\t\t\tctx.cachedResult = true;\n\t\t\t\t\t\t\treturn content;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Call the handler\n\t\t\t\t\t\treturn handler(ctx).then(result => {\n\t\t\t\t\t\t\t// Save the result to the cache\n\t\t\t\t\t\t\tthis.set(cacheKey, result, opts.ttl);\n\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}.bind(this);\n\t\t\t}\n\n\t\t\treturn handler;\n\t\t};\n\t}\n\n}\n\nmodule.exports = Cacher;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nclass Lock {\n\tconstructor(){\n\t\tthis.locked = new Map();\n\t}\n\n\tacquire(key /*, ttl*/) {\n\t\tlet locked = this.locked.get(key);\n\t\tif (!locked) { // not locked\n\t\t\tlocked = [];\n\t\t\tthis.locked.set(key, locked);\n\t\t\treturn Promise.resolve();\n\t\t} else {\n\t\t\treturn new Promise(resolve => locked.push(resolve));\n\t\t}\n\t}\n\n\tisLocked(key) {\n\t\treturn !!this.locked.get(key);\n\t}\n\n\trelease(key){\n\t\tlet locked = this.locked.get(key);\n\t\tif(locked) {\n\t\t\tif(locked.length > 0) {\n\t\t\t\tlocked.shift()(); // Release the lock\n\t\t\t} else {\n\t\t\t\tthis.locked.delete(key);\n\t\t\t}\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n}\n\nmodule.exports = Lock;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ \t\t\t= require(\"lodash\");\nconst utils\t\t\t= require(\"../utils\");\nconst BaseCacher  \t= require(\"./base\");\nconst { METRIC }\t= require(\"../metrics\");\n\nconst Lock = require(\"../lock\");\n/**\n * Cacher factory for memory cache\n *\n * @class MemoryCacher\n */\nclass MemoryCacher extends BaseCacher {\n\n\t/**\n\t * Creates an instance of MemoryCacher.\n\t *\n\t * @param {object} opts\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\t// Cache container\n\t\tthis.cache = new Map();\n\t\t// Async lock\n\t\tthis._lock = new Lock();\n\t\t// Start TTL timer\n\t\tthis.timer = setInterval(() => {\n\t\t\t/* istanbul ignore next */\n\t\t\tthis.checkTTL();\n\t\t}, 30 * 1000);\n\t\tthis.timer.unref();\n\n\t\t// Set cloning\n\t\tthis.clone = this.opts.clone === true ? _.cloneDeep : this.opts.clone;\n\t}\n\n\t/**\n\t * Initialize cacher\n\t *\n\t * @param {any} broker\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tinit(broker) {\n\t\tsuper.init(broker);\n\n\t\tbroker.localBus.on(\"$transporter.connected\", () => {\n\t\t\t// Clear all entries after transporter connected. Maybe we missed some \"cache.clear\" events.\n\t\t\treturn this.clean();\n\t\t});\n\t}\n\n\t/**\n\t * Close cacher\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tclose() {\n\t\tclearInterval(this.timer);\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Get data from cache by key\n\t *\n\t * @param {any} key\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tget(key) {\n\t\tthis.logger.debug(`GET ${key}`);\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_GET_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_GET_TIME);\n\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.logger.debug(`FOUND ${key}`);\n\t\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_FOUND_TOTAL);\n\n\t\t\tlet item = this.cache.get(key);\n\t\t\tif (item.expire && item.expire < Date.now()) {\n\t\t\t\tthis.logger.debug(`EXPIRED ${key}`);\n\t\t\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_EXPIRED_TOTAL);\n\t\t\t\tthis.cache.delete(key);\n\t\t\t\ttimeEnd();\n\t\t\t\treturn this.broker.Promise.resolve(null);\n\t\t\t}\n\t\t\tconst res = this.clone ? this.clone(item.data) : item.data;\n\t\t\ttimeEnd();\n\n\t\t\treturn this.broker.Promise.resolve(res);\n\t\t} else {\n\t\t\ttimeEnd();\n\t\t}\n\t\treturn this.broker.Promise.resolve(null);\n\t}\n\n\t/**\n\t * Save data to cache by key\n\t *\n\t * @param {String} key\n\t * @param {any} data JSON object\n\t * @param {Number} ttl Optional Time-to-Live\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tset(key, data, ttl) {\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_SET_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_SET_TIME);\n\n\t\tif (ttl == null)\n\t\t\tttl = this.opts.ttl;\n\n\t\tthis.cache.set(key, {\n\t\t\tdata,\n\t\t\texpire: ttl ? Date.now() + ttl * 1000 : null\n\t\t});\n\n\t\ttimeEnd();\n\t\tthis.logger.debug(`SET ${key}`);\n\n\t\treturn this.broker.Promise.resolve(data);\n\t}\n\n\t/**\n\t * Delete a key from cache\n\t *\n\t * @param {string|Array<string>} key\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tdel(keys) {\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_DEL_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_DEL_TIME);\n\n\t\tkeys = Array.isArray(keys) ? keys : [keys];\n\t\tkeys.forEach(key => {\n\t\t\tthis.cache.delete(key);\n\t\t\tthis.logger.debug(`REMOVE ${key}`);\n\t\t});\n\t\ttimeEnd();\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Clean cache. Remove every key by match\n\t * @param {string|Array<string>} match string. Default is \"**\"\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tclean(match = \"**\") {\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_CLEAN_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_CLEAN_TIME);\n\n\t\tconst matches = Array.isArray(match) ? match : [match];\n\t\tthis.logger.debug(`CLEAN ${matches.join(\", \")}`);\n\n\t\tthis.cache.forEach((value, key) => {\n\t\t\tif (matches.some(match => utils.match(key, match))) {\n\t\t\t\tthis.logger.debug(`REMOVE ${key}`);\n\t\t\t\tthis.cache.delete(key);\n\t\t\t}\n\t\t});\n\t\ttimeEnd();\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Get data and ttl from cache by key.\n\t *\n\t * @param {string|Array<string>} key\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tgetWithTTL(key){\n\t\tthis.logger.debug(`GET ${key}`);\n\t\tlet data = null;\n\t\tlet ttl = null;\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.logger.debug(`FOUND ${key}`);\n\n\t\t\tlet item = this.cache.get(key);\n\t\t\tlet now = Date.now();\n\t\t\tttl = (item.expire - now)/1000;\n\t\t\tttl = ttl > 0 ? ttl : null;\n\t\t\tif (this.opts.ttl) {\n\t\t\t\t// Update expire time (hold in the cache if we are using it)\n\t\t\t\titem.expire = now + this.opts.ttl * 1000;\n\t\t\t}\n\t\t\tdata = this.clone ? this.clone(item.data) : item.data;\n\t\t}\n\t\treturn this.broker.Promise.resolve({ data, ttl });\n\t}\n\n\t/**\n\t * Acquire a lock\n\t *\n\t * @param {string|Array<string>} key\n\t * @param {Number} ttl Optional Time-to-Live\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tlock(key, ttl) {\n\t\treturn this._lock.acquire(key, ttl).then(()=> {\n\t\t\treturn ()=>this._lock.release(key);\n\t\t});\n\t}\n\n\t/**\n\t * Try to acquire a lock\n\t *\n\t * @param {string|Array<string>} key\n\t * @param {Number} ttl Optional Time-to-Live\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryCacher\n\t */\n\ttryLock(key, ttl) {\n\t\tif(this._lock.isLocked(key)){\n\t\t\treturn this.broker.Promise.reject(new Error(\"Locked.\"));\n\t\t}\n\t\treturn this._lock.acquire(key, ttl).then(()=> {\n\t\t\treturn ()=>this._lock.release(key);\n\t\t});\n\t}\n\n\t/**\n\t * Check & remove the expired cache items\n\t *\n\t * @memberof MemoryCacher\n\t */\n\tcheckTTL() {\n\t\tlet now = Date.now();\n\t\tthis.cache.forEach((value, key) => {\n\t\t\tlet item = this.cache.get(key);\n\n\t\t\tif (item.expire && item.expire < now) {\n\t\t\t\tthis.logger.debug(`EXPIRED ${key}`);\n\t\t\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_EXPIRED_TOTAL);\n\t\t\t\tthis.cache.delete(key);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = MemoryCacher;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ \t\t\t= require(\"lodash\");\nconst utils\t\t\t= require(\"../utils\");\nconst BaseCacher  \t= require(\"./base\");\nconst LRU \t\t\t= require(\"lru-cache\");\nconst { METRIC }\t= require(\"../metrics\");\n\nconst Lock = require(\"../lock\");\n/**\n * Cacher factory for memory cache\n *\n * @class MemoryLRUCacher\n */\nclass MemoryLRUCacher extends BaseCacher {\n\n\t/**\n\t * Creates an instance of MemoryLRUCacher.\n\t *\n\t * @param {object} opts\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\t// Cache container\n\t\tthis.cache = new LRU({\n\t\t\tmax: this.opts.max,\n\t\t\tmaxAge: this.opts.ttl ? this.opts.ttl * 1000 : null,\n\t\t\tupdateAgeOnGet: !!this.opts.ttl\n\t\t});\n\t\t// Async lock\n\t\tthis._lock = new Lock();\n\t\t// Start TTL timer\n\t\tthis.timer = setInterval(() => {\n\t\t\t/* istanbul ignore next */\n\t\t\tthis.checkTTL();\n\t\t}, 30 * 1000);\n\t\tthis.timer.unref();\n\n\t\t// Set cloning\n\t\tthis.clone = this.opts.clone === true ? _.cloneDeep : this.opts.clone;\n\t}\n\n\t/**\n\t * Initialize cacher\n\t *\n\t * @param {any} broker\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tinit(broker) {\n\t\tsuper.init(broker);\n\n\t\tbroker.localBus.on(\"$transporter.connected\", () => {\n\t\t\t// Clear all entries after transporter connected. Maybe we missed some \"cache.clear\" events.\n\t\t\treturn this.clean();\n\t\t});\n\t\tif(this.opts.lock && this.opts.lock.enabled !== false && this.opts.lock.staleTime){\n\t\t\t/* istanbul ignore next */\n\t\t\tthis.logger.warn(\"setting lock.staleTime with MemoryLRUCacher is not supported.\");\n\t\t}\n\t}\n\n\t/**\n\t * Close cacher\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tclose() {\n\t\tclearInterval(this.timer);\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Get data from cache by key\n\t *\n\t * @param {any} key\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tget(key) {\n\t\tthis.logger.debug(`GET ${key}`);\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_GET_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_GET_TIME);\n\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.logger.debug(`FOUND ${key}`);\n\t\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_FOUND_TOTAL);\n\n\t\t\tlet item = this.cache.get(key);\n\t\t\tconst res = this.clone ? this.clone(item) : item;\n\t\t\ttimeEnd();\n\n\t\t\treturn this.broker.Promise.resolve(res);\n\t\t} else {\n\t\t\ttimeEnd();\n\t\t}\n\t\treturn this.broker.Promise.resolve(null);\n\t}\n\n\t/**\n\t * Save data to cache by key\n\t *\n\t * @param {String} key\n\t * @param {any} data JSON object\n\t * @param {Number} ttl Optional Time-to-Live\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tset(key, data, ttl) {\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_SET_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_SET_TIME);\n\n\t\tif (ttl == null)\n\t\t\tttl = this.opts.ttl;\n\n\t\tthis.cache.set(key, data, ttl ? ttl * 1000 : null);\n\n\t\ttimeEnd();\n\t\tthis.logger.debug(`SET ${key}`);\n\n\t\treturn this.broker.Promise.resolve(data);\n\t}\n\n\t/**\n\t * Delete a key from cache\n\t *\n\t * @param {string|Array<string>} key\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tdel(keys) {\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_DEL_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_DEL_TIME);\n\n\t\tkeys = Array.isArray(keys) ? keys : [keys];\n\t\tkeys.forEach(key => {\n\t\t\tthis.cache.del(key);\n\t\t\tthis.logger.debug(`REMOVE ${key}`);\n\t\t});\n\t\ttimeEnd();\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Clean cache. Remove every key by match\n\t * @param {string|Array<string>} match string. Default is \"**\"\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tclean(match = \"**\") {\n\t\tthis.metrics.increment(METRIC.MOLECULER_CACHER_CLEAN_TOTAL);\n\t\tconst timeEnd = this.metrics.timer(METRIC.MOLECULER_CACHER_CLEAN_TIME);\n\n\t\tconst matches = Array.isArray(match) ? match : [match];\n\t\tthis.logger.debug(`CLEAN ${matches.join(\", \")}`);\n\n\t\tthis.cache.keys().forEach(key => {\n\t\t\tif (matches.some(match => utils.match(key, match))) {\n\t\t\t\tthis.logger.debug(`REMOVE ${key}`);\n\t\t\t\tthis.cache.del(key);\n\t\t\t}\n\t\t});\n\t\ttimeEnd();\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\t/**\n\t * Get data and ttl from cache by key.\n\t *\n\t * @param {string|Array<string>} key\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tgetWithTTL(key){\n\t\t// There are no way to get the ttl of LRU cache :(\n\t\treturn this.get(key).then(data=>{\n\t\t\treturn { data, ttl: null };\n\t\t});\n\t}\n\n\t/**\n\t * Acquire a lock\n\t *\n\t * @param {string|Array<string>} key\n\t * @param {Number} ttl Optional Time-to-Live\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\n\tlock(key, ttl) {\n\t\treturn this._lock.acquire(key, ttl).then(()=> {\n\t\t\treturn ()=>this._lock.release(key);\n\t\t});\n\t}\n\n\t/**\n\t * Try to acquire a lock\n\t *\n\t * @param {string|Array<string>} key\n\t * @param {Number} ttl Optional Time-to-Live\n\t * @returns {Promise}\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\ttryLock(key, ttl) {\n\t\tif(this._lock.isLocked(key)){\n\t\t\treturn this.broker.Promise.reject(new Error(\"Locked.\"));\n\t\t}\n\t\treturn this._lock.acquire(key, ttl).then(()=> {\n\t\t\treturn ()=>this._lock.release(key);\n\t\t});\n\t}\n\n\n\t/**\n\t * Check & remove the expired cache items\n\t *\n\t * @memberof MemoryLRUCacher\n\t */\n\tcheckTTL() {\n\t\tthis.cache.prune();\n\t}\n}\n\nmodule.exports = MemoryLRUCacher;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { isObject, isString } = require(\"../utils\");\nconst { BrokerOptionsError } = require(\"../errors\");\n\nconst Cachers = {\n\tBase: require(\"./base\"),\n\tMemory: require(\"./memory\"),\n\tMemoryLRU: require(\"./memory-lru\"),\n\tRedis: require(\"./redis\")\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Cachers).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Cachers[n];\n}\n\n/**\n * Resolve cacher by name\n *\n * @param {object|string} opt\n * @returns {Cacher}\n */\nfunction resolve(opt) {\n\tif (opt instanceof Cachers.Base) {\n\t\treturn opt;\n\t} else if (opt === true) {\n\t\treturn new Cachers.Memory();\n\t} else if (isString(opt)) {\n\t\tlet CacherClass = getByName(opt);\n\t\tif (CacherClass)\n\t\t\treturn new CacherClass();\n\n\t\tif (opt.startsWith(\"redis://\"))\n\t\t\tCacherClass = Cachers.Redis;\n\n\t\tif (CacherClass)\n\t\t\treturn new CacherClass(opt);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid cacher type '${opt}'.`, { type: opt });\n\n\t} else if (isObject(opt)) {\n\t\tlet CacherClass = getByName(opt.type || \"Memory\");\n\t\tif (CacherClass)\n\t\t\treturn new CacherClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid cacher type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\treturn null;\n}\n\nfunction register(name, value) {\n\tCachers[name] = value;\n}\n\nmodule.exports = Object.assign(Cachers, { resolve, register });\n\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _\t= require(\"lodash\");\nconst P = require(\"../packets\");\nconst { flatten } = require(\"../utils\");\nconst { BrokerDisconnectedError } = require(\"../errors\");\n\n/**\n * Base Transporter class\n *\n * @class BaseTransporter\n */\nclass BaseTransporter {\n\n\t/**\n\t * Creates an instance of BaseTransporter.\n\t *\n\t * @param {any} opts\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tconstructor(opts) {\n\t\tthis.opts = opts;\n\t\tthis.connected = false;\n\t\tthis.hasBuiltInBalancer = false;\n\t}\n\n\t/**\n\t * Init transporter\n\t *\n\t * @param {Transit} transit\n\t * @param {Function} messageHandler\n\t * @param {Function} afterConnect\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tinit(transit, messageHandler, afterConnect) {\n\t\tif (transit) {\n\t\t\tthis.transit = transit;\n\t\t\tthis.broker = transit.broker;\n\t\t\tthis.nodeID = transit.nodeID;\n\t\t\tthis.logger = this.broker.getLogger(\"transporter\");\n\n\t\t\tthis.prefix = \"MOL\";\n\t\t\tif (this.broker.namespace)\n\t\t\t\tthis.prefix += \"-\" + this.broker.namespace;\n\n\t\t}\n\t\tthis.messageHandler = messageHandler;\n\t\tthis.afterConnect = afterConnect;\n\t}\n\n\t/**\n\t * Connect to the transporter server\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tconnect() {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented!\");\n\t}\n\n\t/**\n\t * Event handler for connected.\n\t *\n\t * @param {any} wasReconnect\n\t * @returns {Promise}\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tonConnected(wasReconnect) {\n\t\tthis.connected = true;\n\t\tif (this.afterConnect) {\n\t\t\treturn this.afterConnect(wasReconnect);\n\t\t}\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Disconnect from the transporter server\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tdisconnect() {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented!\");\n\t}\n\n\t/**\n\t * Subscribe to all topics\n\t *\n\t * @param {Array<Object>} topics\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tmakeSubscriptions(topics) {\n\t\treturn this.broker.Promise.all(topics.map(({ cmd, nodeID }) => this.subscribe(cmd, nodeID)));\n\t}\n\n\t/**\n\t * Process incoming messages\n\t *\n\t * @param {String} cmd\n\t * @param {Buffer} msg\n\t * @returns\n\t * @memberof BaseTransporter\n\t */\n\tincomingMessage(cmd, msg) {\n\t\tif (!msg) return;\n\t\ttry {\n\t\t\tconst packet = this.deserialize(cmd, msg);\n\t\t\treturn this.messageHandler(cmd, packet);\n\t\t} catch(err) {\n\t\t\tthis.logger.warn(\"Invalid incoming packet. Type:\", cmd, err);\n\t\t\tthis.logger.debug(\"Content:\", msg.toString ? msg.toString() : msg);\n\t\t}\n\t}\n\n\t/**\n\t * Received data. It's a wrapper for middlewares.\n\t * @param {String} cmd\n\t * @param {Buffer} data\n\t */\n\treceive(cmd, data) {\n\t\treturn this.incomingMessage(cmd, data);\n\t}\n\n\t/**\n\t * Subscribe to a command\n\t *\n\t * @param {String} cmd\n\t * @param {String} nodeID\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tsubscribe(/*cmd, nodeID*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented!\");\n\t}\n\n\t/**\n\t * Subscribe to balanced action commands\n\t *\n\t * @param {String} action\n\t * @memberof AmqpTransporter\n\t */\n\tsubscribeBalancedRequest(/*action*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented!\");\n\t}\n\n\t/**\n\t * Subscribe to balanced event command\n\t *\n\t * @param {String} event\n\t * @param {String} group\n\t * @memberof AmqpTransporter\n\t */\n\tsubscribeBalancedEvent(/*event, group*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented!\");\n\t}\n\n\t/**\n\t * Unsubscribe all balanced request and event commands\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tunsubscribeFromBalancedCommands() {\n\t\t/* istanbul ignore next */\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Publish a normal not balanced packet\n\t *\n\t * @param {Packet} packet\n\t * @returns {Promise}\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tpublish(packet) {\n\t\tconst topic = this.getTopicName(packet.type, packet.target);\n\t\tconst data = this.serialize(packet);\n\n\t\treturn this.send(topic, data, { packet });\n\t}\n\n\t/**\n\t * Publish a balanced EVENT packet to a balanced queue\n\t *\n\t * @param {Packet} packet\n\t * @param {String} group\n\t * @returns {Promise}\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tpublishBalancedEvent(packet, group) {\n\t\tconst topic = `${this.prefix}.${P.PACKET_EVENT}B.${group}.${packet.payload.event}`;\n\t\tconst data = this.serialize(packet);\n\n\t\treturn this.send(topic, data, { packet, balanced: true });\n\t}\n\n\t/**\n\t * Publish a balanced REQ packet to a balanced queue\n\t *\n\t * @param {Packet} packet\n\t * @returns {Promise}\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tpublishBalancedRequest(packet) {\n\t\tconst topic = `${this.prefix}.${P.PACKET_REQUEST}B.${packet.payload.action}`;\n\t\tconst data = this.serialize(packet);\n\n\t\treturn this.send(topic, data, { packet, balanced: true });\n\t}\n\n\t/**\n\t * Send data buffer.\n\t *\n\t * @param {String} topic\n\t * @param {Buffer} data\n\t * @param {Object} meta\n\t *\n\t * @returns {Promise}\n\t */\n\tsend(/*topic, data, meta*/) {\n\t\tthrow new Error(\"Not implemented!\");\n\t}\n\n\t/**\n\t * Get topic name from command & target nodeID\n\t *\n\t * @param {any} cmd\n\t * @param {any} nodeID\n\t *\n\t * @memberof BaseTransporter\n\t */\n\tgetTopicName(cmd, nodeID) {\n\t\treturn this.prefix + \".\" + cmd + (nodeID ? \".\" + nodeID : \"\");\n\t}\n\n\t/**\n\t * Initialize queues for REQUEST & EVENT packets.\n\t *\n\t * @memberof AmqpTransporter\n\t */\n\tmakeBalancedSubscriptions() {\n\t\tif (!this.hasBuiltInBalancer) return this.broker.Promise.resolve();\n\n\t\treturn this.unsubscribeFromBalancedCommands().then(() => {\n\t\t\tconst services = this.broker.getLocalNodeInfo().services;\n\t\t\treturn this.broker.Promise.all(services.map(service => {\n\t\t\t\tconst p = [];\n\n\t\t\t\t// Service actions queues\n\t\t\t\tif (service.actions && typeof(service.actions) == \"object\") {\n\t\t\t\t\tp.push(Object.keys(service.actions).map(action => this.subscribeBalancedRequest(action)));\n\t\t\t\t}\n\n\t\t\t\t// Load-balanced/grouped events queues\n\t\t\t\tif (service.events && typeof(service.events) == \"object\") {\n\t\t\t\t\tp.push(Object.keys(service.events).map(event => {\n\t\t\t\t\t\tconst group = service.events[event].group || service.name;\n\t\t\t\t\t\tthis.subscribeBalancedEvent(event, group);\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\treturn this.broker.Promise.all(_.compact(flatten(p, true)));\n\t\t\t}));\n\t\t});\n\t}\n\n\t/**\n\t * Prepublish a packet. Handle balancing.\n\t *\n\t * @param {Packet} packet\n\t * @returns {Promise}\n\t * @memberof BaseTransporter\n\t */\n\tprepublish(packet) {\n\t\t// Safely handle disconnected state\n\t\tif (!this.connected) {\n\t\t\t// For packets that are triggered intentionally by users, throw a retryable error.\n\t\t\tif ([P.PACKET_REQUEST, P.PACKET_EVENT, P.PACKET_PING].includes(packet.type)) {\n\t\t\t\treturn this.broker.Promise.reject(new BrokerDisconnectedError());\n\t\t\t}\n\n\t\t\t// For internal packets like INFO and HEARTBEATS, skip sending and don't throw\n\t\t\telse {\n\t\t\t\treturn this.broker.Promise.resolve();\n\t\t\t}\n\t\t}\n\n\t\tif (packet.type === P.PACKET_EVENT && packet.target == null && packet.payload.groups) {\n\t\t\tconst groups = packet.payload.groups;\n\t\t\t// If the packet contains groups, we don't send the packet to\n\t\t\t// the targetted node, but we push them to the event group queues\n\t\t\t// and AMQP will load-balanced it.\n\t\t\tif (groups.length > 0) {\n\t\t\t\tgroups.forEach(group => {\n\t\t\t\t\t// Change the groups to this group to avoid multi handling in consumers.\n\t\t\t\t\tpacket.payload.groups = [group];\n\t\t\t\t\tthis.publishBalancedEvent(packet, group);\n\t\t\t\t});\n\t\t\t\treturn this.broker.Promise.resolve();\n\t\t\t}\n\t\t\t// If it's not contain, then it is a broadcasted event,\n\t\t\t// we sent it in the normal way (exchange)\n\n\t\t} else if (packet.type === P.PACKET_REQUEST && packet.target == null) {\n\t\t\treturn this.publishBalancedRequest(packet);\n\t\t}\n\n\t\t// Normal packet publishing...\n\t\treturn this.publish(packet);\n\t}\n\n\t/**\n\t * Serialize the Packet to Buffer\n\t *\n\t * @param {Packet} packet\n\t * @returns {Buffer}\n\t *\n\t * @memberof Transit\n\t */\n\tserialize(packet) {\n\t\tpacket.payload.ver = this.broker.PROTOCOL_VERSION;\n\t\tpacket.payload.sender = this.nodeID;\n\t\treturn this.broker.serializer.serialize(packet.payload, packet.type);\n\t}\n\n\t/**\n\t * Deserialize the incoming Buffer to Packet\n\t *\n\t * @param {String} type\n\t * @param {Buffer} buf\n\t * @returns {Packet}\n\t *\n\t * @memberof Transit\n\t */\n\tdeserialize(type, buf) {\n\t\tif (buf == null) return null;\n\n\t\tconst msg = this.broker.serializer.deserialize(buf, type);\n\t\treturn new P.Packet(type, null, msg);\n\n\t}\n}\n\nmodule.exports = BaseTransporter;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Transporter \t= require(\"./base\");\n\nconst EventEmitter2 = require(\"eventemitter2\").EventEmitter2;\n\n// Put to global to transfer messages between brokers in the same process\nglobal.bus = new EventEmitter2({\n\twildcard: true,\n\tmaxListeners: 100\n});\n\n/**\n * Fake Transporter\n *\n * @class FakeTransporter\n * @extends {Transporter}\n */\nclass FakeTransporter extends Transporter {\n\n\t/**\n\t * Creates an instance of FakeTransporter.\n\t *\n\t * @param {any} opts\n\t *\n\t * @memberof FakeTransporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\t// Local event bus\n\t\tthis.bus = global.bus;\n\t\tthis.hasBuiltInBalancer = true;\n\n\t\tthis.subscriptions = [];\n\t}\n\n\t/**\n\t * Connect to a NATS server\n\t *\n\t * @memberof FakeTransporter\n\t */\n\tconnect() {\n\t\treturn this.onConnected();\n\t}\n\n\t/**\n\t * Disconnect from a NATS server\n\t *\n\t * @memberof FakeTransporter\n\t */\n\tdisconnect() {\n\t\tthis.connected = false;\n\t\tthis.subscriptions.forEach(({ topic, handler }) => this.bus.off(topic, handler));\n\t\tthis.subscriptions = [];\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Subscribe to a command\n\t *\n\t * @param {String} cmd\n\t * @param {String} nodeID\n\t *\n\t * @memberof FakeTransporter\n\t */\n\tsubscribe(cmd, nodeID) {\n\t\tconst t = this.getTopicName(cmd, nodeID);\n\t\tconst handler = msg => this.receive(cmd, msg);\n\t\tthis.subscriptions.push({ topic: t, handler });\n\n\t\tthis.bus.on(t, handler);\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Subscribe to balanced action commands\n\t *\n\t * @param {String} action\n\t * @memberof AmqpTransporter\n\t */\n\tsubscribeBalancedRequest(/*action*/) {\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Subscribe to balanced event command\n\t *\n\t * @param {String} event\n\t * @param {String} group\n\t * @memberof AmqpTransporter\n\t */\n\tsubscribeBalancedEvent(/*event, group*/) {\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Send data buffer.\n\t *\n\t * @param {String} topic\n\t * @param {Buffer} data\n\t * @param {Object} meta\n\t *\n\t * @returns {Promise}\n\t */\n\tsend(topic, data) {\n\t\tthis.bus.emit(topic, data);\n\t\treturn this.broker.Promise.resolve();\n\t}\n}\n\nmodule.exports = FakeTransporter;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { isObject, isString } = require(\"../utils\");\nconst { BrokerOptionsError } = require(\"../errors\");\n\nconst Transporters = {\n\tBase: require(\"./base\"),\n\tFake: require(\"./fake\"),\n\tNATS: require(\"./nats\"),\n\tMQTT: require(\"./mqtt\"),\n\tRedis: require(\"./redis\"),\n\tAMQP: require(\"./amqp\"),\n\tAMQP10: require(\"./amqp10\"),\n\tKafka: require(\"./kafka\"),\n\tSTAN: require(\"./stan\"),\n\tTCP: require(\"./tcp\")\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Transporters).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Transporters[n];\n}\n\n/**\n * Resolve transporter by name\n *\n * @param {object|string} opt\n * @returns {Transporter}\n */\nfunction resolve(opt) {\n\tif (opt instanceof Transporters.Base) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet TransporterClass = getByName(opt);\n\t\tif (TransporterClass)\n\t\t\treturn new TransporterClass();\n\n\t\tif (opt.startsWith(\"nats://\"))\n\t\t\tTransporterClass = Transporters.NATS;\n\t\telse if (opt.startsWith(\"mqtt://\") || opt.startsWith(\"mqtts://\"))\n\t\t\tTransporterClass = Transporters.MQTT;\n\t\telse if (opt.startsWith(\"redis://\") || opt.startsWith(\"rediss://\"))\n\t\t\tTransporterClass = Transporters.Redis;\n\t\telse if (opt.startsWith(\"amqp://\") || opt.startsWith(\"amqps://\"))\n\t\t\tTransporterClass = Transporters.AMQP;\n\t\telse if (opt.startsWith(\"amqp10://\"))\n\t\t\tTransporterClass = Transporters.AMQP10;\n\t\telse if (opt.startsWith(\"kafka://\"))\n\t\t\tTransporterClass = Transporters.Kafka;\n\t\telse if (opt.startsWith(\"stan://\"))\n\t\t\tTransporterClass = Transporters.STAN;\n\t\telse if (opt.startsWith(\"tcp://\"))\n\t\t\tTransporterClass = Transporters.TCP;\n\n\t\tif (TransporterClass)\n\t\t\treturn new TransporterClass(opt);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid transporter type '${opt}'.`, { type: opt });\n\n\t} else if (isObject(opt)) {\n\t\tlet TransporterClass = getByName(opt.type || \"NATS\");\n\n\t\tif (TransporterClass)\n\t\t\treturn new TransporterClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid transporter type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\treturn null;\n}\n\nfunction register(name, value) {\n\tTransporters[name] = value;\n}\n\n\nmodule.exports = Object.assign(Transporters, { resolve, register });\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst P = require(\"../packets\");\n\n/**\n * Abstract serializer class\n *\n * @class Serializer\n */\nclass Serializer {\n\n\t/**\n\t * Creates an instance of Serializer.\n\t *\n\t * @memberof Serializer\n\t */\n\tconstructor() {\n\t}\n\n\t/**\n\t * Initialize Serializer\n\t *\n\t * @param {any} broker\n\t *\n\t * @memberof Serializer\n\t */\n\tinit(broker) {\n\t\tthis.broker = broker;\n\t\t/*if (this.broker) {\n\t\t\tthis.logger = broker.getLogger(\"serializer\");\n\t\t}*/\n\t}\n\n\t/**\n\t * Serializer a JS object to Buffer\n\t *\n\t * @param {Object} obj\n\t * @param {String} type of packet\n\t * @returns {Buffer}\n\t *\n\t * @memberof Serializer\n\t */\n\tserialize(/*obj, type*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n\t/**\n\t * Deserialize Buffer to JS object\n\t *\n\t * @param {Buffer} buf\n\t * @param {String} type of packet\n\t * @returns {Object}\n\t *\n\t * @memberof Serializer\n\t */\n\tdeserialize(/*buf, type*/) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Not implemented method!\");\n\t}\n\n\t/**\n\t * Serialize custom fields (stringify)\n\t *\n\t * @param {String} type\n\t * @param {Packet} obj\n\t * @returns {Packet}\n\t * @memberof Serializer\n\t */\n\tserializeCustomFields(type, obj) {\n\t\tswitch (type) {\n\t\t\tcase P.PACKET_INFO: {\n\t\t\t\tobj.services = JSON.stringify(obj.services);\n\t\t\t\tif (obj.config)\n\t\t\t\t\tobj.config = JSON.stringify(obj.config);\n\t\t\t\tif (obj.metadata)\n\t\t\t\t\tobj.metadata = JSON.stringify(obj.metadata);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_EVENT: {\n\t\t\t\tthis.convertDataToTransport(obj, \"data\", \"dataType\");\n\t\t\t\tobj.meta = JSON.stringify(obj.meta);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_REQUEST: {\n\t\t\t\tthis.convertDataToTransport(obj, \"params\", \"paramsType\");\n\t\t\t\tobj.meta = JSON.stringify(obj.meta);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_RESPONSE: {\n\t\t\t\tthis.convertDataToTransport(obj, \"data\", \"dataType\");\n\t\t\t\tobj.meta = JSON.stringify(obj.meta);\n\t\t\t\tif (obj.error)\n\t\t\t\t\tobj.error = JSON.stringify(obj.error);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_GOSSIP_REQ: {\n\t\t\t\tif (obj.online)\n\t\t\t\t\tobj.online = JSON.stringify(obj.online);\n\t\t\t\tif (obj.offline)\n\t\t\t\t\tobj.offline = JSON.stringify(obj.offline);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_GOSSIP_RES: {\n\t\t\t\tif (obj.online)\n\t\t\t\t\tobj.online = JSON.stringify(obj.online);\n\t\t\t\tif (obj.offline)\n\t\t\t\t\tobj.offline = JSON.stringify(obj.offline);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t}\n\n\t/**\n\t * Deserialize custom fields\n\t *\n\t * @param {String} type\n\t * @param {Packet} obj\n\t * @returns {Packet}\n\t * @memberof Serializer\n\t */\n\tdeserializeCustomFields(type, obj) {\n\t\tswitch (type) {\n\t\t\tcase P.PACKET_INFO: {\n\t\t\t\tobj.services = JSON.parse(obj.services);\n\t\t\t\tif (obj.config)\n\t\t\t\t\tobj.config = JSON.parse(obj.config);\n\t\t\t\tif (obj.metadata)\n\t\t\t\t\tobj.metadata = JSON.parse(obj.metadata);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_EVENT: {\n\t\t\t\tthis.convertDataFromTransport(obj, \"data\", \"dataType\");\n\t\t\t\tobj.meta = JSON.parse(obj.meta);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_REQUEST: {\n\t\t\t\tthis.convertDataFromTransport(obj, \"params\", \"paramsType\");\n\t\t\t\tobj.meta = JSON.parse(obj.meta);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_RESPONSE: {\n\t\t\t\tthis.convertDataFromTransport(obj, \"data\", \"dataType\");\n\t\t\t\tobj.meta = JSON.parse(obj.meta);\n\t\t\t\tif (obj.error)\n\t\t\t\t\tobj.error = JSON.parse(obj.error);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_GOSSIP_REQ: {\n\t\t\t\tif (obj.online)\n\t\t\t\t\tobj.online = JSON.parse(obj.online);\n\t\t\t\tif (obj.offline)\n\t\t\t\t\tobj.offline = JSON.parse(obj.offline);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.PACKET_GOSSIP_RES: {\n\t\t\t\tif (obj.online)\n\t\t\t\t\tobj.online = JSON.parse(obj.online);\n\t\t\t\tif (obj.offline)\n\t\t\t\t\tobj.offline = JSON.parse(obj.offline);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t}\n\n\tconvertDataToTransport(obj, field, fieldType) {\n\t\tif (obj[field] === undefined) {\n\t\t\tobj[fieldType] = P.DATATYPE_UNDEFINED;\n\t\t} else if (obj[field] === null) {\n\t\t\tobj[fieldType] = P.DATATYPE_NULL;\n\t\t} else if (Buffer.isBuffer(obj[field])) {\n\t\t\tobj[fieldType] = P.DATATYPE_BUFFER;\n\t\t} else {\n\t\t\t// JSON\n\t\t\tobj[fieldType] = P.DATATYPE_JSON;\n\t\t\tobj[field] = Buffer.from(JSON.stringify(obj[field]));\n\t\t}\n\t}\n\n\tconvertDataFromTransport(obj, field, fieldType) {\n\t\tconst type = obj[fieldType];\n\t\tswitch(type) {\n\t\t\tcase P.DATATYPE_UNDEFINED: {\n\t\t\t\tobj[field] = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.DATATYPE_NULL: {\n\t\t\t\tobj[field] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase P.DATATYPE_BUFFER: {\n\t\t\t\tif (!Buffer.isBuffer(obj[field]))\n\t\t\t\t\tobj[field] = Buffer.from(obj[field]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\t// JSON\n\t\t\t\tobj[field] = JSON.parse(obj[field]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tdelete obj[fieldType];\n\t}\n}\n\nmodule.exports = Serializer;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst BaseSerializer  \t= require(\"./base\");\n/**\n * JSON serializer for Moleculer\n *\n * @class JSONSerializer\n */\nclass JSONSerializer extends BaseSerializer {\n\n\t/**\n\t * Creates an instance of JSONSerializer.\n\t *\n\t * @memberof JSONSerializer\n\t */\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Serializer a JS object to Buffer\n\t *\n\t * @param {Object} obj\n\t * @param {String} type of packet\n\t * @returns {Buffer}\n\t *\n\t * @memberof Serializer\n\t */\n\tserialize(obj) {\n\t\treturn Buffer.from(JSON.stringify(obj));\n\t}\n\n\t/**\n\t * Deserialize Buffer to JS object\n\t *\n\t * @param {Buffer} buf\n\t * @param {String} type of packet\n\t * @returns {Object}\n\t *\n\t * @memberof Serializer\n\t */\n\tdeserialize(buf) {\n\t\treturn JSON.parse(buf);\n\t}\n}\n\nmodule.exports = JSONSerializer;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { isObject, isString } = require(\"../utils\");\nconst { BrokerOptionsError } = require(\"../errors\");\n\nconst Serializers = {\n\tBase: require(\"./base\"),\n\tJSON: require(\"./json\"),\n\tAvro: require(\"./avro\"),\n\tMsgPack: require(\"./msgpack\"),\n\tProtoBuf: require(\"./protobuf\"),\n\tThrift: require(\"./thrift\"),\n\tNotepack: require(\"./notepack\")\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Serializers).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Serializers[n];\n}\n\n/**\n * Resolve serializer by name\n *\n * @param {object|string} opt\n * @returns {Serializer}\n * @memberof ServiceBroker\n */\nfunction resolve(opt) {\n\tif (opt instanceof Serializers.Base) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet SerializerClass = getByName(opt);\n\t\tif (SerializerClass)\n\t\t\treturn new SerializerClass();\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid serializer type '${opt}'.`, { type: opt });\n\n\t} else if (isObject(opt)) {\n\t\tlet SerializerClass = getByName(opt.type || \"JSON\");\n\t\tif (SerializerClass)\n\t\t\treturn new SerializerClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid serializer type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\treturn new Serializers.JSON();\n}\n\nfunction register(name, value) {\n\tSerializers[name] = value;\n}\n\nmodule.exports = Object.assign(Serializers, { resolve, register });\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst os = require(\"os\");\nconst { getIpList } = require(\"./utils\");\nconst MOLECULER_VERSION = require(\"../package.json\").version;\n\nconst getClientInfo = () => {\n\treturn {\n\t\ttype: \"nodejs\",\n\t\tversion: MOLECULER_VERSION,\n\t\tlangVersion: process.version\n\t};\n};\n\nconst getCpuInfo = () => {\n\tconst cpus = os.cpus();\n\tconst load = os.loadavg();\n\tconst cpu = {\n\t\tload1: load[0],\n\t\tload5: load[1],\n\t\tload15: load[2],\n\t\tcores: Array.isArray(cpus) ? os.cpus().length : null,\n\t};\n\tcpu.utilization = Math.min(Math.floor(load[0] * 100 / cpu.cores), 100);\n\n\treturn cpu;\n};\n\nconst getMemoryInfo = () => {\n\tconst mem = {\n\t\tfree: os.freemem(),\n\t\ttotal: os.totalmem()\n\t};\n\tmem.percent = (mem.free * 100 / mem.total);\n\n\treturn mem;\n};\n\nconst getUserInfo = () => {\n\ttry {\n\t\treturn os.userInfo();\n\t} catch (e) {\n\t\treturn {};\n\t}\n};\n\nconst getOsInfo = () => {\n\treturn {\n\t\tuptime: os.uptime(),\n\t\ttype: os.type(),\n\t\trelease: os.release(),\n\t\thostname: os.hostname(),\n\t\tarch: os.arch(),\n\t\tplatform: os.platform(),\n\t\tuser: getUserInfo()\n\t};\n};\n\nconst getProcessInfo = () => {\n\treturn {\n\t\tpid: process.pid,\n\t\tmemory: process.memoryUsage(),\n\t\tuptime: process.uptime(),\n\t\targv: process.argv\n\t};\n};\n\nconst getNetworkInterfacesInfo = () => {\n\treturn {\n\t\tip:  getIpList()\n\t};\n};\n\nconst getDateTimeInfo = () => {\n\treturn {\n\t\tnow: Date.now(),\n\t\tiso: new Date().toISOString(),\n\t\tutc: new Date().toUTCString()\n\t};\n};\n\nconst getHealthStatus = (/*broker*/) => {\n\treturn {\n\t\tcpu: getCpuInfo(),\n\t\tmem: getMemoryInfo(),\n\t\tos: getOsInfo(),\n\t\tprocess: getProcessInfo(),\n\t\tclient: getClientInfo(),\n\t\tnet: getNetworkInterfacesInfo(),\n\t\ttime: getDateTimeInfo()\n\t};\n};\n\nmodule.exports = {\n\tgetHealthStatus,\n\tgetCpuInfo,\n\tgetMemoryInfo,\n\tgetOsInfo,\n\tgetProcessInfo,\n\tgetClientInfo,\n\tgetNetworkInterfacesInfo,\n\tgetDateTimeInfo\n};\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { isFunction, isString } = require(\"../utils\");\n\nmodule.exports = function actionHookMiddleware(broker) {\n\n\tfunction callHook(hook, service, ctx, res) {\n\t\tif (isFunction(hook)) {\n\t\t\treturn hook.call(service, ctx, res);\n\t\t} else if (Array.isArray(hook)) {\n\t\t\treturn hook.reduce((p, fn) => p.then(res => fn.call(service, ctx, res)), broker.Promise.resolve(res));\n\t\t}\n\t}\n\n\tfunction callErrorHook(hook, service, ctx, err) {\n\t\tif (isFunction(hook)) {\n\t\t\treturn hook.call(service, ctx, err);\n\t\t} else if (Array.isArray(hook)) {\n\t\t\treturn hook.reduce((p, fn) => p.catch(err => fn.call(service, ctx, err)), broker.Promise.reject(err));\n\t\t}\n\t}\n\n\t/**\n\t * Sanitize hooks. If the hook is a string, convert it to Service method calling.\n\t *\n\t * @param {Function|String|Array<any>} hooks\n\t * @param {Service?} service\n\t * @returns\n\t */\n\tfunction sanitizeHooks(hooks, service) {\n\t\tif (isString(hooks))\n\t\t\treturn service && isFunction(service[hooks]) ? service[hooks] : null;\n\n\t\tif (Array.isArray(hooks)) {\n\t\t\treturn _.compact(hooks.map(h => {\n\t\t\t\tif (isString(h))\n\t\t\t\t\treturn service && isFunction(service[h]) ? service[h] : null;\n\n\t\t\t\treturn h;\n\t\t\t}));\n\t\t}\n\n\t\treturn hooks;\n\t}\n\n\tfunction wrapActionHookMiddleware(handler, action) {\n\t\tconst name = action.rawName || action.name;\n\t\tconst hooks = action.service && action.service.schema ? action.service.schema.hooks : null;\n\t\tif (hooks || action.hooks) {\n\t\t\t// Global hooks\n\t\t\tconst beforeAllHook = hooks && hooks.before ? sanitizeHooks(hooks.before[\"*\"], action.service) : null;\n\t\t\tconst afterAllHook = hooks && hooks.after ? sanitizeHooks(hooks.after[\"*\"], action.service) : null;\n\t\t\tconst errorAllHook = hooks && hooks.error ? sanitizeHooks(hooks.error[\"*\"], action.service) : null;\n\n\t\t\t// Hooks in service\n\t\t\tconst beforeHook = hooks && hooks.before ? sanitizeHooks(hooks.before[name], action.service) : null;\n\t\t\tconst afterHook = hooks && hooks.after ? sanitizeHooks(hooks.after[name], action.service) : null;\n\t\t\tconst errorHook = hooks && hooks.error ? sanitizeHooks(hooks.error[name], action.service) : null;\n\n\t\t\t// Hooks in action definition\n\t\t\tconst actionBeforeHook = action.hooks && action.hooks.before ? sanitizeHooks(action.hooks.before, action.service) : null;\n\t\t\tconst actionAfterHook = action.hooks && action.hooks.after ? sanitizeHooks(action.hooks.after, action.service) : null;\n\t\t\tconst actionErrorHook = action.hooks && action.hooks.error ? sanitizeHooks(action.hooks.error, action.service) : null;\n\n\t\t\tif (beforeAllHook || beforeHook || actionBeforeHook\n\t\t\t\t|| afterAllHook || afterHook || actionAfterHook\n\t\t\t\t|| errorAllHook || errorHook || actionErrorHook) {\n\t\t\t\treturn function actionHookMiddleware(ctx) {\n\t\t\t\t\tlet p = broker.Promise.resolve();\n\n\t\t\t\t\t// Before hook all\n\t\t\t\t\tif (beforeAllHook)\n\t\t\t\t\t\tp = p.then(() => callHook(beforeAllHook, ctx.service, ctx));\n\n\t\t\t\t\t// Before hook\n\t\t\t\t\tif (beforeHook)\n\t\t\t\t\t\tp = p.then(() => callHook(beforeHook, ctx.service, ctx));\n\n\t\t\t\t\t// Before hook in action definition\n\t\t\t\t\tif (actionBeforeHook)\n\t\t\t\t\t\tp = p.then(() => callHook(actionBeforeHook, ctx.service, ctx));\n\n\t\t\t\t\t// Action hook handler\n\t\t\t\t\tp = p.then(() => handler(ctx));\n\n\t\t\t\t\t// After hook in action definition\n\t\t\t\t\tif (actionAfterHook)\n\t\t\t\t\t\tp = p.then(res => callHook(actionAfterHook, ctx.service, ctx, res));\n\n\t\t\t\t\t// After hook\n\t\t\t\t\tif (afterHook)\n\t\t\t\t\t\tp = p.then(res => callHook(afterHook, ctx.service, ctx, res));\n\n\t\t\t\t\t// After hook all\n\t\t\t\t\tif (afterAllHook)\n\t\t\t\t\t\tp = p.then(res => callHook(afterAllHook, ctx.service, ctx, res));\n\n\t\t\t\t\t// Error hook in action definition\n\t\t\t\t\tif (actionErrorHook)\n\t\t\t\t\t\tp = p.catch(err => callErrorHook(actionErrorHook, ctx.service, ctx, err));\n\n\t\t\t\t\t// Error hook\n\t\t\t\t\tif (errorHook)\n\t\t\t\t\t\tp = p.catch(err => callErrorHook(errorHook, ctx.service, ctx, err));\n\n\t\t\t\t\t// Error hook all\n\t\t\t\t\tif (errorAllHook)\n\t\t\t\t\t\tp = p.catch(err => callErrorHook(errorAllHook, ctx.service, ctx, err));\n\n\t\t\t\t\treturn p;\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\treturn {\n\t\tname: \"ActionHook\",\n\t\tlocalAction: wrapActionHookMiddleware\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { QueueIsFullError } = require(\"../errors\");\nconst { METRIC }\t= require(\"../metrics\");\n\nmodule.exports = function bulkheadMiddleware(broker) {\n\n\tfunction wrapActionBulkheadMiddleware(handler, action) {\n\t\tconst service = action.service;\n\n\t\tconst opts = Object.assign({}, this.options.bulkhead || {}, action.bulkhead || {});\n\t\tif (opts.enabled) {\n\t\t\tconst queue = [];\n\t\t\tlet currentInFlight = 0;\n\n\t\t\t// Call the next request from the queue\n\t\t\tconst callNext = function callNext() {\n\t\t\t/* istanbul ignore next */\n\t\t\t\tif (queue.length == 0) return;\n\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (currentInFlight >= opts.concurrency) return;\n\n\t\t\t\tconst item = queue.shift();\n\n\t\t\t\tcurrentInFlight++;\n\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_INFLIGHT, currentInFlight, { action: action.name, service: service.fullName });\n\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, queue.length, { action: action.name, service: service.fullName });\n\n\t\t\t\thandler(item.ctx)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_INFLIGHT, currentInFlight, { action: action.name, service: service.fullName });\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, queue.length, { action: action.name, service: service.fullName });\n\t\t\t\t\t\titem.resolve(res);\n\t\t\t\t\t\tcallNext();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_INFLIGHT, currentInFlight, { action: action.name, service: service.fullName });\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, queue.length, { action: action.name, service: service.fullName });\n\t\t\t\t\t\titem.reject(err);\n\t\t\t\t\t\tcallNext();\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn function bulkheadMiddleware(ctx) {\n\t\t\t// Call handler without waiting\n\t\t\t\tif (currentInFlight < opts.concurrency) {\n\t\t\t\t\tcurrentInFlight++;\n\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_INFLIGHT, currentInFlight, { action: action.name, service: service.fullName });\n\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, queue.length, { action: action.name, service: service.fullName });\n\t\t\t\t\treturn handler(ctx)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_INFLIGHT, currentInFlight, { action: action.name, service: service.fullName });\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, queue.length, { action: action.name, service: service.fullName });\n\t\t\t\t\t\t\tcallNext();\n\t\t\t\t\t\t\treturn res;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_INFLIGHT, currentInFlight, { action: action.name, service: service.fullName });\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, queue.length, { action: action.name, service: service.fullName });\n\t\t\t\t\t\t\tcallNext();\n\t\t\t\t\t\t\treturn broker.Promise.reject(err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Check whether the queue is full\n\t\t\t\tif (opts.maxQueueSize && queue.length >= opts.maxQueueSize) {\n\t\t\t\t\treturn broker.Promise.reject(new QueueIsFullError({ action: ctx.action.name, nodeID: ctx.nodeID }));\n\t\t\t\t}\n\n\t\t\t\t// Store the request in the queue\n\t\t\t\tconst p = new Promise((resolve, reject) => queue.push({ resolve, reject, ctx }));\n\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, queue.length, { action: action.name, service: service.fullName });\n\n\t\t\t\treturn p;\n\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\tfunction wrapEventBulkheadMiddleware(handler, event) {\n\t\tconst service = event.service;\n\n\t\tconst opts = Object.assign({}, this.options.bulkhead || {}, event.bulkhead || {});\n\t\tif (opts.enabled) {\n\t\t\tconst queue = [];\n\t\t\tlet currentInFlight = 0;\n\n\t\t\t// Call the next request from the queue\n\t\t\tconst callNext = function callNext() {\n\t\t\t/* istanbul ignore next */\n\t\t\t\tif (queue.length == 0) return;\n\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (currentInFlight >= opts.concurrency) return;\n\n\t\t\t\tconst item = queue.shift();\n\n\t\t\t\tcurrentInFlight++;\n\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_INFLIGHT, currentInFlight, { event: event.name, service: service.fullName });\n\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, queue.length, { event: event.name, service: service.fullName });\n\n\t\t\t\thandler(item.ctx)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_INFLIGHT, currentInFlight, { event: event.name, service: service.fullName });\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, queue.length, { event: event.name, service: service.fullName });\n\t\t\t\t\t\titem.resolve(res);\n\t\t\t\t\t\tcallNext();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_INFLIGHT, currentInFlight, { event: event.name, service: service.fullName });\n\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, queue.length, { event: event.name, service: service.fullName });\n\t\t\t\t\t\titem.reject(err);\n\t\t\t\t\t\tcallNext();\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn function bulkheadMiddleware(ctx) {\n\t\t\t\t// Call handler without waiting\n\t\t\t\tif (currentInFlight < opts.concurrency) {\n\t\t\t\t\tcurrentInFlight++;\n\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_INFLIGHT, currentInFlight, { event: event.name, service: service.fullName });\n\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, queue.length, { event: event.name, service: service.fullName });\n\t\t\t\t\treturn handler(ctx)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_INFLIGHT, currentInFlight, { event: event.name, service: service.fullName });\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, queue.length, { event: event.name, service: service.fullName });\n\t\t\t\t\t\t\tcallNext();\n\t\t\t\t\t\t\treturn res;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tcurrentInFlight--;\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_INFLIGHT, currentInFlight, { event: event.name, service: service.fullName });\n\t\t\t\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, queue.length, { event: event.name, service: service.fullName });\n\t\t\t\t\t\t\tcallNext();\n\t\t\t\t\t\t\treturn broker.Promise.reject(err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Check whether the queue is full\n\t\t\t\tif (opts.maxQueueSize && queue.length >= opts.maxQueueSize) {\n\t\t\t\t\treturn broker.Promise.reject(new QueueIsFullError({ event: ctx.eventName, service: service.fullName, nodeID: ctx.nodeID }));\n\t\t\t\t}\n\n\t\t\t\t// Store the request in the queue\n\t\t\t\tconst p = new Promise((resolve, reject) => queue.push({ resolve, reject, ctx }));\n\t\t\t\tbroker.metrics.set(METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, queue.length, { event: event.name, service: service.fullName });\n\n\t\t\t\treturn p;\n\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\n\treturn {\n\t\tname: \"Bulkhead\",\n\n\t\tcreated() {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_REQUEST_BULKHEAD_INFLIGHT, type: METRIC.TYPE_GAUGE, labelNames: [\"action\", \"service\"] });\n\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_REQUEST_BULKHEAD_QUEUE_SIZE, type: METRIC.TYPE_GAUGE, labelNames: [\"action\", \"service\"] });\n\n\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_EVENT_BULKHEAD_INFLIGHT, type: METRIC.TYPE_GAUGE, labelNames: [\"event\", \"service\"] });\n\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_EVENT_BULKHEAD_QUEUE_SIZE, type: METRIC.TYPE_GAUGE, labelNames: [\"event\", \"service\"] });\n\t\t\t}\n\t\t},\n\n\t\tlocalAction: wrapActionBulkheadMiddleware,\n\t\tlocalEvent: wrapEventBulkheadMiddleware\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { GracefulStopTimeoutError } = require(\"../errors\");\n\nmodule.exports = function ContextTrackerMiddleware(broker) {\n\n\tfunction addContext(ctx) {\n\t\tif (ctx.service) {\n\t\t// Local request\n\t\t\tctx.service._trackedContexts.push(ctx);\n\t\t} else {\n\t\t// Remote request\n\t\t\tctx.broker._trackedContexts.push(ctx);\n\t\t}\n\t}\n\n\tfunction removeContext(ctx) {\n\t\tif (ctx.service) {\n\t\t\tconst idx = ctx.service._trackedContexts.indexOf(ctx);\n\t\t\tif (idx !== -1)\n\t\t\t\tctx.service._trackedContexts.splice(idx, 1);\n\t\t} else {\n\t\t\tconst idx = ctx.broker._trackedContexts.indexOf(ctx);\n\t\t\tif (idx !== -1)\n\t\t\t\tctx.broker._trackedContexts.splice(idx, 1);\n\t\t}\n\t}\n\n\tfunction wrapTrackerMiddleware(handler) {\n\t\tif (this.options.tracking && this.options.tracking.enabled) {\n\n\t\t\treturn function ContextTrackerMiddleware(ctx) {\n\n\t\t\t\tconst tracked = ctx.options.tracking != null ? ctx.options.tracking : this.options.tracking.enabled;\n\n\t\t\t\t// If no need to track\n\t\t\t\tif (!tracked)\n\t\t\t\t\treturn handler(ctx);\n\n\t\t\t\t// Track the context\n\t\t\t\taddContext(ctx);\n\n\t\t\t\t// Call the handler\n\t\t\t\tlet p = handler(ctx);\n\n\t\t\t\tp = p.then(res => {\n\t\t\t\t\tremoveContext(ctx);\n\t\t\t\t\treturn res;\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tremoveContext(ctx);\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\n\t\t\t\treturn p;\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\tfunction waitingForActiveContexts(list, logger, time, service) {\n\t\tif (!list || list.length === 0)\n\t\t\treturn broker.Promise.resolve();\n\n\t\treturn new broker.Promise((resolve) => {\n\t\t\tlet timedOut = false;\n\t\t\tconst timeout = setTimeout(() => {\n\t\t\t\ttimedOut = true;\n\t\t\t\tlogger.error(new GracefulStopTimeoutError({ service }));\n\t\t\t\tlist.length = 0; // Clear pointers\n\t\t\t\tresolve();\n\t\t\t}, time);\n\n\t\t\tlet first = true;\n\t\t\tconst checkForContexts = () => {\n\t\t\t\tif (list.length === 0) {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\tresolve();\n\t\t\t\t} else {\n\t\t\t\t\tif (first) {\n\t\t\t\t\t\tlogger.warn(`Waiting for ${list.length} running context(s)...`);\n\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!timedOut)\n\t\t\t\t\t\tsetTimeout(checkForContexts, 100);\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetImmediate(checkForContexts);\n\t\t});\n\t}\n\n\treturn {\n\t\tname: \"ContextTracker\",\n\n\t\tlocalAction: wrapTrackerMiddleware,\n\t\tremoteAction: wrapTrackerMiddleware,\n\n\t\tlocalEvent: wrapTrackerMiddleware,\n\n\t\t// After the broker created\n\t\tcreated(broker) {\n\t\t\tbroker._trackedContexts = [];\n\t\t},\n\n\t\t// Before a local service started\n\t\tserviceStarting(service) {\n\t\t\tservice._trackedContexts = [];\n\t\t},\n\n\t\t// Before a local service stopping\n\t\tserviceStopping(service) {\n\t\t\treturn waitingForActiveContexts(service._trackedContexts, service.logger, service.settings.$shutdownTimeout || service.broker.options.tracking.shutdownTimeout, service);\n\t\t},\n\n\t\t// Before broker stopping\n\t\tstopping(broker) {\n\t\t\treturn waitingForActiveContexts(broker._trackedContexts, broker.logger, broker.options.tracking.shutdownTimeout);\n\t\t},\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst C \t\t\t= require(\"../constants\");\nconst { METRIC }\t= require(\"../metrics\");\n\nmodule.exports = function circuitBreakerMiddleware(broker) {\n\n\tlet windowTimer;\n\tconst store = new Map();\n\tlet logger;\n\n\t/**\n\t * Create timer to clear endpoint store\n\t *\n\t * @param {Number} windowTime\n\t */\n\tfunction createWindowTimer(windowTime) {\n\t\tif (!windowTimer) {\n\t\t\twindowTimer = setInterval(() => resetStore(), (windowTime || 60) * 1000);\n\t\t\twindowTimer.unref();\n\t\t}\n\t}\n\n\t/**\n\t * Clear endpoint state store\n\t */\n\tfunction resetStore() {\n\t\tif (!logger) return;\n\n\t\tlogger.debug(\"Reset circuit-breaker endpoint states...\");\n\t\tstore.forEach((item, key) => {\n\t\t\tif (item.count == 0) {\n\t\t\t\tlogger.debug(`Remove '${key}' endpoint state because it is not used`);\n\t\t\t\tstore.delete(key);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlogger.debug(`Clean '${key}' endpoint state.`);\n\t\t\titem.count = 0;\n\t\t\titem.failures = 0;\n\t\t});\n\t}\n\n\t/**\n\t * Get Endpoint state from store. If not exists, create it.\n\t *\n\t * @param {Endpoint} ep\n\t * @param {Service} service\n\t * @param {Object} opts\n\t * @returns {Object}\n\t */\n\tfunction getEpState(ep, service, opts) {\n\t\tlet item = store.get(ep.name);\n\t\tif (!item) {\n\t\t\titem = {\n\t\t\t\tep,\n\t\t\t\tservice,\n\t\t\t\topts,\n\t\t\t\tcount: 0,\n\t\t\t\tfailures: 0,\n\t\t\t\tstate: C.CIRCUIT_CLOSE,\n\t\t\t\tcbTimer: null\n\t\t\t};\n\t\t\tstore.set(ep.name, item);\n\t\t}\n\t\treturn item;\n\t}\n\n\t/**\n\t * Increment failure counter\n\t *\n\t * @param {Object} item\n\t * @param {Error} err\n\t * @param {Context} ctx\n\t */\n\tfunction failure(item, err, ctx) {\n\t\titem.count++;\n\t\titem.failures++;\n\n\t\tcheckThreshold(item, ctx);\n\t}\n\n\t/**\n\t * Increment request counter and switch CB to CLOSE if it is on HALF_OPEN_WAIT.\n\t *\n\t * @param {Object} item\n\t * @param {Context} ctx\n\t */\n\tfunction success(item, ctx) {\n\t\titem.count++;\n\n\t\tif (item.state === C.CIRCUIT_HALF_OPEN_WAIT)\n\t\t\tcircuitClose(item, ctx);\n\t\telse\n\t\t\tcheckThreshold(item, ctx);\n\t}\n\n\t/**\n\t * Check circuit-breaker failure threshold of Endpoint\n\t *\n\t * @param {Object} item\n\t * @param {Context} ctx\n\t */\n\tfunction checkThreshold(item, ctx) {\n\t\tif (item.count >= item.opts.minRequestCount) {\n\t\t\tconst rate = item.failures / item.count;\n\t\t\tif (rate >= item.opts.threshold)\n\t\t\t\ttrip(item, ctx);\n\t\t}\n\t}\n\n\t/**\n\t * Trip the circuit-breaker, change the status to open\n\t *\n\t * @param {Object} item\n\t * @param {Context} ctx\n\t */\n\tfunction trip(item, ctx) {\n\t\tif (item.state == C.CIRCUIT_OPEN) return;\n\n\t\titem.state = C.CIRCUIT_OPEN;\n\t\titem.ep.state = false;\n\n\t\tif (item.cbTimer) {\n\t\t\tclearTimeout(item.cbTimer);\n\t\t\titem.cbTimer = null;\n\t\t}\n\n\t\titem.cbTimer = setTimeout(() => halfOpen(item, ctx), item.opts.halfOpenTime);\n\t\titem.cbTimer.unref();\n\n\t\tconst action = item.ep.action;\n\t\tconst service = item.service.fullName;\n\n\t\tconst rate = item.count > 0 ? item.failures / item.count : 0;\n\t\tlogger.debug(`Circuit breaker has been opened on '${item.ep.name}' endpoint.`, { nodeID: item.ep.id, service, action: action.name, failures: item.failures, count: item.count, rate });\n\t\tbroker.broadcast(\"$circuit-breaker.opened\", { nodeID: item.ep.id, service, action: action.name, failures: item.failures, count: item.count, rate });\n\n\t\tbroker.metrics.set(METRIC.MOLECULER_CIRCUIT_BREAKER_OPENED_ACTIVE, 1, { affectedNodeID: item.ep.id, service, action: action.name });\n\t\tbroker.metrics.increment(METRIC.MOLECULER_CIRCUIT_BREAKER_OPENED_TOTAL, { affectedNodeID: item.ep.id, service, action: action.name });\n\t}\n\n\t/**\n\t * Change circuit-breaker status to half-open\n\t *\n\t * @param {Object} item\n\t * @param {Context} ctx\n\t */\n\tfunction halfOpen(item) {\n\t\titem.state = C.CIRCUIT_HALF_OPEN;\n\t\titem.ep.state = true;\n\n\t\tconst action = item.ep.action;\n\t\tconst service = item.service.fullName;\n\n\t\tlogger.debug(`Circuit breaker has been half-opened on '${item.ep.name}' endpoint.`, { nodeID: item.ep.id, service, action: action.name });\n\n\t\tbroker.broadcast(\"$circuit-breaker.half-opened\", { nodeID: item.ep.id, service, action: action.name });\n\n\t\tbroker.metrics.set(METRIC.MOLECULER_CIRCUIT_BREAKER_OPENED_ACTIVE, 0, { affectedNodeID: item.ep.id, service, action: action.name });\n\t\tbroker.metrics.set(METRIC.MOLECULER_CIRCUIT_BREAKER_HALF_OPENED_ACTIVE, 1, { affectedNodeID: item.ep.id, service, action: action.name });\n\n\t\tif (item.cbTimer) {\n\t\t\tclearTimeout(item.cbTimer);\n\t\t\titem.cbTimer = null;\n\t\t}\n\t}\n\n\t/**\n\t * Change circuit-breaker status to half-open waiting. First request is invoked after half-open.\n\t *\n\t * @param {Object} item\n\t * @param {Context} ctx\n\t*/\n\tfunction halfOpenWait(item, ctx) {\n\t\titem.state = C.CIRCUIT_HALF_OPEN_WAIT;\n\t\titem.ep.state = false;\n\n\t\t// Anti-stick protection\n\t\titem.cbTimer = setTimeout(() => halfOpen(item, ctx), item.opts.halfOpenTime);\n\t\titem.cbTimer.unref();\n\t}\n\n\t/**\n\t * Change circuit-breaker status to close\n\t *\n\t * @param {Object} item\n\t * @param {Context} ctx\n\t */\n\tfunction circuitClose(item) {\n\t\titem.state = C.CIRCUIT_CLOSE;\n\t\titem.ep.state = true;\n\t\titem.failures = 0;\n\t\titem.count = 0;\n\n\t\tconst action = item.ep.action;\n\t\tconst service = item.service.fullName;\n\n\t\tlogger.debug(`Circuit breaker has been closed on '${item.ep.name}' endpoint.`, { nodeID: item.ep.id, service, action: action.name });\n\n\t\tbroker.broadcast(\"$circuit-breaker.closed\", { nodeID: item.ep.id, service, action: action.name });\n\n\t\tbroker.metrics.set(METRIC.MOLECULER_CIRCUIT_BREAKER_OPENED_ACTIVE, 0, { affectedNodeID: item.ep.id, service, action: action.name });\n\t\tbroker.metrics.set(METRIC.MOLECULER_CIRCUIT_BREAKER_HALF_OPENED_ACTIVE, 0, { affectedNodeID: item.ep.id, service, action: action.name });\n\n\t\tif (item.cbTimer) {\n\t\t\tclearTimeout(item.cbTimer);\n\t\t\titem.cbTimer = null;\n\t\t}\n\t}\n\n\t/**\n\t * Middleware wrapper function\n\t *\n\t * @param {Function} handler\n\t * @param {Action} action\n\t * @returns {Function}\n\t */\n\tfunction wrapCBMiddleware(handler, action) {\n\t\tconst service = action.service;\n\t\t// Merge action option and broker options\n\t\tconst opts = Object.assign({}, this.options.circuitBreaker || {}, action.circuitBreaker || {});\n\t\tif (opts.enabled) {\n\t\t\treturn function circuitBreakerMiddleware(ctx) {\n\t\t\t\t// Get endpoint state item\n\t\t\t\tconst ep = ctx.endpoint;\n\t\t\t\tconst item = getEpState(ep, service, opts);\n\n\t\t\t\t// Handle half-open state in circuit breaker\n\t\t\t\tif (item.state == C.CIRCUIT_HALF_OPEN) {\n\t\t\t\t\thalfOpenWait(item, ctx);\n\t\t\t\t}\n\n\t\t\t\t// Call the handler\n\t\t\t\treturn handler(ctx).then(res => {\n\t\t\t\t\tconst item = getEpState(ep, service, opts);\n\t\t\t\t\tsuccess(item, ctx);\n\n\t\t\t\t\treturn res;\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tif (opts.check && opts.check(err)) {\n\t\t\t\t\t\t// Failure if error is created locally (not came from a 3rd node error)\n\t\t\t\t\t\tif (item && (!err.nodeID || err.nodeID == ctx.nodeID)) {\n\t\t\t\t\t\t\tconst item = getEpState(ep, service, opts);\n\t\t\t\t\t\t\tfailure(item, err, ctx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.Promise.reject(err);\n\t\t\t\t});\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\n\treturn {\n\t\tname: \"CircuitBreaker\",\n\n\t\tcreated(broker) {\n\t\t\tlogger = broker.getLogger(\"circuit-breaker\");\n\n\t\t\t// Expose the internal state store.\n\t\t\tbroker.CircuitBreakerStore = store;\n\n\t\t\tconst opts = broker.options.circuitBreaker;\n\t\t\tif (opts.enabled) {\n\t\t\t\tcreateWindowTimer(opts.windowTime);\n\n\t\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_CIRCUIT_BREAKER_OPENED_ACTIVE, type: METRIC.TYPE_GAUGE, labelNames: [\"affectedNodeID\", \"service\", \"action\"], description: \"Number of active opened circuit-breakers\" });\n\t\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_CIRCUIT_BREAKER_OPENED_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"affectedNodeID\", \"service\", \"action\"], description: \"Number of opened circuit-breakers\" });\n\t\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_CIRCUIT_BREAKER_HALF_OPENED_ACTIVE, type: METRIC.TYPE_GAUGE, labelNames: [\"affectedNodeID\", \"service\", \"action\"], description: \"Number of active half-opened circuit-breakers\" });\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tlocalAction: wrapCBMiddleware,\n\t\tremoteAction: wrapCBMiddleware,\n\n\t\tstopped() {\n\t\t\tif (windowTimer) {\n\t\t\t\tclearInterval(windowTimer);\n\t\t\t}\n\n\t\t\tdelete broker.CircuitBreakerStore;\n\t\t}\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { RequestTimeoutError } = require(\"../errors\");\nconst { METRIC }\t= require(\"../metrics\");\n\nmodule.exports = function(broker) {\n\n\tfunction wrapTimeoutMiddleware(handler, action) {\n\t\tconst actionTimeout = action.timeout;\n\t\tconst actionName = action.name;\n\t\tconst service = action.service ? action.service.fullName : null;\n\n\t\treturn function timeoutMiddleware(ctx) {\n\n\t\t\t// Load opts with default values\n\t\t\tif (ctx.options.timeout == null) {\n\t\t\t\tif (actionTimeout != null)\n\t\t\t\t\tctx.options.timeout = actionTimeout;\n\t\t\t\telse\n\t\t\t\t\tctx.options.timeout = broker.options.requestTimeout;\n\t\t\t}\n\n\t\t\tif (ctx.options.timeout > 0 && !ctx.startHrTime) {\n\t\t\t// For distributed timeout calculation need to be set\n\t\t\t\tctx.startHrTime = process.hrtime();\n\t\t\t}\n\n\t\t\t// Call the handler\n\t\t\tconst p = handler(ctx);\n\t\t\tif (ctx.options.timeout > 0 && p.timeout) {\n\t\t\t\treturn p.timeout(ctx.options.timeout)\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tif (err instanceof broker.Promise.TimeoutError) {\n\t\t\t\t\t\t\tconst nodeID = ctx.nodeID;\n\t\t\t\t\t\t\tthis.logger.warn(`Request '${actionName}' is timed out.`, { requestID: ctx.requestID, nodeID, timeout: ctx.options.timeout });\n\t\t\t\t\t\t\terr = new RequestTimeoutError({ action: actionName, nodeID });\n\n\t\t\t\t\t\t\tbroker.metrics.increment(METRIC.MOLECULER_REQUEST_TIMEOUT_TOTAL, { service, action: actionName });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn p;\n\n\t\t}.bind(this);\n\t}\n\n\treturn {\n\t\tname: \"Timeout\",\n\n\t\tcreated(broker) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_REQUEST_TIMEOUT_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"service\", \"action\"], description: \"Number of timed out requests\", rate: true });\n\t\t\t}\n\t\t},\n\n\t\tlocalAction: wrapTimeoutMiddleware,\n\t\tremoteAction: wrapTimeoutMiddleware\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { METRIC }\t= require(\"../metrics\");\n\nmodule.exports = function RetryMiddleware(broker) {\n\n\tfunction wrapRetryMiddleware(handler, action) {\n\t\tconst actionName = action.name;\n\t\tconst service = action.service ? action.service.fullName : null;\n\t\t// Merge action option and broker options\n\t\tconst opts = Object.assign({}, this.options.retryPolicy, action.retryPolicy || {});\n\t\tif (opts.enabled) {\n\t\t\treturn function retryMiddleware(ctx) {\n\t\t\t\tconst attempts = typeof ctx.options.retries === \"number\" ? ctx.options.retries : opts.retries;\n\t\t\t\tif (ctx._retryAttempts == null)\n\t\t\t\t\tctx._retryAttempts = 0;\n\n\t\t\t\t// Call the handler\n\t\t\t\treturn handler(ctx).catch(err => {\n\n\t\t\t\t\t// Skip retry if it is a remote call. The retry logic will run on the caller node\n\t\t\t\t\t// because the Retry middleware wrap the `remoteAction` hook, as well.\n\t\t\t\t\tif (ctx.nodeID != broker.nodeID && ctx.endpoint.local)\n\t\t\t\t\t\treturn Promise.reject(err);\n\n\t\t\t\t\t// Check the error's `retryable` property.\n\t\t\t\t\tif (opts.check(err)) {\n\t\t\t\t\t\tbroker.metrics.increment(METRIC.MOLECULER_REQUEST_RETRY_ATTEMPTS_TOTAL, { service, action: action.name });\n\n\t\t\t\t\t\tif (ctx._retryAttempts < attempts) {\n\t\t\t\t\t\t\t// Retry call\n\t\t\t\t\t\t\tctx._retryAttempts++;\n\n\t\t\t\t\t\t\t// Correct tracing\n\t\t\t\t\t\t\tif (ctx.span) {\n\t\t\t\t\t\t\t\tctx.span.setError(err);\n\t\t\t\t\t\t\t\tctx.span.addTags({ retryAttempts: ctx._retryAttempts });\n\t\t\t\t\t\t\t\tctx.finishSpan(ctx.span);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Calculate next delay\n\t\t\t\t\t\t\tconst delay = Math.min(opts.delay * Math.pow(opts.factor, ctx._retryAttempts - 1), opts.maxDelay);\n\n\t\t\t\t\t\t\tbroker.logger.warn(`Retry to call '${actionName}' action after ${delay} ms...`, { requestID: ctx.requestID, attempts: ctx._retryAttempts });\n\n\t\t\t\t\t\t\t// Wait & recall\n\t\t\t\t\t\t\treturn broker.Promise.delay(delay)\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\tconst newCtx = ctx.copy();\n\t\t\t\t\t\t\t\t\tnewCtx._retryAttempts = ctx._retryAttempts;\n\n\t\t\t\t\t\t\t\t\tif (action.visibility == \"private\")\n\t\t\t\t\t\t\t\t\t\treturn ctx.service.actions[action.rawName](ctx.params, { ctx: newCtx });\n\n\t\t\t\t\t\t\t\t\treturn broker.call(actionName, ctx.params, { ctx: newCtx });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Throw error\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\treturn {\n\t\tname: \"Retry\",\n\n\t\tcreated() {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_REQUEST_RETRY_ATTEMPTS_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"service\", \"action\"], description: \"Number of retries\", rate: true });\n\t\t\t}\n\t\t},\n\n\t\tlocalAction: wrapRetryMiddleware,\n\t\tremoteAction: wrapRetryMiddleware\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { MoleculerError } = require(\"../errors\");\nconst { METRIC }\t= require(\"../metrics\");\nconst { isFunction, isString } = require(\"../utils\");\n\nmodule.exports = function FallbackMiddleware(broker) {\n\n\tfunction handleContextFallback(ctx, err) {\n\t\tbroker.logger.warn(`The '${ctx.action.name}' request is failed. Return fallback response.`, { requestID: ctx.requestID, err: err.message });\n\t\tbroker.metrics.increment(METRIC.MOLECULER_REQUEST_FALLBACK_TOTAL, { action: ctx.action.name });\n\t\tctx.fallbackResult = true;\n\n\t\tif (isFunction(ctx.options.fallbackResponse))\n\t\t\treturn ctx.options.fallbackResponse(ctx, err);\n\t\telse\n\t\t\treturn Promise.resolve(ctx.options.fallbackResponse);\n\t}\n\n\tfunction wrapFallbackMiddleware(handler, action) {\n\t\treturn function fallbackMiddleware(ctx) {\n\t\t\t// Call the handler\n\t\t\treturn handler(ctx).catch(err => {\n\n\t\t\t\t// Handle fallback response from calling options\n\t\t\t\tif (ctx.options.fallbackResponse) {\n\t\t\t\t\treturn handleContextFallback(ctx, err);\n\t\t\t\t}\n\n\t\t\t\t// Handle fallback from Action Definition (only locally)\n\t\t\t\tif (action.fallback && action.service) {\n\t\t\t\t\tconst svc = action.service;\n\n\t\t\t\t\tconst fallback = isString(action.fallback) ? svc[action.fallback] : action.fallback;\n\t\t\t\t\tif (!isFunction(fallback)) {\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tthrow new MoleculerError(`The 'fallback' of '${action.name}' action is not a Function or valid method name: ${action.fallback}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tsvc.logger.warn(`The '${ctx.action.name}' request is failed. Return fallback response.`, { requestID: ctx.requestID, err: err.message });\n\t\t\t\t\tbroker.metrics.increment(METRIC.MOLECULER_REQUEST_FALLBACK_TOTAL, { service: svc.fullName, action: action.name });\n\t\t\t\t\tctx.fallbackResult = true;\n\n\t\t\t\t\treturn fallback.call(svc, ctx, err);\n\t\t\t\t}\n\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t\t}.bind(this);\n\t}\n\n\treturn {\n\t\tname: \"Fallback\",\n\n\t\tcreated(broker) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\tbroker.metrics.register({ name: METRIC.MOLECULER_REQUEST_FALLBACK_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"service\", \"action\"], description: \"Number of fallbacked requests\", rate: true });\n\t\t\t}\n\t\t},\n\n\t\tlocalAction: wrapFallbackMiddleware,\n\t\tremoteAction: wrapFallbackMiddleware,\n\n\t\t/*call(next) {\n\t\t\treturn (actionName, params, opts) => {\n\t\t\t\treturn next(actionName, params, opts).catch(err => {\n\t\t\t\t\tif (opts.fallbackResponse) {\n\t\t\t\t\t\treturn handleContextFallback(null, err);\n\t\t\t\t\t}\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\t\t\t};\n\t\t},*/\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { MoleculerError } = require(\"../errors\");\n\nfunction wrapActionErrorHandler(handler) {\n\treturn function errorHandlerMiddleware(ctx) {\n\t\t// Call the handler\n\t\treturn handler(ctx)\n\t\t\t.catch(err => {\n\t\t\t\tif (!(err instanceof Error))\n\t\t\t\t\terr = new MoleculerError(err, 500);\n\n\t\t\t\tif (ctx.nodeID !== this.nodeID) {\n\t\t\t\t\t// Remove pending request (the request didn't reach the target service)\n\t\t\t\t\tif (this.transit)\n\t\t\t\t\t\tthis.transit.removePendingRequest(ctx.id);\n\t\t\t\t}\n\n\t\t\t\tthis.logger.debug(`The '${ctx.action.name}' request is rejected.`, { requestID: ctx.requestID }, err);\n\n\t\t\t\tObject.defineProperty(err, \"ctx\", {\n\t\t\t\t\tvalue: ctx,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tenumerable: false\n\t\t\t\t});\n\n\t\t\t\t// Call global errorHandler\n\t\t\t\treturn ctx.broker.errorHandler(err, {\n\t\t\t\t\tctx,\n\t\t\t\t\tservice: ctx.service,\n\t\t\t\t\taction: ctx.action\n\t\t\t\t});\n\t\t\t});\n\n\t}.bind(this);\n}\n\nfunction wrapEventErrorHandler(handler) {\n\treturn function errorHandlerMiddleware(ctx) {\n\t\t// Call the handler\n\t\treturn handler(ctx)\n\t\t\t.catch(err => {\n\t\t\t\tif (!(err instanceof Error))\n\t\t\t\t\terr = new MoleculerError(err, 500);\n\n\t\t\t\tthis.logger.debug(`Error occured in the '${ctx.event.name}' event handler in the '${ctx.service.fullName}' service.`, { requestID: ctx.requestID }, err);\n\n\t\t\t\tObject.defineProperty(err, \"ctx\", {\n\t\t\t\t\tvalue: ctx,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tenumerable: false\n\t\t\t\t});\n\n\t\t\t\t// Call global errorHandler\n\t\t\t\treturn ctx.broker.errorHandler(err, {\n\t\t\t\t\tctx,\n\t\t\t\t\tservice: ctx.service,\n\t\t\t\t\tevent: ctx.event\n\t\t\t\t});\n\t\t\t}).catch(err => {\n\t\t\t\t// No global error Handler, or thrown further, so we handle it because it's an event handler.\n\t\t\t\tctx.broker.logger.error(err);\n\t\t\t});\n\n\t}.bind(this);\n}\n\nmodule.exports = function() {\n\treturn {\n\t\tname: \"ErrorHandler\",\n\n\t\tlocalAction: wrapActionErrorHandler,\n\t\tremoteAction: wrapActionErrorHandler,\n\n\t\tlocalEvent: wrapEventErrorHandler\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { METRIC }\t= require(\"../metrics\");\n\nmodule.exports = function MetricsMiddleware(broker) {\n\tconst metrics = broker.metrics;\n\n\tfunction getActionHandler(type, actionDef, next) {\n\t\tconst action = actionDef.name;\n\t\tconst service = actionDef.service ? actionDef.service.fullName : null;\n\n\t\treturn function metricsMiddleware(ctx) {\n\t\t\tconst caller = ctx.caller;\n\n\t\t\tmetrics.increment(METRIC.MOLECULER_REQUEST_TOTAL, { service, action, caller, type });\n\t\t\tmetrics.increment(METRIC.MOLECULER_REQUEST_ACTIVE, { service, action, caller, type });\n\t\t\tmetrics.increment(METRIC.MOLECULER_REQUEST_LEVELS, { service, action, caller, level: ctx.level });\n\t\t\tconst timeEnd = metrics.timer(METRIC.MOLECULER_REQUEST_TIME, { service, action, caller, type });\n\n\t\t\t// Call the next handler\n\t\t\treturn next(ctx).then(res => {\n\t\t\t\ttimeEnd();\n\t\t\t\tmetrics.decrement(METRIC.MOLECULER_REQUEST_ACTIVE, { service, action, caller, type });\n\t\t\t\treturn res;\n\t\t\t}).catch(err => {\n\t\t\t\ttimeEnd();\n\t\t\t\tmetrics.decrement(METRIC.MOLECULER_REQUEST_ACTIVE, { service, action, caller, type });\n\t\t\t\tmetrics.increment(METRIC.MOLECULER_REQUEST_ERROR_TOTAL, {\n\t\t\t\t\tservice,\n\t\t\t\t\taction,\n\t\t\t\t\tcaller,\n\t\t\t\t\ttype,\n\t\t\t\t\terrorName: err ? err.name : null,\n\t\t\t\t\terrorCode: err ? err.code : null,\n\t\t\t\t\terrorType: err ? err.type : null\n\t\t\t\t});\n\t\t\t\tthrow err;\n\t\t\t});\n\n\t\t};\n\t}\n\n\treturn {\n\t\tname: \"Metrics\",\n\n\t\tcreated() {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\t// --- MOLECULER REQUEST METRICS ---\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_REQUEST_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"service\", \"action\", \"type\", \"caller\"], unit: METRIC.UNIT_REQUEST, description: \"Number of requests\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_REQUEST_ACTIVE, type: METRIC.TYPE_GAUGE, labelNames: [\"service\", \"action\", \"type\", \"caller\"], unit: METRIC.UNIT_REQUEST, description: \"Number of active requests\" });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_REQUEST_ERROR_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"service\", \"action\", \"type\", \"caller\", \"errorName\", \"errorCode\", \"errorType\"], unit: METRIC.UNIT_REQUEST, description: \"Number of request errors\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_REQUEST_TIME, type: METRIC.TYPE_HISTOGRAM, labelNames: [\"service\", \"action\", \"type\", \"caller\"], quantiles: true, buckets: true, unit: METRIC.UNIT_MILLISECONDS, description: \"Request times in milliseconds\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_REQUEST_LEVELS, type: METRIC.TYPE_COUNTER, labelNames: [\"level\"], unit: METRIC.UNIT_REQUEST, description: \"Number of requests by context level\" });\n\t\t\t\t//metrics.register({ name: METRIC.MOLECULER_REQUEST_DIRECTCALL_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"action\"], unit: METRIC.UNIT_REQUEST, description: \"Number of direct calls\", rate: true });\n\t\t\t\t//metrics.register({ name: METRIC.MOLECULER_REQUEST_MULTICALL_TOTAL, type: METRIC.TYPE_COUNTER, unit: METRIC.UNIT_REQUEST, description: \"Number of multicalls\", rate: true });\n\n\t\t\t\t// --- MOLECULER EVENTS METRICS ---\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_EVENT_EMIT_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"event\", \"groups\"], unit: METRIC.UNIT_EVENT, description: \"Number of emitted events\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_EVENT_BROADCAST_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"event\", \"groups\"], unit: METRIC.UNIT_EVENT, description: \"Number of broadcast events\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_EVENT_BROADCASTLOCAL_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"event\", \"groups\"], unit: METRIC.UNIT_EVENT, description: \"Number of local broadcast events\", rate: true });\n\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_EVENT_RECEIVED_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"service\", \"group\", \"event\", \"caller\"], unit: METRIC.UNIT_EVENT, description: \"Number of received events\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_EVENT_RECEIVED_ACTIVE, type: METRIC.TYPE_GAUGE, labelNames: [\"service\", \"group\", \"event\", \"caller\"], unit: METRIC.UNIT_REQUEST, description: \"Number of active event executions\" });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_EVENT_RECEIVED_ERROR_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"service\", \"group\", \"event\", \"caller\", \"errorName\", \"errorCode\", \"errorType\"], unit: METRIC.UNIT_REQUEST, description: \"Number of event execution errors\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_EVENT_RECEIVED_TIME, type: METRIC.TYPE_HISTOGRAM, labelNames: [\"service\", \"group\", \"event\", \"caller\"], quantiles: true, buckets: true, unit: METRIC.UNIT_MILLISECONDS, description: \"Execution time of events in milliseconds\", rate: true });\n\n\t\t\t\t// --- MOLECULER TRANSIT METRICS ---\n\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSIT_PUBLISH_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"type\"], unit: METRIC.UNIT_PACKET, description: \"Number of published packets\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSIT_RECEIVE_TOTAL, type: METRIC.TYPE_COUNTER, labelNames: [\"type\"], unit: METRIC.UNIT_PACKET, description: \"Number of received packets\", rate: true });\n\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSIT_REQUESTS_ACTIVE, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_REQUEST, description: \"Number of active requests\" });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSIT_STREAMS_SEND_ACTIVE, type: METRIC.TYPE_GAUGE, unit: METRIC.UNIT_STREAM, description: \"Number of active sent streams\" });\n\t\t\t\t//metrics.register({ name: METRIC.MOLECULER_TRANSIT_STREAMS_RECEIVE_ACTIVE, type: METRIC.TYPE_GAUGE, description: \"\" });\n\n\t\t\t\t// --- MOLECULER TRANSPORTER METRICS ---\n\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSPORTER_PACKETS_SENT_TOTAL, type: METRIC.TYPE_COUNTER, unit: METRIC.UNIT_PACKET, description: \"Number of sent packets\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSPORTER_PACKETS_SENT_BYTES, type: METRIC.TYPE_COUNTER, unit: METRIC.UNIT_BYTE, description: \"Number of sent bytes\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSPORTER_PACKETS_RECEIVED_TOTAL, type: METRIC.TYPE_COUNTER, unit: METRIC.UNIT_PACKET, description: \"Number of received packets\", rate: true });\n\t\t\t\tmetrics.register({ name: METRIC.MOLECULER_TRANSPORTER_PACKETS_RECEIVED_BYTES, type: METRIC.TYPE_COUNTER, unit: METRIC.UNIT_BYTE, description: \"Number of received bytes\", rate: true });\n\t\t\t}\n\t\t},\n\n\t\tlocalAction(next, action) {\n\t\t\tif (broker.isMetricsEnabled())\n\t\t\t\treturn getActionHandler(\"local\", action, next);\n\n\t\t\treturn next;\n\t\t},\n\n\t\tremoteAction(next, action) {\n\t\t\tif (broker.isMetricsEnabled())\n\t\t\t\treturn getActionHandler(\"remote\", action, next);\n\n\t\t\treturn next;\n\t\t},\n\n\t\t// Wrap local event handlers\n\t\tlocalEvent(next, event) {\n\t\t\tconst service = event.service ? event.service.name : null;\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(ctx) {\n\t\t\t\t\tconst group = event.group || service;\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_EVENT_RECEIVED_TOTAL, { service, event: ctx.eventName, group, caller: ctx.caller });\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_EVENT_RECEIVED_ACTIVE, { service, event: ctx.eventName, group, caller: ctx.caller });\n\t\t\t\t\tconst timeEnd = metrics.timer(METRIC.MOLECULER_EVENT_RECEIVED_TIME, { service, event: ctx.eventName, group, caller: ctx.caller });\n\t\t\t\t\treturn next.apply(this, arguments).then(res => {\n\t\t\t\t\t\ttimeEnd();\n\t\t\t\t\t\tmetrics.decrement(METRIC.MOLECULER_EVENT_RECEIVED_ACTIVE, { service, event: ctx.eventName, group, caller: ctx.caller });\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\ttimeEnd();\n\t\t\t\t\t\tmetrics.decrement(METRIC.MOLECULER_EVENT_RECEIVED_ACTIVE, { service, event: ctx.eventName, group, caller: ctx.caller });\n\t\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_EVENT_RECEIVED_ERROR_TOTAL, {\n\t\t\t\t\t\t\tservice, event: ctx.eventName, group, caller: ctx.caller,\n\t\t\t\t\t\t\terrorName: err ? err.name : null,\n\t\t\t\t\t\t\terrorCode: err ? err.code : null,\n\t\t\t\t\t\t\terrorType: err ? err.type : null\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t});\n\t\t\t\t}.bind(this);\n\t\t\t}\n\n\t\t\treturn next;\n\t\t},\n\n\t\t// Wrap broker.emit method\n\t\temit(next) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(/* event, payload */) {\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_EVENT_EMIT_TOTAL, { event: arguments[0] });\n\t\t\t\t\treturn next.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn next;\n\t\t},\n\n\t\t// Wrap broker.broadcast method\n\t\tbroadcast(next) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(/* event, payload */) {\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_EVENT_BROADCAST_TOTAL, { event: arguments[0] });\n\t\t\t\t\treturn next.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn next;\n\t\t},\n\n\t\t// Wrap broker.broadcastLocal method\n\t\tbroadcastLocal(next) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(/* event, payload */) {\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_EVENT_BROADCASTLOCAL_TOTAL, { event: arguments[0] });\n\t\t\t\t\treturn next.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn next;\n\t\t},\n\n\t\t// When transit publishing a packet\n\t\ttransitPublish(next) {\n\t\t\tconst transit = this;\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(/* packet */) {\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSIT_PUBLISH_TOTAL, { type: arguments[0].type });\n\n\t\t\t\t\tconst p = next.apply(this, arguments);\n\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSIT_REQUESTS_ACTIVE, null, transit.pendingRequests.size);\n\t\t\t\t\t//metrics.increment(METRIC.MOLECULER_TRANSIT_STREAMS_RECEIVE_ACTIVE, null, transit.);\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSIT_STREAMS_SEND_ACTIVE, null, transit.pendingReqStreams.size + this.pendingResStreams.size);\n\n\t\t\t\t\treturn p;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn next;\n\t\t},\n\n\t\t// When transit receives & handles a packet\n\t\ttransitMessageHandler(next) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(/* cmd, packet */) {\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSIT_RECEIVE_TOTAL, { type: arguments[0] });\n\t\t\t\t\treturn next.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn next;\n\t\t},\n\n\t\t// When transporter send data\n\t\ttransporterSend(next) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(/* topic, data, meta */) {\n\t\t\t\t\tconst data = arguments[1];\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSPORTER_PACKETS_SENT_TOTAL);\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSPORTER_PACKETS_SENT_BYTES, null, data && data.length ? data.length : 0);\n\t\t\t\t\treturn next.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn next;\n\t\t},\n\n\t\t// When transporter received data\n\t\ttransporterReceive(next) {\n\t\t\tif (broker.isMetricsEnabled()) {\n\t\t\t\treturn function metricsMiddleware(/* cmd, data, s */) {\n\t\t\t\t\tconst data = arguments[1];\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSPORTER_PACKETS_RECEIVED_TOTAL);\n\t\t\t\t\tmetrics.increment(METRIC.MOLECULER_TRANSPORTER_PACKETS_RECEIVED_BYTES, null, data && data.length ? data.length : 0);\n\t\t\t\t\treturn next.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn next;\n\t\t}\n\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { isFunction, isPlainObject } = require(\"../utils\");\n\nmodule.exports = function TracingMiddleware(broker) {\n\n\tconst tracer = broker.tracer;\n\n\tfunction tracingLocalActionMiddleware(handler, action) {\n\t\tlet opts = action.tracing;\n\t\tif (opts === true || opts === false)\n\t\t\topts = { enabled: !!opts };\n\t\topts = _.defaultsDeep({}, opts, { enabled: true });\n\n\t\tif (opts.enabled) {\n\t\t\treturn function tracingLocalActionMiddleware(ctx) {\n\n\t\t\t\tctx.requestID = ctx.requestID || tracer.getCurrentTraceID();\n\t\t\t\tctx.parentID = ctx.parentID || tracer.getActiveSpanID();\n\n\t\t\t\tconst tags = {\n\t\t\t\t\tcallingLevel: ctx.level,\n\t\t\t\t\taction: ctx.action ? {\n\t\t\t\t\t\tname: ctx.action.name,\n\t\t\t\t\t\trawName: ctx.action.rawName\n\t\t\t\t\t} : null,\n\t\t\t\t\tremoteCall: ctx.nodeID !== ctx.broker.nodeID,\n\t\t\t\t\tcallerNodeID: ctx.nodeID,\n\t\t\t\t\tnodeID: ctx.broker.nodeID,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\ttimeout: ctx.options.timeout,\n\t\t\t\t\t\tretries: ctx.options.retries\n\t\t\t\t\t},\n\t\t\t\t\trequestID: ctx.requestID,\n\t\t\t\t};\n\t\t\t\tconst globalActionTags = tracer.opts.tags.action;\n\t\t\t\tlet actionTags;\n\t\t\t\t// local action tags take precedence\n\t\t\t\tif (isFunction(opts.tags)) {\n\t\t\t\t\tactionTags = opts.tags;\n\t\t\t\t} else if (!opts.tags && isFunction(globalActionTags)) {\n\t\t\t\t\tactionTags = globalActionTags;\n\t\t\t\t} else {\n\t\t\t\t\t// By default all params are captured. This can be overridden globally and locally\n\t\t\t\t\tactionTags = { ...{ params: true }, ...globalActionTags, ...opts.tags };\n\t\t\t\t}\n\n\t\t\t\tif (isFunction(actionTags)) {\n\t\t\t\t\tconst res = actionTags.call(ctx.service, ctx);\n\t\t\t\t\tif (res)\n\t\t\t\t\t\tObject.assign(tags, res);\n\n\t\t\t\t} else if (isPlainObject(actionTags)) {\n\t\t\t\t\tif (actionTags.params === true)\n\t\t\t\t\t\ttags.params = ctx.params != null && isPlainObject(ctx.params) ? Object.assign({}, ctx.params) : ctx.params;\n\t\t\t\t\telse if (Array.isArray(actionTags.params))\n\t\t\t\t\t\ttags.params = _.pick(ctx.params, actionTags.params);\n\n\t\t\t\t\tif (actionTags.meta === true)\n\t\t\t\t\t\ttags.meta = ctx.meta != null ? Object.assign({}, ctx.meta) : ctx.meta;\n\t\t\t\t\telse if (Array.isArray(actionTags.meta))\n\t\t\t\t\t\ttags.meta = _.pick(ctx.meta, actionTags.meta);\n\t\t\t\t}\n\n\t\t\t\tlet spanName = `action '${ctx.action.name}'`;\n\t\t\t\tif (opts.spanName) {\n\t\t\t\t\tswitch(typeof opts.spanName) {\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tspanName = opts.spanName;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tspanName = opts.spanName.call(ctx.service, ctx);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst span = ctx.startSpan(spanName, {\n\t\t\t\t\tid: ctx.id,\n\t\t\t\t\ttype: \"action\",\n\t\t\t\t\ttraceID: ctx.requestID,\n\t\t\t\t\tparentID: ctx.parentID,\n\t\t\t\t\tservice: ctx.service,\n\t\t\t\t\tsampled: ctx.tracing,\n\t\t\t\t\ttags\n\t\t\t\t});\n\n\t\t\t\tctx.tracing = span.sampled;\n\n\t\t\t\t// Call the handler\n\t\t\t\treturn handler(ctx).then(res => {\n\t\t\t\t\tconst tags = {\n\t\t\t\t\t\tfromCache: ctx.cachedResult\n\t\t\t\t\t};\n\n\t\t\t\t\tif (isFunction(actionTags)) {\n\t\t\t\t\t\tconst r = actionTags.call(ctx.service, ctx, res);\n\t\t\t\t\t\tif (r)\n\t\t\t\t\t\t\tObject.assign(tags, r);\n\n\t\t\t\t\t} else if (isPlainObject(actionTags)) {\n\t\t\t\t\t\tif (actionTags.response === true)\n\t\t\t\t\t\t\ttags.response = res != null && isPlainObject(res) ? Object.assign({}, res) : res;\n\t\t\t\t\t\telse if (Array.isArray(actionTags.response))\n\t\t\t\t\t\t\ttags.response = _.pick(res, actionTags.response);\n\t\t\t\t\t}\n\n\t\t\t\t\tspan.addTags(tags);\n\t\t\t\t\tctx.finishSpan(span);\n\n\t\t\t\t\t//ctx.duration = span.duration;\n\n\t\t\t\t\treturn res;\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tspan.setError(err);\n\t\t\t\t\tctx.finishSpan(span);\n\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\tfunction tracingLocalEventMiddleware(handler, event) {\n\t\tconst service = event.service;\n\n\t\tlet opts = event.tracing;\n\t\tif (opts === true || opts === false)\n\t\t\topts = { enabled: !!opts };\n\t\topts = _.defaultsDeep({}, opts, { enabled: true  });\n\n\t\tif (opts.enabled) {\n\t\t\treturn function tracingLocalEventMiddleware(ctx) {\n\n\t\t\t\tctx.requestID = ctx.requestID || tracer.getCurrentTraceID();\n\t\t\t\tctx.parentID = ctx.parentID || tracer.getActiveSpanID();\n\n\t\t\t\tconst tags = {\n\t\t\t\t\tevent: {\n\t\t\t\t\t\tname: event.name,\n\t\t\t\t\t\tgroup: event.group\n\t\t\t\t\t},\n\t\t\t\t\teventName: ctx.eventName,\n\t\t\t\t\teventType: ctx.eventType,\n\t\t\t\t\tcallerNodeID: ctx.nodeID,\n\t\t\t\t\tcallingLevel: ctx.level,\n\t\t\t\t\tremoteCall: ctx.nodeID !== broker.nodeID,\n\t\t\t\t\tnodeID: broker.nodeID,\n\t\t\t\t\trequestID: ctx.requestID,\n\t\t\t\t};\n\n\t\t\t\tconst globalEventTags = tracer.opts.tags.event;\n\t\t\t\tlet eventTags;\n\t\t\t\t// local event tags take precedence\n\t\t\t\tif (isFunction(opts.tags)) {\n\t\t\t\t\teventTags = opts.tags;\n\t\t\t\t} else if (!opts.tags && isFunction(globalEventTags)) {\n\t\t\t\t\teventTags = globalEventTags;\n\t\t\t\t} else {\n\t\t\t\t\t// By default all params are captured. This can be overridden globally and locally\n\t\t\t\t\teventTags = { ...{ params: true }, ...globalEventTags, ...opts.tags };\n\t\t\t\t}\n\n\t\t\t\tif (isFunction(eventTags)) {\n\t\t\t\t\tconst res = eventTags.call(service, ctx);\n\t\t\t\t\tif (res)\n\t\t\t\t\t\tObject.assign(tags, res);\n\n\t\t\t\t} else if (isPlainObject(eventTags)) {\n\t\t\t\t\tif (eventTags.params === true)\n\t\t\t\t\t\ttags.params = ctx.params != null && isPlainObject(ctx.params) ? Object.assign({}, ctx.params) : ctx.params;\n\t\t\t\t\telse if (Array.isArray(eventTags.params))\n\t\t\t\t\t\ttags.params = _.pick(ctx.params, eventTags.params);\n\n\t\t\t\t\tif (eventTags.meta === true)\n\t\t\t\t\t\ttags.meta = ctx.meta != null ? Object.assign({}, ctx.meta) : ctx.meta;\n\t\t\t\t\telse if (Array.isArray(eventTags.meta))\n\t\t\t\t\t\ttags.meta = _.pick(ctx.meta, eventTags.meta);\n\t\t\t\t}\n\n\t\t\t\tlet spanName = `event '${ctx.eventName}' in '${service.fullName}'`;\n\t\t\t\tif (opts.spanName) {\n\t\t\t\t\tswitch(typeof opts.spanName) {\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tspanName = opts.spanName;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tspanName = opts.spanName.call(service, ctx);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst span = ctx.startSpan(spanName, {\n\t\t\t\t\tid: ctx.id,\n\t\t\t\t\ttype: \"event\",\n\t\t\t\t\ttraceID: ctx.requestID,\n\t\t\t\t\tparentID: ctx.parentID,\n\t\t\t\t\tservice,\n\t\t\t\t\tsampled: ctx.tracing,\n\t\t\t\t\ttags\n\t\t\t\t});\n\n\t\t\t\tctx.tracing = span.sampled;\n\n\t\t\t\t// Call the handler\n\t\t\t\treturn handler.apply(service, arguments).then(() => {\n\t\t\t\t\tctx.finishSpan(span);\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tspan.setError(err);\n\t\t\t\t\tctx.finishSpan(span);\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\t/*\n\tfunction wrapRemoteTracingMiddleware(handler) {\n\n\t\tif (this.options.tracing) {\n\t\t\treturn function tracingMiddleware(ctx) {\n\t\t\t\tif (ctx.tracing == null) {\n\t\t\t\t\tctx.tracing = shouldTracing(ctx);\n\t\t\t\t}\n\t\t\t\treturn handler(ctx);\n\n\t\t\t}.bind(this);\n\t\t}\n\n\t\treturn handler;\n\t}*/\n\treturn {\n\t\tname: \"Tracing\",\n\n\t\tlocalAction: broker.isTracingEnabled() && tracer.opts.actions ? tracingLocalActionMiddleware : null,\n\t\tlocalEvent: broker.isTracingEnabled() && tracer.opts.events ? tracingLocalEventMiddleware : null,\n\t\t//remoteAction: wrapRemoteTracingMiddleware\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nmodule.exports = function debounceMiddleware(broker) {\n\n\tfunction wrapEventDebounceMiddleware(handler, event) {\n\t\tif (event.debounce > 0) {\n\t\t\tlet timer;\n\n\t\t\treturn function debounceMiddleware(ctx) {\n\t\t\t\tif (timer)\n\t\t\t\t\tclearTimeout(timer);\n\n\t\t\t\ttimer = setTimeout(() => {\n\t\t\t\t\ttimer = null;\n\t\t\t\t\treturn handler(ctx);\n\t\t\t\t}, event.debounce);\n\n\t\t\t\treturn broker.Promise.resolve();\n\t\t\t}.bind(this);\n\t\t}\n\t\treturn handler;\n\t}\n\n\treturn {\n\t\tname: \"Debounce\",\n\n\t\tlocalEvent: wrapEventDebounceMiddleware\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nmodule.exports = function throttleMiddleware(broker) {\n\n\tfunction wrapEventThrottleMiddleware(handler, event) {\n\t\tif (event.throttle > 0) {\n\t\t\tlet lastInvoke = 0;\n\n\t\t\treturn function throttleMiddleware(ctx) {\n\t\t\t\tconst now = Date.now();\n\t\t\t\tif (now - lastInvoke < event.throttle) {\n\t\t\t\t\treturn broker.Promise.resolve();\n\t\t\t\t}\n\t\t\t\tlastInvoke = now;\n\t\t\t\treturn handler(ctx);\n\t\t\t}.bind(this);\n\t\t}\n\t\treturn handler;\n\t}\n\n\treturn {\n\t\tname: \"Throttle\",\n\n\t\tlocalEvent: wrapEventThrottleMiddleware\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst crypto = require(\"crypto\");\n\n/**\n * This is a AES encryption middleware to protect the whole\n * Moleculer transporter communication with AES.\n *\n * @param {String|Buffer} password\n * @param {String?} algorithm\n * @param {String|Buffer?} iv\n */\nmodule.exports = function EncryptionMiddleware(password, algorithm = \"aes-256-cbc\", iv) {\n\tif (!password || password.length == 0) {\n\t\t/* istanbul ignore next */\n\t\tthrow new Error(\"Must be set a password for encryption\");\n\t}\n\n\treturn {\n\t\tname: \"Encryption\",\n\n\t\tcreated() {\n\t\t\t/* istanbul ignore next */\n\t\t\tthis.logger.info(`The transmission is ENCRYPTED by '${algorithm}'.`);\n\t\t},\n\n\t\ttransporterSend(next) {\n\t\t\treturn (topic, data, meta) => {\n\t\t\t\tconst encrypter = iv ? crypto.createCipheriv(algorithm, password, iv) : crypto.createCipher(algorithm, password);\n\t\t\t\tconst res = Buffer.concat([encrypter.update(data), encrypter.final()]);\n\t\t\t\treturn next(topic, res, meta);\n\t\t\t};\n\t\t},\n\n\t\ttransporterReceive(next) {\n\t\t\treturn (cmd, data, s) => {\n\t\t\t\tconst decrypter = iv ? crypto.createDecipheriv(algorithm, password, iv) : crypto.createDecipher(algorithm, password);\n\t\t\t\tconst res = Buffer.concat([decrypter.update(data), decrypter.final()]);\n\t\t\t\treturn next(cmd, res, s);\n\t\t\t};\n\t\t}\n\t};\n};\n","import * as fflate from 'fflate'\n\nexport const deflateRaw = (...args) => fflate.deflateSync(...args)\nexport const inflateRaw = (...args) => fflate.inflateSync(...args)\nexport const gzip = (...args) => fflate.gzip(...args)\nexport const gunzip = (...args) => fflate.gunzip(...args)\nexport const deflate = (...args) => fflate.zlibSync(...args)\nexport const inflate = (...args) => fflate.unzlibSync(...args)\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { defaultsDeep } = require(\"lodash\");\nconst { parseByteString } = require(\"../../utils\");\nconst zlib = require(\"zlib\");\nconst { promisify } = require(\"util\");\n\n/**\n * This is a transmission compression middleware. It supports\n * the `deflate`, `deflateRaw` & `gzip` compression methods.\n *\n * @param {String?} opts.method\n * @param {String|Number} opts.threshold\n */\nmodule.exports = function CompressionMiddleware(opts) {\n\topts = defaultsDeep(opts, { method: \"deflate\", threshold: \"1kb\" });\n\n\tlet compress, decompress;\n\tconst threshold = parseByteString(opts.threshold);\n\n\tswitch(opts.method) {\n\t\tcase \"deflate\":\n\t\t\tcompress = promisify(zlib.deflate);\n\t\t\tdecompress = promisify(zlib.inflate);\n\t\t\tbreak;\n\t\tcase \"deflateRaw\":\n\t\t\tcompress = promisify(zlib.deflateRaw);\n\t\t\tdecompress = promisify(zlib.inflateRaw);\n\t\t\tbreak;\n\t\tcase \"gzip\":\n\t\t\tcompress = promisify(zlib.gzip);\n\t\t\tdecompress = promisify(zlib.gunzip);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t/* istanbul ignore next */\n\t\t\tthrow new Error(\"Unknow compression method: \" + opts.method);\n\t}\n\n\tlet logger;\n\n\treturn {\n\t\tname: \"Compression\",\n\n\t\tcreated(broker) {\n\t\t\tlogger = broker.getLogger(\"TX-COMPRESS\");\n\t\t\t/* istanbul ignore next */\n\t\t\tlogger.info(`The transmission is COMPRESSED by '${opts.method}'. Threshold: ${ threshold != null ? opts.threshold : \"none\"}`);\n\t\t},\n\n\t\ttransporterSend(next) {\n\t\t\treturn (topic, data, meta) => {\n\t\t\t\tif (threshold != null && data.length < threshold) {\n\t\t\t\t\tlogger.debug(`Packet '${topic}' is small and not compressed. Size: ${data.length}`);\n\t\t\t\t\treturn next(topic, Buffer.concat([Buffer.from([0x00]), data]), meta);\n\t\t\t\t}\n\t\t\t\treturn compress(data)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tlogger.debug(`Packet '${topic}' compressed. Saving: ${Number((1 - (res.length / data.length)) * 100).toFixed(0)}%`, data.length, res.length);\n\t\t\t\t\t\treturn next(topic, Buffer.concat([Buffer.from([0x01]), res]), meta);\n\t\t\t\t\t});\n\t\t\t};\n\t\t},\n\n\t\ttransporterReceive(next) {\n\t\t\treturn (cmd, data, s) => {\n\t\t\t\tconst isCompressed = data.readInt8(0);\n\t\t\t\tif (isCompressed == 0) {\n\t\t\t\t\tlogger.debug(`Packet '${cmd}' is small and not compressed. Size: ${data.length}`);\n\t\t\t\t\treturn next(cmd, data.slice(1), s);\n\t\t\t\t} else {\n\t\t\t\t\treturn decompress(data.slice(1))\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tlogger.debug(`Packet '${cmd}' decompressed. Saving: ${Number((1 - (data.length / res.length)) * 100).toFixed(0)}%`, res.length, data.length);\n\t\t\t\t\t\t\treturn next(cmd, res, s);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst kleur = require(\"kleur\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst { makeDirs } = require(\"../../utils\");\n\nmodule.exports = function TransitLoggerMiddleware(opts) {\n\topts = _.defaultsDeep(opts, {\n\t\tlogger: null,\n\t\tlogLevel: \"info\",\n\t\tlogPacketData: false,\n\n\t\tfolder: null,\n\t\textension: \".json\",\n\n\t\tcolors: {\n\t\t\treceive: \"grey\",\n\t\t\tsend: \"grey\"\n\t\t},\n\n\t\tpacketFilter: [\"HEARTBEAT\"]\n\t});\n\n\tlet logger;\n\tlet nodeID;\n\n\tlet targetFolder;\n\n\tfunction saveToFile(filename, payload) {\n\t\tconst data = JSON.stringify(payload, payload instanceof Error ? Object.getOwnPropertyNames(payload) : null, 4);\n\t\tfs.writeFile(path.join(targetFolder, filename), data, () => { /* Silent error */ });\n\t}\n\n\tconst coloringSend = opts.colors && opts.colors.send ? opts.colors.send.split(\".\").reduce((a,b) => a[b] || a()[b], kleur) : s => s;\n\tconst coloringReceive = opts.colors && opts.colors.receive ? opts.colors.receive.split(\".\").reduce((a,b) => a[b] || a()[b], kleur) : s => s;\n\n\tlet logFn;\n\n\treturn {\n\t\tname: \"TransitLogger\",\n\t\tcreated(broker) {\n\t\t\tlogger = opts.logger || broker.getLogger(\"debug\");\n\t\t\tnodeID = broker.nodeID;\n\n\t\t\tif (opts.folder) {\n\t\t\t\ttargetFolder = path.join(opts.folder, nodeID);\n\t\t\t\tmakeDirs(targetFolder);\n\t\t\t}\n\n\t\t\tlogFn = opts.logLevel ? logger[opts.logLevel] : null;\n\t\t},\n\n\t\ttransitPublish(next) {\n\t\t\treturn packet => {\n\t\t\t\t// Packet filtering\n\t\t\t\tif (opts.packetFilter.includes(packet.type)) {\n\t\t\t\t\treturn next(packet);\n\t\t\t\t}\n\n\t\t\t\tconst payload = packet.payload;\n\n\t\t\t\t// Logging to logger\n\t\t\t\tif (logFn) {\n\t\t\t\t\tlogFn(coloringSend(`=> Send ${packet.type} packet to '${packet.target || \"<all nodes>\"}'`));\n\t\t\t\t\tif (opts.logPacketData) {\n\t\t\t\t\t\tlogFn(\"=>\", payload);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (targetFolder) {\n\t\t\t\t\tsaveToFile(`${Date.now()}-send-${packet.type}-to-${packet.target || \"all\"}${opts.extension}`, payload);\n\t\t\t\t}\n\n\t\t\t\treturn next(packet);\n\t\t\t};\n\t\t},\n\n\t\ttransitMessageHandler(next) {\n\t\t\treturn (cmd, packet) => {\n\t\t\t\t// Packet filtering\n\t\t\t\tif (opts.packetFilter.includes(cmd)) {\n\t\t\t\t\treturn next(cmd, packet);\n\t\t\t\t}\n\n\t\t\t\tconst payload = packet.payload;\n\n\t\t\t\tif (logFn) {\n\t\t\t\t\tlogFn(coloringReceive(`<= Receive ${cmd} packet from '${payload.sender}'`));\n\t\t\t\t\tif (opts.logPacketData) {\n\t\t\t\t\t\tlogFn(\"<=\", packet.payload);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (targetFolder) {\n\t\t\t\t\tsaveToFile(`${Date.now()}-receive-${cmd}-from-${payload.sender}${opts.extension}`, payload);\n\t\t\t\t}\n\n\t\t\t\treturn next(cmd, packet);\n\t\t\t};\n\t\t}\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst kleur = require(\"kleur\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst { makeDirs, match, isObject } = require(\"../../utils\");\n\nmodule.exports = function ActionLoggerMiddleware(opts) {\n\topts = _.defaultsDeep(opts, {\n\t\tlogger: null,\n\t\tlogLevel: \"info\",\n\t\tlogParams: false,\n\t\tlogResponse: false,\n\t\tlogMeta: false,\n\n\t\tfolder: null,\n\t\textension: \".json\",\n\n\t\tcolors: {\n\t\t\trequest: \"yellow\",\n\t\t\tresponse: \"cyan\",\n\t\t\terror: \"red\"\n\t\t},\n\t\twhitelist: [\"**\"]\n\t});\n\n\tlet logger;\n\tlet nodeID;\n\n\tlet targetFolder;\n\n\tfunction saveToFile(filename, payload) {\n\t\tconst data = JSON.stringify(payload, payload instanceof Error ? Object.getOwnPropertyNames(payload) : null, 4);\n\t\tfs.writeFile(path.join(targetFolder, filename), data, () => { /* Silent error */ });\n\t}\n\n\tfunction isWhiteListed(actionName) {\n\t\treturn !!opts.whitelist.find(pattern => match(actionName, pattern));\n\t}\n\n\tconst coloringRequest = opts.colors && opts.colors.request ? opts.colors.request.split(\".\").reduce((a,b) => a[b] || a()[b], kleur) : s => s;\n\tconst coloringResponse = opts.colors && opts.colors.response ? opts.colors.response.split(\".\").reduce((a,b) => a[b] || a()[b], kleur) : s => s;\n\tconst coloringError = opts.colors && opts.colors.error ? opts.colors.error.split(\".\").reduce((a,b) => a[b] || a()[b], kleur) : s => s;\n\n\tlet logFn;\n\n\treturn {\n\t\tname: \"ActionLogger\",\n\t\tcreated(broker) {\n\t\t\tlogger = opts.logger || broker.getLogger(\"debug\");\n\t\t\tnodeID = broker.nodeID;\n\n\t\t\tif (opts.folder) {\n\t\t\t\ttargetFolder = path.join(opts.folder, nodeID);\n\t\t\t\tmakeDirs(targetFolder);\n\t\t\t}\n\n\t\t\tlogFn = opts.logLevel ? logger[opts.logLevel] : null;\n\t\t},\n\n\t\tcall(next) {\n\t\t\treturn (actionName, params, callingOpts) => {\n\t\t\t\t// Whitelist filtering\n\t\t\t\tif (!isWhiteListed(isObject(actionName) ? actionName.action.name : actionName)) {\n\t\t\t\t\treturn next(actionName, params, callingOpts);\n\t\t\t\t}\n\n\t\t\t\t// Logging to logger\n\t\t\t\tif (logFn) {\n\t\t\t\t\tconst msg = coloringRequest(`Calling '${actionName}'` + (opts.logParams ? \" with params:\" : \".\"));\n\t\t\t\t\topts.logParams ? logFn(msg, params) : logFn(msg);\n\t\t\t\t\tif (opts.logMeta && callingOpts && callingOpts.meta) {\n\t\t\t\t\t\tlogFn(\"Meta:\", callingOpts.meta);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Logging to file\n\t\t\t\tif (targetFolder) {\n\t\t\t\t\tif (opts.logParams) {\n\t\t\t\t\t\tsaveToFile(`${Date.now()}-call-${actionName}-request${opts.extension}`, params);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opts.logMeta && callingOpts && callingOpts.meta) {\n\t\t\t\t\t\tsaveToFile(`${Date.now()}-call-${actionName}-meta${opts.extension}`, callingOpts.meta);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Call the original method\n\t\t\t\tconst p = next(actionName, params, callingOpts);\n\n\t\t\t\tconst p2 = p\n\t\t\t\t\t.then(response => {\n\n\t\t\t\t\t\t// Log response to logger\n\t\t\t\t\t\tif (logFn) {\n\t\t\t\t\t\t\tconst msg = coloringResponse(`Response for '${actionName}' is received` + (opts.logResponse ? \":\" : \".\"));\n\t\t\t\t\t\t\topts.logResponse ? logFn(msg, response) : logFn(msg);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Log response to file\n\t\t\t\t\t\tif (targetFolder && opts.logResponse)\n\t\t\t\t\t\t\tsaveToFile(`${Date.now()}-call-${actionName}-response${opts.extension}`, response);\n\n\t\t\t\t\t\treturn response;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t\t// Log error to logger\n\t\t\t\t\t\tif (logFn) {\n\t\t\t\t\t\t\tlogFn(coloringError(`Error for '${actionName}' is received:`), err);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Logger error to file\n\t\t\t\t\t\tif (targetFolder && opts.logResponse)\n\t\t\t\t\t\t\tsaveToFile(`${Date.now()}-call-${actionName}-error${opts.extension}`, err);\n\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t});\n\n\t\t\t\t// Context issue workaround: https://github.com/moleculerjs/moleculer/issues/413\n\t\t\t\tp2.ctx = p.ctx;\n\n\t\t\t\treturn p2;\n\t\t\t};\n\t\t}\n\t};\n};\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Middlewares = {\n\tActionHook: require(\"./action-hook\"),\n\tBulkhead: require(\"./bulkhead\"),\n\tContextTracker: require(\"./context-tracker\"),\n\tCircuitBreaker: require(\"./circuit-breaker\"),\n\tTimeout: require(\"./timeout\"),\n\tRetry: require(\"./retry\"),\n\tFallback: require(\"./fallback\"),\n\tErrorHandler: require(\"./error-handler\"),\n\tMetrics: require(\"./metrics\"),\n\tTracing: require(\"./tracing\"),\n\n\tDebounce: require(\"./debounce\"),\n\tThrottle: require(\"./throttle\"),\n\n\tHotReload: require(\"./hot-reload\"),\n\n\tTransmit: {\n\t\tEncryption: require(\"./transmit/encryption\"),\n\t\tCompression: require(\"./transmit/compression\")\n\t},\n\n\tDebugging: {\n\t\tTransitLogger: require(\"./debugging/transit-logger\"),\n\t\tActionLogger: require(\"./debugging/action-logger\"),\n\t}\n};\n\nmodule.exports = Middlewares;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ \t\t\t= require(\"lodash\");\nconst Middlewares \t= require(\"./middlewares\");\nconst { BrokerOptionsError } = require(\"./errors\");\nconst { isObject, isFunction, isString }\t= require(\"./utils\");\n\nclass MiddlewareHandler {\n\n\tconstructor(broker) {\n\t\tthis.broker = broker;\n\n\t\tthis.list = [];\n\n\t\tthis.registeredHooks = {};\n\t}\n\n\tadd(mw) {\n\t\tif (!mw) return;\n\n\t\tif (isString(mw)) {\n\t\t\tconst found = _.get(Middlewares, mw);\n\t\t\tif (!found)\n\t\t\t\tthrow new BrokerOptionsError(`Invalid built-in middleware type '${mw}'.`, { type: mw });\n\t\t\tmw = found;\n\t\t}\n\n\t\tif (isFunction(mw))\n\t\t\tmw = mw.call(this.broker, this.broker);\n\n\t\tif (!isObject(mw))\n\t\t\tthrow new BrokerOptionsError(`Invalid middleware type '${typeof mw}'. Accepted only Object of Function.`, { type: typeof mw });\n\n\t\tObject.keys(mw).forEach(key => {\n\t\t\tif (isFunction(mw[key])) {\n\t\t\t\tif (Array.isArray(this.registeredHooks[key]))\n\t\t\t\t\tthis.registeredHooks[key].push(mw[key]);\n\t\t\t\telse\n\t\t\t\t\tthis.registeredHooks[key] = [mw[key]];\n\t\t\t}\n\t\t});\n\n\t\tthis.list.push(mw);\n\t}\n\n\t/**\n\t * Wrap a handler\n\t *\n\t * @param {string} method\n\t * @param {Function} handler\n\t * @param {Object} def\n\t * @returns {Function}\n\t * @memberof MiddlewareHandler\n\t */\n\twrapHandler(method, handler, def) {\n\t\tif (this.registeredHooks[method] && this.registeredHooks[method].length) {\n\t\t\thandler = this.registeredHooks[method].reduce((handler, fn) => {\n\t\t\t\treturn fn.call(this.broker, handler, def);\n\t\t\t}, handler);\n\t\t}\n\n\t\treturn handler;\n\t}\n\n\t/**\n\t * Call a handler asynchronously in all middlewares\n\t *\n\t * @param {String} method\n\t * @param {Array<any>} args\n\t * @param {Object} opts\n\t * @returns {Promise}\n\t * @memberof MiddlewareHandler\n\t */\n\tcallHandlers(method, args, opts = {}) {\n\t\tif (this.registeredHooks[method] && this.registeredHooks[method].length) {\n\t\t\tconst list = opts.reverse ? Array.from(this.registeredHooks[method]).reverse() : this.registeredHooks[method];\n\t\t\treturn list.reduce((p, fn) => p.then(() => fn.apply(this.broker, args)), this.broker.Promise.resolve());\n\t\t}\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Call a handler synchronously in all middlewares\n\t *\n\t * @param {String} method\n\t * @param {Array<any>} args\n\t * @param {Object} opts\n\t * @returns {Array<any}\n\t * @memberof MiddlewareHandler\n\t */\n\tcallSyncHandlers(method, args, opts = {}) {\n\t\tif (this.registeredHooks[method] && this.registeredHooks[method].length) {\n\t\t\tconst list = opts.reverse ? Array.from(this.registeredHooks[method]).reverse() : this.registeredHooks[method];\n\t\t\treturn list.map(fn => fn.apply(this.broker, args));\n\t\t}\n\t\treturn;\n\t}\n\n\t/**\n\t * Get count of registered middlewares\n\t *\n\t * @returns {Number}\n\t * @memberof MiddlewareHandler\n\t */\n\tcount() {\n\t\treturn this.list.length;\n\t}\n\n\t/**\n\t * Wrap a method\n\t *\n\t * @param {string} method\n\t * @param {Function} handler\n\t * @param {any} bindTo\n\t * @param {Object} opts\n\t * @returns {Function}\n\t * @memberof MiddlewareHandler\n\t */\n\twrapMethod(method, handler, bindTo = this.broker, opts = {}) {\n\t\tif (this.registeredHooks[method] && this.registeredHooks[method].length) {\n\t\t\tconst list = opts.reverse ? Array.from(this.registeredHooks[method]).reverse() : this.registeredHooks[method];\n\t\t\thandler = list.reduce((next, fn) => fn.call(bindTo, next), handler.bind(bindTo));\n\t\t}\n\n\t\treturn handler;\n\t}\n\n}\n\nmodule.exports = MiddlewareHandler;\n\n/*\n{\n    // After broker is created\n    created(broker) {\n\t\treturn;\n    },\n\n    // Wrap local action handlers (legacy middleware handler)\n    localAction(next, action) {\n\t\treturn ctx => {\n\t\t\treturn next(ctx);\n\t\t};\n    },\n\n    // Wrap remote action handlers\n    remoteAction(next, action) {\n\t\treturn ctx => {\n\t\t\treturn next(ctx);\n\t\t};\n    },\n\n\t// Wrap local event handlers\n\tlocalEvent(next, event) {\n\t\treturn (payload, sender, event) => {\n\t\t\treturn next(payload, sender, event);\n\t\t};\n\t},\n\n    // Wrap local method handlers\n    localMethod(next, method) {\n\t\treturn () => {\n\t\t\treturn next(...arguments);\n\t\t};\n\t},\n\n\t// Wrap broker.createService method\n\tcreateService(next) {\n\t\treturn (schema, schemaMods) => {\n\t\t\treturn next(schema, schemaMods);\n\t\t};\n\t},\n\n\t// Wrap broker.registerLocalService method\n\tregisterLocalService(next) {\n\t\treturn (svc) => {\n\t\t\treturn next(svc);\n\t\t};\n\t},\n\n\t// Wrap broker.destroyService method\n\tdestroyService(next) {\n\t\treturn (svc) => {\n\t\t\treturn next(svc);\n\t\t};\n\t},\n\n\t// Wrap broker.call method\n\tcall(next) {\n\t\treturn (actionName, params, opts) => {\n\t\t\treturn next(actionName, params, opts);\n\t\t};\n\t},\n\n\t// Wrap broker.mcall method\n\tmcall(next) {\n\t\treturn (def) => {\n\t\t\treturn next(def);\n\t\t};\n\t},\n\n    // Wrap broker.emit method\n    emit(next) {\n\t\treturn (event, payload) => {\n\t\t\treturn next(event, payload);\n\t\t};\n    },\n\n    // Wrap broker.broadcast method\n    broadcast(next) {\n\t\treturn (event, payload) => {\n\t\t\treturn next(event, payload);\n\t\t};\n    },\n\n    // Wrap broker.broadcastLocal method\n    broadcastLocal(next) {\n\t\treturn (event, payload) => {\n\t\t\treturn next(event, payload);\n\t\t};\n    },\n\n\t// While a new local service creating (after mixins are mixed)\n\tserviceCreating(service, schema) {\n\t\treturn;\n\t},\n\n\t// After a new local service created\n\tserviceCreated(service) {\n\t\treturn;\n\t},\n\n\t// Before a local service started\n\tserviceStarting(service) {\n\t\treturn Promise.resolve();\n\t},\n\n\t// After a local service started\n\tserviceStarted(service) {\n\t\treturn Promise.resolve();\n\t},\n\n\t// Before a local service stopping\n\tserviceStopping(service) {\n\t\treturn Promise.resolve();\n\t},\n\n\t// After a local service stopped\n\tserviceStopped(service) {\n\t\treturn Promise.resolve();\n\t},\n\n    // Before broker starting\n    starting(broker) {\n\t\treturn Promise.resolve();\n    },\n\n    // After broker started\n    started(broker) {\n\t\treturn Promise.resolve();\n    },\n\n    // Before broker stopping\n    stopping(broker) {\n\t\treturn Promise.resolve();\n    },\n\n    // After broker stopped\n    stopped(broker) {\n\t\treturn Promise.resolve();\n    },\n\n\t// When transit publishing a packet\n\ttransitPublish(next) {\n\t\treturn (packet) => {\n\t\t\treturn next(packet);\n\t\t};\n\t},\n\n\t// When transit receives & handles a packet\n\ttransitMessageHandler(next) {\n\t\treturn (cmd, packet) => {\n\t\t\treturn next(cmd, packet);\n\t\t};\n\t},\n\n\t// When transporter send data\n\ttransporterSend(next) {\n\t\treturn (topic, data, meta) => {\n\t\t\treturn next(topic, data, meta);\n\t\t};\n\t},\n\n\t// When transporter received data\n\ttransporterReceive(next) {\n\t\treturn (cmd, data, s) => {\n\t\t\treturn next(cmd, data, s);\n\t\t};\n\t},\n\n\t// When transporter received data\n\tnewLogEntry(type, args, bindings) {\n\t\t// Do something\n\t}\n}\n\n*/\n","\"use strict\";\n\nconst _ = require(\"lodash\");\nconst { isObject } = require(\"../../utils\");\n\n/**\n * Abstract Trace Exporter\n *\n * @class BaseTraceExporter\n */\nclass BaseTraceExporter {\n\n\t/**\n\t * Creates an instance of BaseTraceExporter.\n\t * @param {Object?} opts\n\t * @memberof BaseTraceExporter\n\t */\n\tconstructor(opts) {\n\t\tthis.opts = opts || {};\n\t\tthis.Promise = Promise; // default promise before logger is initialized\n\t}\n\n\t/**\n\t * Initialize Trace Exporter.\n\t *\n\t * @param {Tracer} tracer\n\t * @memberof BaseTraceExporter\n\t */\n\tinit(tracer) {\n\t\tthis.tracer = tracer;\n\t\tthis.broker = tracer.broker;\n\t\tthis.Promise = this.broker.Promise;\n\t\tthis.logger = this.opts.logger || this.tracer.logger;\n\t}\n\n\t/**\n\t * Stop Trace exporter\n\t */\n\tstop() {\n\t\t// Not implemented\n\t}\n\n\t/**\n\t * Span is started.\n\t *\n\t * @param {Span} span\n\t * @memberof BaseTraceExporter\n\t */\n\tspanStarted(/*span*/) {\n\t\t// Not implemented\n\t}\n\n\t/**\n\t * Span is finished.\n\t *\n\t * @param {Span} span\n\t * @memberof BaseTraceExporter\n\t */\n\tspanFinished(/*span*/) {\n\t\t// Not implemented\n\t}\n\n\t/**\n\t * Flattening tags to one-level object.\n\t * E.g.\n\t *  **From:**\n\t * \t```js\n\t * \t{\n\t * \t\terror: {\n\t * \t\t\tname: \"MoleculerError\"\n\t * \t\t}\n\t * \t}\n\t *  ```\n\t *\n\t * \t**To:**\n\t * \t```js\n\t *  {\n\t * \t\t\"error.name\": \"MoleculerError\"\n\t *  }\n\t *  ```\n\t *\n\t * @param {Object} obj\n\t * @param {boolean} [convertToString=false]\n\t * @param {string} [path=\"\"]\n\t * @returns {Object}\n\t * @memberof BaseTraceExporter\n\t */\n\tflattenTags(obj, convertToString = false, path = \"\") {\n\t\tif (!obj) return null;\n\n\t\treturn Object.keys(obj).reduce((res, k) => {\n\t\t\tconst o = obj[k];\n\t\t\tconst pp = (path ? path + \".\" : \"\") + k;\n\n\t\t\tif (isObject(o))\n\t\t\t\tObject.assign(res, this.flattenTags(o, convertToString, pp));\n\t\t\telse if (o !== undefined) {\n\t\t\t\tres[pp] = convertToString ? String(o) : o;\n\t\t\t}\n\n\t\t\treturn res;\n\t\t}, {});\n\t}\n\n\t/**\n\t * Convert Error to POJO.\n\t *\n\t * @param {Error} err\n\t * @returns {Object}\n\t * @memberof BaseTraceExporter\n\t */\n\terrorToObject(err) {\n\t\tif (!err) return null;\n\n\t\treturn _.pick(err, this.tracer.opts.errorFields);\n\t}\n}\n\nmodule.exports = BaseTraceExporter;\n","\"use strict\";\n\nconst _ \t\t\t\t\t\t= require(\"lodash\");\nconst r \t\t\t\t\t\t= _.repeat;\nconst kleur \t\t\t\t\t= require(\"kleur\");\nconst { humanize, isFunction }  = require(\"../../utils\");\n\nconst BaseTraceExporter = require(\"./base\");\n\n/**\n * Console Trace Exporter only for debugging\n *\n * @class ConsoleTraceExporter\n */\nclass ConsoleTraceExporter extends BaseTraceExporter {\n\n\t/**\n\t * Creates an instance of ConsoleTraceExporter.\n\t * @param {Object?} opts\n\t * @memberof ConsoleTraceExporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\tlogger: null,\n\t\t\tcolors: true,\n\t\t\twidth: 100,\n\t\t\tgaugeWidth: 40\n\t\t});\n\n\t\tif (!this.opts.colors)\n\t\t\tkleur.enabled = false;\n\n\t\tthis.spans = {};\n\t}\n\n\t/**\n\t * Initialize Trace Exporter.\n\t *\n\t * @param {Tracer} tracer\n\t * @memberof ConsoleTraceExporter\n\t */\n\tinit(tracer) {\n\t\tsuper.init(tracer);\n\t}\n\n\t/**\n\t * Stop Trace exporter\n\t */\n\tstop() {\n\t\tthis.spans = {};\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Span is started.\n\t *\n\t * @param {Span} span\n\t * @memberof ConsoleTraceExporter\n\t */\n\tspanStarted(span) {\n\t\tthis.spans[span.id] = {\n\t\t\tspan,\n\t\t\tchildren: []\n\t\t};\n\n\t\tif (span.parentID) {\n\t\t\tconst parentItem = this.spans[span.parentID];\n\t\t\tif (parentItem)\n\t\t\t\tparentItem.children.push(span.id);\n\t\t}\n\t}\n\n\t/**\n\t * Span is finished.\n\t *\n\t * @param {Span} span\n\t * @memberof ConsoleTraceExporter\n\t */\n\tspanFinished(span) {\n\t\t//this.log(span);\n\t\tif (!this.spans[span.parentID]) {\n\t\t\tthis.printRequest(span.id);\n\n\t\t\t// remove old printed requests\n\t\t\tthis.removeSpanWithChildren(span.id);\n\t\t}\n\t}\n\n\t/**\n\t * Remove a finished span with children.\n\t *\n\t * @param {String} spanID\n\t * @memberof ConsoleTraceExporter\n\t */\n\tremoveSpanWithChildren(spanID) {\n\t\tconst span = this.spans[spanID];\n\t\tif (span) {\n\t\t\tif (span.children && span.children.length > 0) {\n\t\t\t\tspan.children.forEach(child => this.removeSpanWithChildren(child));\n\t\t\t}\n\t\t\tdelete this.spans[spanID];\n\t\t}\n\t}\n\n\tdrawTableTop() {\n\t\tthis.log(kleur.grey(\"┌\" + r(\"─\", this.opts.width - 2) + \"┐\"));\n\t}\n\n\tdrawHorizonalLine() {\n\t\tthis.log(kleur.grey(\"├\" + r(\"─\", this.opts.width - 2) + \"┤\"));\n\t}\n\n\tdrawLine(text) {\n\t\tthis.log(kleur.grey(\"│ \") + text + kleur.grey(\" │\"));\n\t}\n\n\tdrawTableBottom() {\n\t\tthis.log(kleur.grey(\"└\" + r(\"─\", this.opts.width - 2) + \"┘\"));\n\t}\n\n\tgetAlignedTexts(str, space) {\n\t\tconst len = str.length;\n\n\t\tlet left;\n\t\tif (len <= space)\n\t\t\tleft = str + r(\" \", space - len);\n\t\telse {\n\t\t\tleft = str.slice(0, Math.max(space - 3, 0));\n\t\t\tleft += r(\".\", Math.min(3, space));\n\t\t}\n\n\t\treturn left;\n\t}\n\n\tdrawGauge(gstart, gstop) {\n\t\tconst gw = this.opts.gaugeWidth;\n\t\tconst p1 = Math.floor(gw * gstart / 100);\n\t\tconst p2 = Math.max(Math.floor(gw * gstop / 100) - p1, 1);\n\t\tconst p3 = Math.max(gw - (p1 + p2), 0);\n\n\t\treturn [\n\t\t\tkleur.grey(\"[\"),\n\t\t\tkleur.grey(r(\".\", p1)),\n\t\t\tr(\"■\", p2),\n\t\t\tkleur.grey(r(\".\", p3)),\n\t\t\tkleur.grey(\"]\")\n\t\t].join(\"\");\n\t}\n\n\tgetCaption(span) {\n\t\tlet caption = span.name;\n\n\t\tif (span.tags.fromCache)\n\t\t\tcaption += \" *\";\n\t\tif (span.tags.remoteCall)\n\t\t\tcaption += \" »\";\n\t\tif (span.error)\n\t\t\tcaption += \" ×\";\n\n\t\treturn caption;\n\t}\n\n\tgetColor(span) {\n\t\tlet c = kleur.bold;\n\t\tif (span.tags.fromCache)\n\t\t\tc = c().yellow;\n\t\tif (span.tags.remoteCall)\n\t\t\tc = c().cyan;\n\t\tif (span.duration == null)\n\t\t\tc = c().grey;\n\t\tif (span.error)\n\t\t\tc = c().red;\n\n\t\treturn c;\n\t}\n\n\tgetTraceInfo(main) {\n\t\tlet depth = 0;\n\t\tlet total = 0;\n\t\tlet check = (item, level, parents) => {\n\t\t\titem.level = level;\n\t\t\titem.parents = parents || [];\n\t\t\ttotal++;\n\t\t\tif (level > depth)\n\t\t\t\tdepth = level;\n\n\t\t\tif (item.children.length > 0) {\n\t\t\t\titem.children.forEach((spanID, idx) => {\n\t\t\t\t\tconst span = this.spans[spanID];\n\t\t\t\t\tspan.first = idx == 0;\n\t\t\t\t\tspan.last = idx == item.children.length - 1;\n\t\t\t\t\tcheck(span, item.level + 1, [].concat(item.parents, [item]));\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcheck(main, 1);\n\n\t\treturn { depth, total };\n\t}\n\n\tgetSpanIndent(spanItem) {\n\t\tif (spanItem.level > 1) {\n\t\t\tlet s = spanItem.parents.map((item, idx) => {\n\t\t\t\tif (idx > 0)\n\t\t\t\t\treturn item.last ? \"  \" : \"│ \";\n\n\t\t\t\treturn \"\";\n\t\t\t}).join(\"\");\n\n\t\t\ts += spanItem.last ? \"└─\" : \"├─\";\n\n\t\t\treturn s + (spanItem.children.length > 0 ? \"┬─\" : \"──\") + \" \";\n\t\t}\n\n\t\treturn \"\";\n\t}\n\n\t/**\n\t * Print a span row\n\t *\n\t * @param {Object} span\n\t * @param {Object} main\n\t */\n\tprintSpanTime(spanItem, mainItem, level) {\n\t\tconst span = spanItem.span;\n\t\tconst mainSpan = mainItem.span;\n\t\tconst margin = 2 * 2;\n\t\tconst w = (this.opts.width || 80) - margin;\n\t\tconst gw = this.opts.gaugeWidth || 40;\n\n\t\tconst time = span.duration == null ? \"?\" : humanize(span.duration);\n\t\tconst indent = this.getSpanIndent(spanItem);\n\t\tconst caption = this.getCaption(span);\n\t\tconst info = kleur.grey(indent) + this.getAlignedTexts(caption, w - gw - 3 - time.length - 1 - indent.length) + \" \" + time;\n\n\t\tconst startTime = span.startTime || mainSpan.startTime;\n\t\tconst finishTime = span.finishTime || mainSpan.finishTime;\n\n\t\tlet gstart = (startTime - mainSpan.startTime) / (mainSpan.finishTime - mainSpan.startTime) * 100;\n\t\tlet gstop = (finishTime - mainSpan.startTime) / (mainSpan.finishTime - mainSpan.startTime) * 100;\n\n\t\tif (Number.isNaN(gstart) && Number.isNaN(gstop)) {\n\t\t\tgstart = 0;\n\t\t\tgstop = 100;\n\t\t}\n\t\tif (gstop > 100)\n\t\t\tgstop = 100;\n\n\t\tconst c = this.getColor(span);\n\t\tthis.drawLine(c(info + \" \" + this.drawGauge(gstart, gstop)));\n\n\t\tif (spanItem.children.length > 0)\n\t\t\tspanItem.children.forEach((spanID, idx) =>\n\t\t\t\tthis.printSpanTime(this.spans[spanID], mainItem, level + 1, spanItem, {\n\t\t\t\t\tfirst: idx == 0,\n\t\t\t\t\tlast: idx == spanItem.children.length - 1\n\t\t\t\t})\n\t\t\t);\n\t}\n\n\t/**\n\t * Print request traces\n\t *\n\t * @param {String} id\n\t */\n\tprintRequest(id) {\n\t\tconst main = this.spans[id];\n\t\tif (!main) return ; // Async span\n\n\t\tconst margin = 2 * 2;\n\t\tconst w = this.opts.width - margin;\n\n\t\tthis.drawTableTop();\n\n\t\tconst { total, depth } = this.getTraceInfo(main);\n\n\t\tconst truncatedID = this.getAlignedTexts(id, w - \"ID: \".length - \"Depth: \".length - (\"\"+depth).length - \"Total: \".length - (\"\"+total).length - 2);\n\t\tconst line = kleur.grey(\"ID: \") + kleur.bold(truncatedID) + \" \" + kleur.grey(\"Depth: \") + kleur.bold(depth) + \" \" + kleur.grey(\"Total: \") + kleur.bold(total);\n\t\tthis.drawLine(line);\n\n\t\tthis.drawHorizonalLine();\n\n\t\tthis.printSpanTime(main, main, 1, null, {});\n\n\t\tthis.drawTableBottom();\n\t}\n\n\tlog(...args) {\n\t\tif (isFunction(this.opts.logger)) {\n\t\t\treturn this.opts.logger(...args);\n\t\t} else {\n\t\t\treturn this.logger.info(...args);\n\t\t}\n\t}\n}\n\nmodule.exports = ConsoleTraceExporter;\n","\"use strict\";\n\nconst _ \t\t\t\t\t= require(\"lodash\");\nconst BaseTraceExporter \t= require(\"./base\");\nconst { isFunction } \t\t= require(\"../../utils\");\n\n/**\n * Event Trace Exporter.\n *\n * @class EventTraceExporter\n */\nclass EventTraceExporter extends BaseTraceExporter {\n\n\t/**\n\t * Creates an instance of EventTraceExporter.\n\t * @param {Object?} opts\n\t * @memberof EventTraceExporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\t/** @type {String} Base URL for Zipkin server. */\n\t\t\teventName: \"$tracing.spans\",\n\n\t\t\tsendStartSpan: false,\n\t\t\tsendFinishSpan: true,\n\n\t\t\tbroadcast: false,\n\n\t\t\tgroups: null,\n\n\t\t\t/** @type {Number} Batch send time interval. */\n\t\t\tinterval: 5,\n\n\t\t\tspanConverter: null,\n\n\t\t\t/** @type {Object?} Default span tags */\n\t\t\tdefaultTags: null\n\t\t});\n\n\t\tthis.queue = [];\n\t}\n\n\t/**\n\t * Initialize Trace Exporter.\n\t *\n\t * @param {Tracer} tracer\n\t * @memberof EventTraceExporter\n\t */\n\tinit(tracer) {\n\t\tsuper.init(tracer);\n\n\t\tif (this.opts.interval > 0) {\n\t\t\tthis.timer = setInterval(() => this.flush(), this.opts.interval * 1000);\n\t\t\tthis.timer.unref();\n\t\t}\n\n\t\tthis.defaultTags = isFunction(this.opts.defaultTags) ? this.opts.defaultTags.call(this, tracer) : this.opts.defaultTags;\n\t}\n\n\t/**\n\t * Stop Trace exporter\n\t */\n\tstop() {\n\t\tif (this.timer) {\n\t\t\tclearInterval(this.timer);\n\t\t\tthis.timer = null;\n\t\t}\n\t\treturn this.Promise.resolve();\n\t}\n\n\t/**\n\t * Span is started.\n\t *\n\t * @param {Span} span\n\t * @memberof BaseTraceExporter\n\t */\n\tspanStarted(span) {\n\t\tif (this.opts.sendStartSpan) {\n\t\t\tthis.queue.push(span);\n\t\t\tif (!this.timer)\n\t\t\t\tthis.flush();\n\t\t}\n\t}\n\n\t/**\n\t * Span is finished.\n\t *\n\t * @param {Span} span\n\t * @memberof EventTraceExporter\n\t */\n\tspanFinished(span) {\n\t\tif (this.opts.sendFinishSpan) {\n\t\t\tthis.queue.push(span);\n\t\t\tif (!this.timer)\n\t\t\t\tthis.flush();\n\t\t}\n\t}\n\n\t/**\n\t * Flush tracing data to Datadog server\n\t *\n\t * @memberof EventTraceExporter\n\t */\n\tflush() {\n\t\tif (this.queue.length == 0) return;\n\n\t\tconst data = this.generateTracingData();\n\t\tthis.queue.length = 0;\n\n\t\tif (this.opts.broadcast) {\n\t\t\tthis.logger.debug(`Send tracing spans (${data.length} spans) broadcast events.`);\n\t\t\tthis.broker.broadcast(this.opts.eventName, data, { groups: this.opts.groups });\n\t\t} else {\n\t\t\tthis.logger.debug(`Send tracing spans (${data.length} spans) events.`);\n\t\t\tthis.broker.emit(this.opts.eventName, data, { groups: this.opts.groups });\n\t\t}\n\t}\n\n\t/**\n\t * Generate tracing data with custom converter\n\t *\n\t * @returns {Array<Object>}\n\t * @memberof EventTraceExporter\n\t */\n\tgenerateTracingData() {\n\t\tif (isFunction(this.opts.spanConverter))\n\t\t\treturn this.queue.map(span => this.opts.spanConverter.call(this, span));\n\n\t\treturn Array.from(this.queue).map(span => {\n\t\t\tconst newSpan = Object.assign({}, span);\n\t\t\tif (newSpan.error)\n\t\t\t\tnewSpan.error = this.errorToObject(span.error);\n\n\t\t\treturn newSpan;\n\t\t});\n\t}\n\n}\n\nmodule.exports = EventTraceExporter;\n","\"use strict\";\n\nconst _ \t\t\t\t\t\t= require(\"lodash\");\nconst BaseTraceExporter \t\t= require(\"./base\");\nconst { isObject, isFunction }\t= require(\"../../utils\");\n\n/**\n * Event Trace Exporter. It sends same trace events as in Moleculer <= v0.13.\n *\n * @class EventLegacyTraceExporter\n */\nclass EventLegacyTraceExporter extends BaseTraceExporter {\n\n\t/**\n\t * Creates an instance of EventLegacyTraceExporter.\n\t * @param {Object?} opts\n\t * @memberof EventLegacyTraceExporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t});\n\t}\n\n\t/**\n\t * Initialize Trace Exporter.\n\t *\n\t * @param {Tracer} tracer\n\t * @memberof EventLegacyTraceExporter\n\t */\n\tinit(tracer) {\n\t\tsuper.init(tracer);\n\t\tthis.broker = tracer.broker;\n\t}\n\n\t/**\n\t * Span is started.\n\t *\n\t * @param {Span} span\n\t * @memberof BaseTraceExporter\n\t */\n\tspanStarted(span) {\n\t\tconst payload = this.generateMetricPayload(span);\n\t\tthis.broker.emit(\"metrics.trace.span.start\", payload);\n\t}\n\n\t/**\n\t * Span is finished.\n\t *\n\t * @param {Span} span\n\t * @memberof EventLegacyTraceExporter\n\t */\n\tspanFinished(span) {\n\t\tconst payload = this.generateMetricPayload(span);\n\t\tthis.broker.emit(\"metrics.trace.span.finish\", payload);\n\t}\n\n\t/**\n\t * Generate metrics payload\n\t *\n\t * @param {Context} ctx\n\t * @returns {Object}\n\t */\n\tgenerateMetricPayload(span) {\n\t\tlet payload = {\n\t\t\tid: span.id,\n\t\t\trequestID: span.traceID,\n\t\t\tlevel: span.tags.callingLevel,\n\t\t\tstartTime: span.startTime,\n\t\t\tremoteCall: span.tags.remoteCall\n\t\t};\n\n\t\t// Process extra metrics\n\t\tif (span.opts.ctx)\n\t\t\tthis.processExtraMetrics(span.opts.ctx, payload);\n\n\t\tpayload.action = span.tags.action;\n\t\tpayload.service = span.service;\n\n\t\tif (span.parentID)\n\t\t\tpayload.parent = span.parentID;\n\n\t\tpayload.nodeID = this.broker.nodeID;\n\t\tif (payload.remoteCall)\n\t\t\tpayload.callerNodeID = span.tags.callerNodeID;\n\n\t\tif (span.finishTime) {\n\t\t\tpayload.endTime = span.finishTime;\n\t\t\tpayload.duration = span.duration;\n\t\t\tpayload.fromCache = span.tags.fromCache;\n\n\t\t\tif (span.error) {\n\t\t\t\tpayload.error = this.errorToObject(span.error);\n\t\t\t}\n\t\t}\n\n\t\treturn payload;\n\t}\n\n\t/**\n\t * Assign extra metrics taking into account action definitions\n\t *\n\t * @param {Context} ctx\n\t * @param {string} name Field of the context to be assigned.\n\t * @param {any} payload Object for assignment.\n\t *\n\t * @private\n\t */\n\tassignExtraMetrics(ctx, name, payload) {\n\t\tlet def = ctx.action.metrics[name];\n\t\t// if metrics definitions is boolean do default, metrics=true\n\t\tif (def === true) {\n\t\t\tpayload[name] = ctx[name];\n\t\t} else if (Array.isArray(def)) {\n\t\t\tpayload[name] = _.pick(ctx[name], def);\n\t\t} else if (isFunction(def)) {\n\t\t\tpayload[name] = def(ctx[name]);\n\t\t}\n\t}\n\n\t/**\n\t * Decide and process extra metrics taking into account action definitions\n\t *\n\t * @param {Context} ctx\n\t * @param {any} payload Object for assignment.\n\t *\n\t * @private\n\t */\n\tprocessExtraMetrics(ctx, payload) {\n\t\t// extra metrics (params and meta)\n\t\tif (isObject(ctx.action.metrics)) {\n\t\t\t// custom metrics def\n\t\t\tthis.assignExtraMetrics(ctx, \"params\", payload);\n\t\t\tthis.assignExtraMetrics(ctx, \"meta\", payload);\n\t\t}\n\t}\n\n\n}\n\nmodule.exports = EventLegacyTraceExporter;\n","/* global self */\n\nconst scope = (typeof global !== 'undefined' && global) ||\n            (typeof self !== 'undefined' && self) ||\n            window\n\nexport default (...args) => scope.fetch(...args)\n","\"use strict\";\n\nconst _ \t\t\t\t\t= require(\"lodash\");\nconst fetch \t\t\t\t= require(\"node-fetch\");\nconst BaseTraceExporter \t= require(\"./base\");\nconst { isFunction } \t\t= require(\"../../utils\");\n\n/**\n * Trace Exporter for Zipkin.\n *\n * API v2: https://zipkin.io/zipkin-api/#/\n * API v1: https://zipkin.io/pages/data_model.html\n *\n * Running Zipkin in Docker:\n *\n * \t docker run -d -p 9411:9411 --name=zipkin openzipkin/zipkin\n *\n * @class ZipkinTraceExporter\n */\nclass ZipkinTraceExporter extends BaseTraceExporter {\n\n\t/**\n\t * Creates an instance of ZipkinTraceExporter.\n\t * @param {Object?} opts\n\t * @memberof ZipkinTraceExporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\t/** @type {String} Base URL for Zipkin server. */\n\t\t\tbaseURL: process.env.ZIPKIN_URL || \"http://localhost:9411\",\n\n\t\t\t/** @type {String} Zipkin REST API version. */\n\t\t\t//version: \"v2\",\n\n\t\t\t/** @type {Number} Batch send time interval in seconds. */\n\t\t\tinterval: 5,\n\n\t\t\t/** @type {Object} Additional payload options. */\n\t\t\tpayloadOptions: {\n\n\t\t\t\t/** @type {Boolean} Set `debug` property in v2 payload. */\n\t\t\t\tdebug: false,\n\n\t\t\t\t/** @type {Boolean} Set `shared` property in v2 payload. */\n\t\t\t\tshared: false\n\t\t\t},\n\n\t\t\t/** @type {Object?} Default span tags */\n\t\t\tdefaultTags: null\n\t\t});\n\n\t\tthis.queue = [];\n\t}\n\n\t/**\n\t * Initialize Trace Exporter.\n\t *\n\t * @param {Tracer} tracer\n\t * @memberof ZipkinTraceExporter\n\t */\n\tinit(tracer) {\n\t\tsuper.init(tracer);\n\n\t\tfetch.Promise = this.broker.Promise;\n\n\t\tif (this.opts.interval > 0) {\n\t\t\tthis.timer = setInterval(() => this.flush(), this.opts.interval * 1000);\n\t\t\tthis.timer.unref();\n\t\t}\n\n\t\tthis.defaultTags = isFunction(this.opts.defaultTags) ? this.opts.defaultTags.call(this, tracer) : this.opts.defaultTags;\n\t\tif (this.defaultTags) {\n\t\t\tthis.defaultTags = this.flattenTags(this.defaultTags, true);\n\t\t}\n\t}\n\n\t/**\n\t * Stop Trace exporter\n\t */\n\tstop() {\n\t\tif (this.timer) {\n\t\t\tclearInterval(this.timer);\n\t\t\tthis.timer = null;\n\t\t}\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Span is finished.\n\t *\n\t * @param {Span} span\n\t * @memberof ZipkinTraceExporter\n\t */\n\tspanFinished(span) {\n\t\tthis.queue.push(span);\n\t}\n\n\t/**\n\t * Flush tracing data to Datadog server\n\t *\n\t * @memberof ZipkinTraceExporter\n\t */\n\tflush() {\n\t\tif (this.queue.length == 0) return;\n\n\t\tconst data = this.generateTracingData();\n\t\tthis.queue.length = 0;\n\n\t\tfetch(`${this.opts.baseURL}/api/v2/spans`, {\n\t\t\tmethod: \"post\",\n\t\t\tbody: JSON.stringify(data),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t}\n\t\t}).then(res => {\n\t\t\tif (res.status >= 400) {\n\t\t\t\tthis.logger.warn(`Unable to upload tracing spans to Zipkin. Status: ${res.status} ${res.statusText}`);\n\t\t\t} else {\n\t\t\t\tthis.logger.debug(`Tracing spans (${data.length} spans) are uploaded to Zipkin. Status: ${res.statusText}`);\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tthis.logger.warn(\"Unable to upload tracing spans to Zipkin. Error:\" + err.message, err);\n\t\t});\n\t}\n\n\t/**\n\t * Generate tracing data for Zipkin\n\t *\n\t * @returns {Array<Object>}\n\t * @memberof ZipkinTraceExporter\n\t */\n\tgenerateTracingData() {\n\t\treturn this.queue.map(span => this.makePayload(span));\n\t}\n\n\t/**\n\t * Create Zipkin v2 payload from metric event\n\t *\n\t * @param {Span} span\n\t * @returns {Object}\n\t */\n\tmakePayload(span) {\n\t\tconst serviceName = span.service ? span.service.fullName : null;\n\t\tconst payload = {\n\t\t\tname: span.name,\n\t\t\tkind: \"SERVER\",\n\n\t\t\t// Trace & span IDs\n\t\t\ttraceId: this.convertID(span.traceID),\n\t\t\tid: this.convertID(span.id),\n\t\t\tparentId: this.convertID(span.parentID),\n\n\t\t\tlocalEndpoint: { serviceName },\n\t\t\tremoteEndpoint: { serviceName },\n\n\t\t\tannotations: [],\n\n\t\t\ttimestamp: this.convertTime(span.startTime),\n\t\t\tduration: this.convertTime(span.duration),\n\n\t\t\ttags: {\n\t\t\t\tservice: serviceName,\n\t\t\t\t\"span.type\": span.type,\n\t\t\t},\n\n\t\t\tdebug: this.opts.payloadOptions.debug,\n\t\t\tshared: this.opts.payloadOptions.shared\n\t\t};\n\n\t\tif (span.error) {\n\t\t\tpayload.tags[\"error\"] = span.error.message;\n\n\t\t\tpayload.annotations.push({\n\t\t\t\tvalue: \"error\",\n\t\t\t\tendpoint: { serviceName: serviceName, ipv4: \"\", port: 0 },\n\t\t\t\ttimestamp: this.convertTime(span.finishTime)\n\t\t\t});\n\t\t}\n\n\t\tObject.assign(\n\t\t\tpayload.tags,\n\t\t\tthis.defaultTags || {},\n\t\t\tthis.flattenTags(span.tags, true),\n\t\t\tthis.flattenTags(this.errorToObject(span.error), true, \"error\") || {}\n\t\t);\n\n\t\treturn payload;\n\t}\n\n\t/**\n\t * Convert Context ID to Zipkin format\n\t *\n\t * @param {String} id\n\t * @returns {String}\n\t */\n\tconvertID(id) {\n\t\treturn id ? id.replace(/-/g, \"\").substring(0, 16) : null;\n\t}\n\n\t/**\n\t * Convert JS timestamp to microseconds\n\t *\n\t * @param {Number} ts\n\t * @returns {Number}\n\t */\n\tconvertTime(ts) {\n\t\treturn ts != null ? Math.round(ts * 1000) : null;\n\t}\n\n}\n\nmodule.exports = ZipkinTraceExporter;\n","\"use strict\";\n\nconst _ \t\t\t\t\t= require(\"lodash\");\nconst fetch \t\t\t\t= require(\"node-fetch\");\nconst BaseTraceExporter \t= require(\"./base\");\nconst { isFunction } \t\t= require(\"../../utils\");\n\n/**\n * Trace Exporter for NewRelic using Zipkin data.\n *\n * NewRelic zipkin tracer: https://docs.newrelic.com/docs/understand-dependencies/distributed-tracing/trace-api/report-zipkin-format-traces-trace-api\n * API v2: https://zipkin.io/zipkin-api/#/\n *\n * @class NewRelicTraceExporter\n */\nclass NewRelicTraceExporter extends BaseTraceExporter {\n\n\t/**\n\t * Creates an instance of NewRelicTraceExporter.\n\t * @param {Object?} opts\n\t * @memberof NewRelicTraceExporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\t/** @type {String} Base URL for NewRelic server. */\n\t\t\tbaseURL:\n\t\t\tprocess.env.NEW_RELIC_TRACE_API_URL || \"https://trace-api.newrelic.com\",\n\n\t\t  /** @type {String} NewRelic Insert API Key */\n\t\t  insertKey: \"\",\n\n\t\t  /** @type {Number} Batch send time interval in seconds. */\n\t\t  interval: 5,\n\n\t\t  /** @type {Object} Additional payload options. */\n\t\t  payloadOptions: {\n\t\t\t/** @type {Boolean} Set `debug` property in v2 payload. */\n\t\t\t\tdebug: false,\n\n\t\t\t\t/** @type {Boolean} Set `shared` property in v2 payload. */\n\t\t\t\tshared: false,\n\t\t  },\n\n\t\t  /** @type {Object?} Default span tags */\n\t\t  defaultTags: null,\n\t\t});\n\n\t\tthis.queue = [];\n\t}\n\n\t/**\n\t * Initialize Trace Exporter.\n\t *\n\t * @param {Tracer} tracer\n\t * @memberof NewRelicTraceExporter\n\t */\n\tinit(tracer) {\n\t\tsuper.init(tracer);\n\n\t\tfetch.Promise = this.broker.Promise;\n\n\t\tif (this.opts.interval > 0) {\n\t\t\tthis.timer = setInterval(() => this.flush(), this.opts.interval * 1000);\n\t\t\tthis.timer.unref();\n\t\t}\n\n\t\tthis.defaultTags = isFunction(this.opts.defaultTags) ? this.opts.defaultTags.call(this, tracer) : this.opts.defaultTags;\n\t\tif (this.defaultTags) {\n\t\t\tthis.defaultTags = this.flattenTags(this.defaultTags, true);\n\t\t}\n\t}\n\n\t/**\n\t * Stop Trace exporter\n\t */\n\tstop() {\n\t\tif (this.timer) {\n\t\t\tclearInterval(this.timer);\n\t\t\tthis.timer = null;\n\t\t}\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Span is finished.\n\t *\n\t * @param {Span} span\n\t * @memberof NewRelicTraceExporter\n\t */\n\tspanFinished(span) {\n\t\tthis.queue.push(span);\n\t}\n\n\t/**\n\t * Flush tracing data to NewRelic Zipkin api endpoint\n\t *\n\t * @memberof NewRelicTraceExporter\n\t */\n\tflush() {\n\t\tif (this.queue.length == 0) return;\n\n\t\tconst data = this.generateTracingData();\n\t\tthis.queue.length = 0;\n\n\t\tfetch(`${this.opts.baseURL}/trace/v1`,\n\t\t\t{\n\t\t\t\tmethod: \"post\",\n\t\t\t\tbody: JSON.stringify(data),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"Api-Key\": this.opts.insertKey,\n \t\t\t\t\"Data-Format\": \"zipkin\",\n \t\t\t\t\"Data-Format-Version\": \"2\"\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\tif (res.status >= 400) {\n\t\t\t\tthis.logger.warn(`Unable to upload tracing spans to NewRelic. Status: ${res.status} ${res.statusText}`);\n\t\t\t} else {\n\t\t\t\tthis.logger.debug(`Tracing spans (${data.length} spans) uploaded to NewRelic. Status: ${res.statusText}`);\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tthis.logger.warn(\"Unable to upload tracing spans to NewRelic. Error:\" + err.message, err);\n\t\t});\n\t}\n\n\t/**\n\t * Generate tracing data for NewRelic\n\t *\n\t * @returns {Array<Object>}\n\t * @memberof NewRelicTraceExporter\n\t */\n\tgenerateTracingData() {\n\t\treturn this.queue.map(span => this.makePayload(span));\n\t}\n\n\t/**\n\t * Create Zipkin v2 payload from metric event\n\t *\n\t * @param {Span} span\n\t * @returns {Object}\n\t */\n\tmakePayload(span) {\n\t\tconst serviceName = span.service ? span.service.fullName : null;\n\t\tconst payload = {\n\t\t\tname: span.name,\n\t\t\tkind: \"CONSUMER\",\n\n\t\t\t// Trace & span IDs\n\t\t\ttraceId: this.convertID(span.traceID),\n\t\t\tid: this.convertID(span.id),\n\t\t\tparentId: this.convertID(span.parentID),\n\n\t\t\tlocalEndpoint: { serviceName },\n\t\t\tremoteEndpoint: { serviceName },\n\n\t\t\tannotations: [\n\t\t\t\t{ timestamp: this.convertTime(span.startTime), value: \"sr\" },\n\t\t\t\t{ timestamp: this.convertTime(span.finishTime), value: \"ss\" },\n\t\t\t],\n\n\t\t\ttimestamp: this.convertTime(span.startTime),\n\t\t\tduration: this.convertTime(span.duration),\n\n\t\t\ttags: {\n\t\t\t\tservice: serviceName,\n\t\t\t\t\"span.type\": span.type,\n\t\t\t},\n\n\t\t\tdebug: this.opts.payloadOptions.debug,\n\t\t\tshared: this.opts.payloadOptions.shared\n\t\t};\n\n\t\tif (span.error) {\n\t\t\tpayload.tags[\"error\"] = span.error.message;\n\n\t\t\tpayload.annotations.push({\n\t\t\t\tvalue: \"error\",\n\t\t\t\tendpoint: { serviceName: serviceName, ipv4: \"\", port: 0 },\n\t\t\t\ttimestamp: this.convertTime(span.finishTime)\n\t\t\t});\n\t\t}\n\n\t\tObject.assign(\n\t\t\tpayload.tags,\n\t\t\tthis.defaultTags || {},\n\t\t\tthis.flattenTags(span.tags, true),\n\t\t\tthis.flattenTags(this.errorToObject(span.error), true, \"error\") || {}\n\t\t);\n\n\t\treturn payload;\n\t}\n\n\t/**\n\t * Convert Context ID to Zipkin format\n\t *\n\t * @param {String} id\n\t * @returns {String}\n\t */\n\tconvertID(id) {\n\t\treturn id ? id.replace(/-/g, \"\").substring(0, 16) : null;\n\t}\n\n\t/**\n\t * Convert JS timestamp to microseconds\n\t *\n\t * @param {Number} ts\n\t * @returns {Number}\n\t */\n\tconvertTime(ts) {\n\t\treturn ts != null ? Math.round(ts * 1000) : null;\n\t}\n\n}\n\nmodule.exports = NewRelicTraceExporter;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { isObject, isString } = require(\"../../utils\");\nconst { BrokerOptionsError } = require(\"../../errors\");\n\nconst Exporters = {\n\tBase: require(\"./base\"),\n\tConsole: require(\"./console\"),\n\tDatadog: require(\"./datadog\"),\n\t//DatadogSimple: require(\"./datadog-simple\"),\n\tEvent: require(\"./event\"),\n\tEventLegacy: require(\"./event-legacy\"),\n\tJaeger: require(\"./jaeger\"),\n\tZipkin: require(\"./zipkin\"),\n\tNewRelic: require(\"./newrelic\")\n};\n\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Exporters).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Exporters[n];\n}\n\n/**\n * Resolve exporter by name\n *\n * @param {object|string} opt\n * @returns {Exporters.Base}\n * @memberof ServiceBroker\n */\nfunction resolve(opt) {\n\tif (opt instanceof Exporters.Base) {\n\t\treturn opt;\n\t} else if (isString(opt)) {\n\t\tlet ExporterClass = getByName(opt);\n\t\tif (ExporterClass)\n\t\t\treturn new ExporterClass();\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid tracing exporter type '${opt}'.`, { type: opt });\n\n\t} else if (isObject(opt)) {\n\t\tlet ExporterClass = getByName(opt.type);\n\t\tif (ExporterClass)\n\t\t\treturn new ExporterClass(opt.options);\n\t\telse\n\t\t\tthrow new BrokerOptionsError(`Invalid tracing exporter type '${opt.type}'.`, { type: opt.type });\n\t}\n\n\tthrow new BrokerOptionsError(`Invalid tracing exporter type '${opt}'.`, { type: opt });\n}\n\nfunction register(name, value) {\n\tExporters[name] = value;\n}\n\nmodule.exports = Object.assign(Exporters, { resolve, register });\n\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\n\n/**\n * Rate Limiter class for Tracing.\n *\n * Inspired by\n * \thttps://github.com/jaegertracing/jaeger-client-node/blob/master/src/rate_limiter.js\n *\n * @class RateLimiter\n */\nclass RateLimiter {\n\tconstructor(opts) {\n\t\tthis.opts = _.defaultsDeep(opts, {\n\t\t\ttracesPerSecond: 1\n\t\t});\n\n\t\tthis.lastTime = Date.now();\n\t\tthis.balance = 0;\n\t\tthis.maxBalance = this.opts.tracesPerSecond < 1 ? 1 : this.opts.tracesPerSecond;\n\t}\n\n\tcheck(cost = 1) {\n\t\tconst now = Date.now();\n\t\tconst elapsedTime = (now - this.lastTime) / 1000;\n\t\tthis.lastTime = now;\n\n\t\tthis.balance += elapsedTime * this.opts.tracesPerSecond;\n\t\tif (this.balance > this.maxBalance)\n\t\t\tthis.balance = this.maxBalance;\n\n\t\tif (this.balance >= cost) {\n\t\t\tthis.balance -= cost;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nmodule.exports = RateLimiter;\n","const loadTime = getNanoSeconds();\nconst nodeLoadTime = loadTime - process.uptime() * 1e9;\n\nfunction getNanoSeconds() {\n\tconst time = process.hrtime();\n\treturn time[0] * 1e9 + time[1];\n}\n\nfunction now() {\n\treturn (getNanoSeconds() - nodeLoadTime) / 1e6;\n}\n\nconst loadNs = now();\nconst loadMs = Date.now();\n\nmodule.exports = () => loadMs + now() - loadNs;\n","\"use strict\";\n\nconst now = require(\"./now\");\n\nfunction defProp(instance, propName, value, readOnly = false) {\n\tObject.defineProperty(instance, propName, {\n\t\tvalue,\n\t\twritable: !!readOnly,\n\t\tenumerable: false\n\t});\n}\n\n/**\n * Trace Span class\n *\n * @class Span\n */\nclass Span {\n\n\t/**\n\t * Creates an instance of Span.\n\t * @param {Tracer} tracer\n\t * @param {String} name\n\t * @param {Object?} opts\n\t *\n\t * @memberof Span\n\t */\n\tconstructor(tracer, name, opts) {\n\t\tdefProp(this, \"tracer\", tracer, true);\n\t\tdefProp(this, \"logger\", this.tracer.logger, true);\n\t\tdefProp(this, \"opts\", opts || {});\n\t\tdefProp(this, \"meta\", {});\n\n\t\tthis.name = name;\n\t\tthis.type = this.opts.type || \"custom\";\n\t\tthis.id = this.opts.id || this.tracer.broker.generateUid();\n\t\tthis.traceID = this.opts.traceID || this.id;\n\t\tthis.parentID = this.opts.parentID;\n\n\t\tif (this.opts.service) {\n\t\t\tif (typeof this.opts.service == \"string\") {\n\t\t\t\tthis.service = {\n\t\t\t\t\tname: this.opts.service,\n\t\t\t\t\tfullName: this.opts.service,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tthis.service = {\n\t\t\t\t\tname: this.opts.service.name,\n\t\t\t\t\tversion: this.opts.service.version,\n\t\t\t\t\tfullName: this.opts.service.fullName,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tthis.priority = this.opts.priority != null ? this.opts.priority : 5;\n\t\tthis.sampled = this.opts.sampled != null ? this.opts.sampled : this.tracer.shouldSample(this);\n\n\t\tthis.startTime = null;\n\t\tthis.finishTime = null;\n\t\tthis.duration = null;\n\n\t\tthis.error = null;\n\n\t\tthis.logs = [];\n\t\tthis.tags = {};\n\n\t\tif (this.opts.defaultTags)\n\t\t\tthis.addTags(this.opts.defaultTags);\n\n\t\tif (this.opts.tags)\n\t\t\tthis.addTags(this.opts.tags);\n\t}\n\n\t/**\n\t * Start span.\n\t *\n\t * @param {Number?} time\n\t * @returns {Span}\n\t * @memberof Span\n\t */\n\tstart(time) {\n\t\tthis.logger.debug(`[${this.id}] Span '${this.name}' is started.`);\n\n\t\tthis.startTime = time || now();\n\t\t// console.log(`\"${this.name}\" start time: ${this.startTime}`);\n\n\t\tthis.tracer.spanStarted(this);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Add tags. It will be merged with previous tags.\n\t *\n\t * @param {Object} obj\n\t * @returns {Span}\n\t *\n\t * @memberof Span\n\t */\n\taddTags(obj) {\n\t\tObject.assign(this.tags, obj);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Log a trace event.\n\t *\n\t * @param {String} name\n\t * @param {Object?} fields\n\t * @param {Number?} time\n\t * @returns {Span}\n\t * @memberof Span\n\t */\n\tlog(name, fields, time) {\n\t\ttime = time || now();\n\n\t\tthis.logs.push({\n\t\t\tname,\n\t\t\tfields: fields || {},\n\t\t\ttime,\n\t\t\telapsed: time - this.startTime\n\t\t});\n\n\t\tthis.logger.debug(`[${this.id}] Span '${this.name}' has a new log event: ${name}.`);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Set error span.\n\t *\n\t * @param {Error} err\n\t * @memberof Span\n\t */\n\tsetError(err) {\n\t\tthis.error = err != null ? err : true;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Finish span.\n\t *\n\t * @param {Number?} time\n\t * @returns {Span}\n\t * @memberof Span\n\t */\n\tfinish(time) {\n\t\tthis.finishTime = time ? time : now();\n\t\tthis.duration = this.finishTime - this.startTime;\n\n\t\t// console.log(`\"${this.name}\" stop time: ${this.finishTime}  Duration: ${this.duration}`);\n\n\t\tthis.logger.debug(`[${this.id}] Span '${this.name}' is finished. Duration: ${Number(this.duration).toFixed(3)} ms`, this.tags);\n\n\t\tthis.tracer.spanFinished(this);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Check the span is active or finished.\n\t *\n\t * @returns {boolean}\n\t */\n\tisActive() {\n\t\treturn this.finishTime == null;\n\t}\n\n\t/**\n\t * Start a child span.\n\t *\n\t * @param {String} name\n\t * @param {Object?} opts\n\t * @returns {Span} Child span\n\t * @memberof Span\n\t */\n\tstartSpan(name, opts) {\n\t\tconst r = {\n\t\t\ttraceID: this.traceID,\n\t\t\tparentID: this.id,\n\t\t\tsampled: this.sampled,\n\t\t\tservice: this.service\n\t\t};\n\t\treturn this.tracer.startSpan(name, opts ? Object.assign(r, opts) : r);\n\t}\n\n}\n\nmodule.exports = Span;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ = require(\"lodash\");\nconst Exporters = require(\"./exporters\");\n//const AsyncStorage = require(\"../async-storage\");\nconst RateLimiter = require(\"./rate-limiter\");\nconst Span = require(\"./span\");\nconst { isFunction } = require(\"../utils\");\n\n/**\n * Moleculer Tracer class\n */\nclass Tracer {\n\n\t/**\n\t * Creates an instance of Tracer.\n\t *\n\t * @param {ServiceBroker} broker\n\t * @param {Object} opts\n\t * @memberof Tracer\n\t */\n\tconstructor(broker, opts) {\n\t\tthis.broker = broker;\n\t\tthis.logger = broker.getLogger(\"tracer\");\n\n\t\tif (opts === true || opts === false)\n\t\t\topts = { enabled: opts };\n\n\t\tthis.opts = _.defaultsDeep({}, opts, {\n\t\t\tenabled: true,\n\n\t\t\texporter: null,\n\n\t\t\tsampling: {\n\t\t\t\t// Constants sampling\n\t\t\t\trate: 1.0, // 0.0 - Never, 1.0 > x > 0.0 - Fix, 1.0 - Always\n\n\t\t\t\t// Ratelimiting sampling https://opencensus.io/tracing/sampling/ratelimited/\n\t\t\t\ttracesPerSecond: null, // 1: 1 trace / sec, 5: 5 traces / sec, 0.1: 1 trace / 10 secs\n\n\t\t\t\tminPriority: null\n\t\t\t},\n\n\t\t\tactions: true,\n\t\t\tevents: false,\n\n\t\t\terrorFields: [\"name\", \"message\", \"code\", \"type\", \"data\"],\n\t\t\tstackTrace: false,\n\n\t\t\tdefaultTags: null,\n\n\t\t\ttags: {\n\t\t\t\taction: null,\n\t\t\t\tevent: null,\n\t\t\t}\n\t\t});\n\n\t\tif (this.opts.stackTrace && this.opts.errorFields.indexOf(\"stack\") === -1)\n\t\t\tthis.opts.errorFields.push(\"stack\");\n\n\t\tthis.sampleCounter = 0;\n\n\t\tif (this.opts.sampling.tracesPerSecond != null && this.opts.sampling.tracesPerSecond > 0) {\n\t\t\tthis.rateLimiter = new RateLimiter({\n\t\t\t\ttracesPerSecond: this.opts.sampling.tracesPerSecond\n\t\t\t});\n\t\t}\n\n\t\t//this.scope = new AsyncStorage(this.broker);\n\t\t//this.scope.enable();\n\t\t//this._scopeEnabled = true;\n\n\t\tif (this.opts.enabled)\n\t\t\tthis.logger.info(\"Tracing: Enabled\");\n\t}\n\n\t/**\n\t * Initialize Tracer.\n\t */\n\tinit() {\n\t\tif (this.opts.enabled) {\n\n\t\t\tthis.defaultTags = isFunction(this.opts.defaultTags) ? this.opts.defaultTags.call(this, this) : this.opts.defaultTags;\n\n\t\t\t// Create Exporter instances\n\t\t\tif (this.opts.exporter) {\n\t\t\t\tconst exporters = Array.isArray(this.opts.exporter) ? this.opts.exporter : [this.opts.exporter];\n\n\t\t\t\tthis.exporter = _.compact(exporters).map(r => {\n\t\t\t\t\tconst exporter = Exporters.resolve(r);\n\t\t\t\t\texporter.init(this);\n\t\t\t\t\treturn exporter;\n\t\t\t\t});\n\n\t\t\t\tconst exporterNames = this.exporter.map(exporter => this.broker.getConstructorName(exporter));\n\t\t\t\tthis.logger.info(`Tracing exporter${exporterNames.length > 1 ? \"s\": \"\"}: ${exporterNames.join(\", \")}`);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t/**\n\t * Stop Tracer.\n\t */\n\tstop() {\n\t\tif (this.exporter) {\n\t\t\treturn this.broker.Promise.all(this.exporter.map(r => r.stop()));\n\t\t}\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Check tracing is enabled\n\t *\n\t * @returns {boolean}\n\t * @memberof MetricRegistry\n\t */\n\tisEnabled() {\n\t\treturn this.opts.enabled;\n\t}\n\n\t/**\n\t * Disable trace hooks and clear the store - noop if scope is already stopped\n\t *\n\t * @memberof Tracer\n\t *\n\tstopAndClearScope() {\n\t\tif (this._scopeEnabled) {\n\t\t\tthis.scope.stop();\n\t\t\tthis._scopeEnabled = false;\n\t\t}\n\t}*/\n\n\t/**\n\t * Renable the trace hooks - noop if scope is already enabled\n\t *\n\t * @memberof Tracer\n\t *\n\trestartScope() {\n\t\tif (!this._scopeEnabled) {\n\t\t\tthis.scope.enable();\n\t\t\tthis._scopeEnabled = true;\n\t\t}\n\t}*/\n\n\t/**\n\t * Decide that span should be sampled.\n\t *\n\t * @param {Span} span\n\t * @returns {Boolean}\n\t * @memberof Tracer\n\t */\n\tshouldSample(span) {\n\t\tif (this.opts.sampling.minPriority != null) {\n\t\t\tif (span.priority < this.opts.sampling.minPriority)\n\t\t\t\treturn false;\n\t\t}\n\n\t\tif (this.rateLimiter) {\n\t\t\treturn this.rateLimiter.check();\n\t\t}\n\n\t\tif (this.opts.sampling.rate == 0)\n\t\t\treturn false;\n\n\t\tif (this.opts.sampling.rate == 1)\n\t\t\treturn true;\n\n\t\tif (++this.sampleCounter * this.opts.sampling.rate >= 1.0) {\n\t\t\tthis.sampleCounter = 0;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Start a new Span.\n\t *\n\t * @param {String} name\n\t * @param {Object?} opts\n\t * @returns {Span}\n\t *\n\t * @memberof Tracer\n\t */\n\tstartSpan(name, opts = {}) {\n\t\tlet parentOpts = {};\n\t\tif (opts.parentSpan) {\n\t\t\tparentOpts.traceID = opts.parentSpan.traceID;\n\t\t\tparentOpts.parentID = opts.parentSpan.id;\n\t\t\tparentOpts.sampled = opts.parentSpan.sampled;\n\t\t}\n\n\t\tconst span = new Span(this, name, Object.assign({\n\t\t\ttype: \"custom\",\n\t\t\tdefaultTags: this.defaultTags\n\t\t}, parentOpts, opts, { parentSpan: undefined }));\n\n\t\tspan.start();\n\n\t\treturn span;\n\t}\n\n\t/**\n\t * Invoke Exporter method.\n\t *\n\t * @param {String} method\n\t * @param {Array<any>} args\n\t * @memberof Tracer\n\t */\n\tinvokeExporter(method, args) {\n\t\tif (this.exporter) {\n\t\t\tthis.exporter.forEach(exporter => exporter[method].apply(exporter, args));\n\t\t}\n\t}\n\n\t/**\n\t * Set the active span\n\t *\n\t * @param {Span} span\n\t * @memberof Tracer\n\t *\n\tsetCurrentSpan(span) {\n\t\tconst state = this.scope.getSessionData() || {\n\t\t\tspans: []\n\t\t};\n\n\t\tstate.spans.push(span);\n\t\tthis.scope.setSessionData(state);\n\n\t\tspan.meta.state = state;\n\t}*/\n\n\t/**\n\t * Remove the active span (because async block destroyed)\n\t *\n\t * @param {Span} span\n\t * @memberof Tracer\n\t *\n\tremoveCurrentSpan(span) {\n\t\tconst state = span.meta.state || this.scope.getSessionData();\n\t\tif (state && state.spans.length > 0) {\n\t\t\tconst idx = state.spans.indexOf(span);\n\t\t\tif (idx >= 0)\n\t\t\t\tstate.spans.splice(idx, 1);\n\t\t}\n\t}*/\n\n\t/**\n\t * Get the current active span\n\t *\n\t * @returns {Span}\n\t * @memberof Tracer\n\t *\n\tgetCurrentSpan() {\n\t\tconst state = this.scope.getSessionData();\n\t\treturn state ? state.spans[state.spans.length - 1] : null;\n\t}*/\n\n\t/**\n\t * Get the current trace ID\n\t *\n\t * @returns\n\t * @memberof Tracer\n\t */\n\tgetCurrentTraceID() {\n\t\treturn null;\n\t\t//const span = this.getCurrentSpan();\n\t\t//return span ? span.traceID : null;\n\t}\n\n\t/**\n\t * Get the active span ID (for the next span as parent ID)\n\t *\n\t * @returns\n\t * @memberof Tracer\n\t */\n\tgetActiveSpanID() {\n\t\treturn null;\n\t\t//const span = this.getCurrentSpan();\n\t\t//return span ? span.id : null;\n\t}\n\n\t/**\n\t * Called when a span started. Call exporters.\n\t *\n\t * @param {Span} span\n\t * @memberof Tracer\n\t */\n\tspanStarted(span) {\n\t\t//this.setCurrentSpan(span);\n\n\t\tif (span.sampled)\n\t\t\tthis.invokeExporter(\"spanStarted\", [span]);\n\t}\n\n\t/**\n\t * Called when a span finished. Call exporters.\n\t *\n\t * @param {Span} span\n\t * @memberof Tracer\n\t */\n\tspanFinished(span) {\n\t\t//this.removeCurrentSpan(span);\n\n\t\tif (span.sampled)\n\t\t\tthis.invokeExporter(\"spanFinished\", [span]);\n\t}\n}\n\nmodule.exports = Tracer;\n","/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nmodule.exports = {\n\tTracer: require(\"./tracer\"),\n\tSpan: require(\"./span\"),\n\tExporters: require(\"./exporters\"),\n};\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst _ \t\t\t\t\t\t= require(\"lodash\");\nconst functionArguments \t\t= require(\"fn-args\");\nconst { ServiceSchemaError, MoleculerError } \t= require(\"./errors\");\nconst { isObject, isFunction, flatten }\t= require(\"./utils\");\n\n/**\n * Wrap a handler Function to an object with a `handler` property.\n *\n * @param {Function|Object} o\n * @returns {Object}\n */\nfunction wrapToHander(o) {\n\treturn isFunction(o) ? { handler: o } : o;\n}\n\n/**\n * Wrap any value to an array.\n * @param {any} o\n * @returns {Array}\n */\nfunction wrapToArray(o) {\n\treturn Array.isArray(o) ? o : [o];\n}\n\nfunction isNewSignature(args) {\n\treturn args.length > 0 && [\"ctx\", \"context\"].indexOf(args[0].toLowerCase()) !== -1;\n}\n\n\n/**\n * Service class\n *\n * @class Service\n */\nclass Service {\n\n\t/**\n\t * Creates an instance of Service by schema.\n\t *\n\t * @param {ServiceBroker} \tbroker\tbroker of service\n\t * @param {Object} \t\t\tschema\tschema of service\n\t *\n\t * @memberof Service\n\t */\n\tconstructor(broker, schema) {\n\t\tif (!isObject(broker))\n\t\t\tthrow new ServiceSchemaError(\"Must set a ServiceBroker instance!\");\n\n\t\tthis.broker = broker;\n\n\t\tif (broker)\n\t\t\tthis.Promise = broker.Promise;\n\n\t\tif (schema)\n\t\t\tthis.parseServiceSchema(schema);\n\t}\n\n\t/**\n\t * Parse Service schema & register as local service\n\t *\n\t * @param {Object} schema of Service\n\t */\n\tparseServiceSchema(schema) {\n\t\tif (!isObject(schema))\n\t\t\tthrow new ServiceSchemaError(\"The service schema can't be null. Maybe is it not a service schema?\");\n\n\t\tthis.originalSchema = _.cloneDeep(schema);\n\n\t\tif (schema.mixins) {\n\t\t\tschema = Service.applyMixins(schema);\n\t\t}\n\n\t\tif (isFunction(schema.merged)) {\n\t\t\tschema.merged.call(this, schema);\n\t\t} else if (Array.isArray(schema.merged)) {\n\t\t\tschema.merged.forEach(fn => fn.call(this, schema));\n\t\t}\n\n\t\tthis.broker.callMiddlewareHookSync(\"serviceCreating\", [this, schema]);\n\n\t\tif (!schema.name) {\n\t\t\t/* eslint-disable-next-line */\n\t\t\tconsole.error(\"Service name can't be empty! Maybe it is not a valid Service schema. Maybe is it not a service schema?\", { schema });\n\t\t\tthrow new ServiceSchemaError(\"Service name can't be empty! Maybe it is not a valid Service schema. Maybe is it not a service schema?\", { schema });\n\t\t}\n\n\t\tthis.name = schema.name;\n\t\tthis.version = schema.version;\n\t\tthis.settings = schema.settings || {};\n\t\tthis.metadata = schema.metadata || {};\n\t\tthis.schema = schema;\n\n\t\tthis.fullName = Service.getVersionedFullName(this.name, this.settings.$noVersionPrefix !== true ? this.version : undefined);\n\n\t\tthis.logger = this.broker.getLogger(this.fullName, {\n\t\t\tsvc: this.name,\n\t\t\tver: this.version\n\t\t});\n\n\t\tthis.actions = {}; // external access to actions\n\t\tthis.events = {}; // external access to event handlers.\n\n\t\t// Service item for Registry\n\t\tconst serviceSpecification = {\n\t\t\tname: this.name,\n\t\t\tversion: this.version,\n\t\t\tfullName: this.fullName,\n\t\t\tsettings: this._getPublicSettings(this.settings),\n\t\t\tmetadata: this.metadata,\n\t\t\tactions: {},\n\t\t\tevents: {}\n\t\t};\n\n\t\t// Register methods\n\t\tif (isObject(schema.methods)) {\n\n\t\t\t_.forIn(schema.methods, (method, name) => {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif ([\"name\", \"version\", \"settings\", \"metadata\", \"dependencies\", \"schema\", \"broker\", \"actions\", \"logger\", \"created\", \"started\", \"stopped\", \"_start\", \"_stop\", \"_init\"].indexOf(name) != -1) {\n\t\t\t\t\tthrow new ServiceSchemaError(`Invalid method name '${name}' in '${this.name}' service!`);\n\t\t\t\t}\n\n\t\t\t\tthis._createMethod(method, name);\n\t\t\t});\n\t\t}\n\n\t\t// Register actions\n\t\tif (isObject(schema.actions)) {\n\t\t\t_.forIn(schema.actions, (action, name) => {\n\t\t\t\tif (action === false)\n\t\t\t\t\treturn;\n\n\t\t\t\tlet innerAction = this._createAction(action, name);\n\n\t\t\t\tserviceSpecification.actions[innerAction.name] = innerAction;\n\n\t\t\t\tconst wrappedHandler = this.broker.middlewares.wrapHandler(\"localAction\", innerAction.handler, innerAction);\n\n\t\t\t\t// Expose to be callable as `this.actions.find({ ...params })`\n\t\t\t\tconst ep = this.broker.registry.createPrivateActionEndpoint(innerAction);\n\t\t\t\tthis.actions[name] = (params, opts) => {\n\t\t\t\t\tlet ctx;\n\t\t\t\t\tif (opts && opts.ctx) {\n\t\t\t\t\t\t// Reused context (in case of retry)\n\t\t\t\t\t\tctx = opts.ctx;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx = this.broker.ContextFactory.create(this.broker, ep, params, opts || {});\n\t\t\t\t\t}\n\t\t\t\t\treturn wrappedHandler(ctx);\n\t\t\t\t};\n\n\t\t\t});\n\t\t}\n\n\t\t// Event subscriptions\n\t\tif (isObject(schema.events)) {\n\t\t\t_.forIn(schema.events, (event, name) => {\n\t\t\t\tconst innerEvent = this._createEvent(event, name);\n\t\t\t\tserviceSpecification.events[innerEvent.name] = innerEvent;\n\n\t\t\t\t// Expose to be callable as `this.events[''](params, opts);\n\t\t\t\tthis.events[innerEvent.name] = (params, opts) => {\n\t\t\t\t\tlet ctx;\n\t\t\t\t\tif (opts && opts.ctx) {\n\t\t\t\t\t\t// Reused context (in case of retry)\n\t\t\t\t\t\tctx = opts.ctx;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst ep = {\n\t\t\t\t\t\t\tid: this.broker.nodeID,\n\t\t\t\t\t\t\tevent: innerEvent\n\t\t\t\t\t\t};\n\t\t\t\t\t\tctx = this.broker.ContextFactory.create(this.broker, ep, params, opts || {});\n\t\t\t\t\t}\n\t\t\t\t\tctx.eventName = name;\n\t\t\t\t\tctx.eventType = \"emit\";\n\t\t\t\t\tctx.eventGroups = [innerEvent.group || this.name];\n\n\t\t\t\t\treturn innerEvent.handler(ctx);\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tthis._serviceSpecification = serviceSpecification;\n\n\t\t// Initialize\n\t\tthis._init();\n\t}\n\n\t/**\n\t * Return a service settings without protected properties.\n\t *\n\t * @param {Object?} settings\n\t */\n\t_getPublicSettings(settings) {\n\t\tif (settings && Array.isArray(settings.$secureSettings)) {\n\t\t\treturn _.omit(settings, [].concat(settings.$secureSettings, [\"$secureSettings\"]));\n\t\t}\n\n\t\treturn settings;\n\t}\n\n\t/**\n\t * Initialize service. It called `created` handler in schema\n\t *\n\t * @private\n\t * @memberof Service\n\t */\n\t_init() {\n\t\tthis.logger.debug(`Service '${this.fullName}' is creating...`);\n\t\tif (isFunction(this.schema.created)) {\n\t\t\tthis.schema.created.call(this);\n\t\t} else if (Array.isArray(this.schema.created)) {\n\t\t\tthis.schema.created.forEach(fn => fn.call(this));\n\t\t}\n\n\t\tthis.broker.addLocalService(this);\n\n\t\tthis.broker.callMiddlewareHookSync(\"serviceCreated\", [this]);\n\n\t\tthis.logger.debug(`Service '${this.fullName}' created.`);\n\t}\n\n\t/**\n\t * Start service\n\t *\n\t * @returns {Promise}\n\t * @private\n\t * @memberof Service\n\t */\n\t_start() {\n\t\tthis.logger.debug(`Service '${this.fullName}' is starting...`);\n\t\treturn this.Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\treturn this.broker.callMiddlewareHook(\"serviceStarting\", [this]);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// Wait for dependent services\n\t\t\t\tif (this.schema.dependencies)\n\t\t\t\t\treturn this.waitForServices(this.schema.dependencies, this.settings.$dependencyTimeout || 0, this.settings.$dependencyInterval || this.broker.options.dependencyInterval);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (isFunction(this.schema.started))\n\t\t\t\t\treturn this.Promise.method(this.schema.started).call(this);\n\n\t\t\t\tif (Array.isArray(this.schema.started)) {\n\t\t\t\t\treturn this.schema.started\n\t\t\t\t\t\t.map(fn => this.Promise.method(fn.bind(this)))\n\t\t\t\t\t\t.reduce((p, fn) => p.then(() => fn()), this.Promise.resolve());\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// Register service\n\t\t\t\tthis.broker.registerLocalService(this._serviceSpecification);\n\t\t\t\treturn null;\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.broker.callMiddlewareHook(\"serviceStarted\", [this]);\n\t\t\t})\n\t\t\t.then(() => this.logger.info(`Service '${this.fullName}' started.`));\n\t}\n\n\t/**\n\t * Stop service\n\t *\n\t * @returns {Promise}\n\t * @private\n\t * @memberof Service\n\t */\n\t_stop() {\n\t\tthis.logger.debug(`Service '${this.fullName}' is stopping...`);\n\t\treturn this.Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\treturn this.broker.callMiddlewareHook(\"serviceStopping\", [this], { reverse: true });\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (isFunction(this.schema.stopped))\n\t\t\t\t\treturn this.Promise.method(this.schema.stopped).call(this);\n\n\t\t\t\tif (Array.isArray(this.schema.stopped)) {\n\t\t\t\t\tconst arr = Array.from(this.schema.stopped).reverse();\n\t\t\t\t\treturn arr\n\t\t\t\t\t\t.map(fn => this.Promise.method(fn.bind(this)))\n\t\t\t\t\t\t.reduce((p, fn) => p.then(() => fn()), this.Promise.resolve());\n\t\t\t\t}\n\n\t\t\t\treturn this.Promise.resolve();\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.broker.callMiddlewareHook(\"serviceStopped\", [this], { reverse: true });\n\t\t\t})\n\t\t\t.then(() => this.logger.info(`Service '${this.fullName}' stopped.`));\n\t}\n\n\t/**\n\t * Create an external action handler for broker (internal command!)\n\t *\n\t * @param {Object|Function} actionDef\n\t * @param {String} name\n\t * @returns {Object}\n\t *\n\t * @private\n\t * @memberof Service\n\t */\n\t_createAction(actionDef, name) {\n\t\tlet action;\n\t\tif (isFunction(actionDef)) {\n\t\t\t// Wrap to an object\n\t\t\taction = {\n\t\t\t\thandler: actionDef\n\t\t\t};\n\t\t} else if (isObject(actionDef)) {\n\t\t\taction = _.cloneDeep(actionDef);\n\t\t} else {\n\t\t\tthrow new ServiceSchemaError(`Invalid action definition in '${name}' action in '${this.fullName}' service!`);\n\t\t}\n\n\t\tlet handler = action.handler;\n\t\tif (!isFunction(handler)) {\n\t\t\tthrow new ServiceSchemaError(`Missing action handler on '${name}' action in '${this.fullName}' service!`);\n\t\t}\n\n\t\taction.rawName = action.name || name;\n\t\tif (this.settings.$noServiceNamePrefix !== true)\n\t\t\taction.name = this.fullName + \".\" + action.rawName;\n\t\telse\n\t\t\taction.name = action.rawName;\n\n\t\tif (action.cache === undefined && this.settings.$cache !== undefined) {\n\t\t\taction.cache = this.settings.$cache;\n\t\t}\n\n\t\taction.service = this;\n\t\taction.handler = this.Promise.method(handler.bind(this));\n\n\t\treturn action;\n\t}\n\n\t/**\n\t * Create an internal service method.\n\t *\n\t * @param {Object|Function} methodDef\n\t * @param {String} name\n\t * @returns {Object}\n\t */\n\t_createMethod(methodDef, name) {\n\t\tlet method;\n\t\tif (isFunction(methodDef)) {\n\t\t\t// Wrap to an object\n\t\t\tmethod = {\n\t\t\t\thandler: methodDef\n\t\t\t};\n\t\t} else if (isObject(methodDef)) {\n\t\t\tmethod = methodDef;\n\t\t} else {\n\t\t\tthrow new ServiceSchemaError(`Invalid method definition in '${name}' method in '${this.fullName}' service!`);\n\t\t}\n\n\t\tif (!isFunction(method.handler)) {\n\t\t\tthrow new ServiceSchemaError(`Missing method handler on '${name}' method in '${this.fullName}' service!`);\n\t\t}\n\n\t\tmethod.name = name;\n\t\tmethod.service = this;\n\t\tmethod.handler = method.handler.bind(this);\n\n\t\tthis[name] = this.broker.middlewares.wrapHandler(\"localMethod\", method.handler, method);\n\n\t\treturn method;\n\t}\n\n\t/**\n\t * Create an event subscription for broker\n\t *\n\t * @param {Object|Function} eventDef\n\t * @param {String} name\n\t * @returns {Object}\n\t *\n\t * @private\n\t * @memberof Service\n\t */\n\t_createEvent(eventDef, name) {\n\t\tlet event;\n\t\tif (isFunction(eventDef) || Array.isArray(eventDef)) {\n\t\t\tevent = {\n\t\t\t\thandler: eventDef\n\t\t\t};\n\t\t} else if (isObject(eventDef)) {\n\t\t\tevent = _.cloneDeep(eventDef);\n\t\t} else {\n\t\t\tthrow new ServiceSchemaError(`Invalid event definition in '${name}' event in '${this.fullName}' service!`);\n\t\t}\n\n\t\tif (!isFunction(event.handler) && !Array.isArray(event.handler)) {\n\t\t\tthrow new ServiceSchemaError(`Missing event handler on '${name}' event in '${this.fullName}' service!`);\n\t\t}\n\n\t\t// Detect new or legacy parameter list of event handler\n\t\t// Legacy: handler(payload, sender, eventName)\n\t\t// New: handler(ctx)\n\t\tlet handler;\n\t\tif (isFunction(event.handler)) {\n\t\t\tconst args = functionArguments(event.handler);\n\t\t\thandler = this.Promise.method(event.handler);\n\t\t\thandler.__newSignature = event.context === true || isNewSignature(args);\n\t\t} else if (Array.isArray(event.handler)) {\n\t\t\thandler = event.handler.map(h => {\n\t\t\t\tconst args = functionArguments(h);\n\t\t\t\th = this.Promise.method(h);\n\t\t\t\th.__newSignature = event.context === true || isNewSignature(args);\n\t\t\t\treturn h;\n\t\t\t});\n\t\t}\n\n\t\tif (!event.name)\n\t\t\tevent.name = name;\n\n\t\tevent.service = this;\n\t\tconst self = this;\n\t\tif (isFunction(handler)) {\n\t\t\t// Call single handler\n\t\t\tevent.handler = function(ctx) {\n\t\t\t\treturn handler.apply(self, handler.__newSignature ? [ctx] : [ctx.params, ctx.nodeID, ctx.eventName, ctx]);\n\t\t\t};\n\t\t} else if (Array.isArray(handler)) {\n\t\t\t// Call multiple handler\n\t\t\tevent.handler = function(ctx) {\n\t\t\t\treturn self.Promise.all(handler.map(fn => fn.apply(self, fn.__newSignature ? [ctx] : [ctx.params, ctx.nodeID, ctx.eventName, ctx])));\n\t\t\t};\n\t\t}\n\n\t\treturn event;\n\t}\n\n\t/**\n\t * Call a local event handler. Useful for unit tests.\n\t *\n\t * @param {String} eventName\n\t * @param {any?} params\n\t * @param {Object?} opts\n\t */\n\temitLocalEventHandler(eventName, params, opts) {\n\t\tif (!this.events[eventName])\n\t\t\treturn Promise.reject(new MoleculerError(`No '${eventName}' registered local event handler`, 500, \"NOT_FOUND_EVENT\", { eventName }));\n\n\t\treturn this.events[eventName](params, opts);\n\t}\n\n\t/**\n\t * Getter of current Context.\n\t * @returns {Context?}\n\t *\n\t * @memberof Service\n\t *\n\tget currentContext() {\n\t\treturn this.broker.getCurrentContext();\n\t}*/\n\n\t/**\n\t * Setter of current Context\n\t *\n\t * @memberof Service\n\t *\n\tset currentContext(ctx) {\n\t\tthis.broker.setCurrentContext(ctx);\n\t}*/\n\n\t/**\n\t * Wait for other services\n\t *\n\t * @param {String|Array<String>} serviceNames\n\t * @param {Number} timeout Timeout in milliseconds\n\t * @param {Number} interval Check interval in milliseconds\n\t * @returns {Promise}\n\t * @memberof Service\n\t */\n\twaitForServices(serviceNames, timeout, interval) {\n\t\treturn this.broker.waitForServices(serviceNames, timeout, interval, this.logger);\n\t}\n\n\t/**\n\t * Apply `mixins` list in schema. Merge the schema with mixins schemas. Returns with the mixed schema\n\t *\n\t * @static\n\t * @param {Schema} schema\n\t * @returns {Schema}\n\t *\n\t * @memberof Service\n\t */\n\tstatic applyMixins(schema) {\n\t\tif (schema.mixins) {\n\t\t\tconst mixins = Array.isArray(schema.mixins) ? schema.mixins : [schema.mixins];\n\t\t\tif (mixins.length > 0) {\n\t\t\t\tconst mixedSchema = Array.from(mixins).reverse().reduce((s, mixin) => {\n\t\t\t\t\tif (mixin.mixins)\n\t\t\t\t\t\tmixin = Service.applyMixins(mixin);\n\n\t\t\t\t\treturn s ? Service.mergeSchemas(s, mixin) : mixin;\n\t\t\t\t}, null);\n\n\t\t\t\treturn Service.mergeSchemas(mixedSchema, schema);\n\t\t\t}\n\t\t}\n\n\t\t/* istanbul ignore next */\n\t\treturn schema;\n\t}\n\n\t/**\n\t * Merge two Service schema\n\t *\n\t * @static\n\t * @param {Object} mixinSchema\t\tMixin schema\n\t * @param {Object} svcSchema \t\tService schema\n\t * @returns {Object} Mixed schema\n\t *\n\t * @memberof Service\n\t */\n\tstatic mergeSchemas(mixinSchema, svcSchema) {\n\t\tconst res = _.cloneDeep(mixinSchema);\n\t\tconst mods = _.cloneDeep(svcSchema);\n\n\t\tObject.keys(mods).forEach(key => {\n\t\t\tif ([\"name\", \"version\"].indexOf(key) !== -1 && mods[key] !== undefined) {\n\t\t\t\t// Simple overwrite\n\t\t\t\tres[key] = mods[key];\n\t\t\t} else if (key == \"settings\") {\n\t\t\t\t// Merge with defaultsDeep\n\t\t\t\tres[key] = Service.mergeSchemaSettings(mods[key], res[key]);\n\n\t\t\t} else if (key == \"metadata\") {\n\t\t\t\t// Merge with defaultsDeep\n\t\t\t\tres[key] = Service.mergeSchemaMetadata(mods[key], res[key]);\n\n\t\t\t} else if (key == \"hooks\") {\n\t\t\t\t// Merge & concat\n\t\t\t\tres[key] = Service.mergeSchemaHooks(mods[key], res[key] || {});\n\n\t\t\t} else if (key == \"actions\") {\n\t\t\t\t// Merge with defaultsDeep\n\t\t\t\tres[key] = Service.mergeSchemaActions(mods[key], res[key] || {});\n\n\t\t\t} else if (key == \"methods\") {\n\t\t\t\t// Overwrite\n\t\t\t\tres[key] = Service.mergeSchemaMethods(mods[key], res[key]);\n\n\t\t\t} else if (key == \"events\") {\n\t\t\t\t// Merge & concat by groups\n\t\t\t\tres[key] = Service.mergeSchemaEvents(mods[key], res[key] || {});\n\n\t\t\t} else if ([\"merged\", \"created\", \"started\", \"stopped\"].indexOf(key) !== -1) {\n\t\t\t\t// Concat lifecycle event handlers\n\t\t\t\tres[key] = Service.mergeSchemaLifecycleHandlers(mods[key], res[key]);\n\n\t\t\t} else if (key == \"mixins\") {\n\t\t\t\t// Concat mixins\n\t\t\t\tres[key] = Service.mergeSchemaUniqArray(mods[key], res[key]);\n\n\t\t\t} else if (key == \"dependencies\") {\n\t\t\t\t// Concat mixins\n\t\t\t\tres[key] = Service.mergeSchemaUniqArray(mods[key], res[key]);\n\n\t\t\t} else {\n\t\t\t\tconst customFnName = \"mergeSchema\" + key.replace(/./, key[0].toUpperCase()); // capitalize first letter\n\t\t\t\tif (isFunction(Service[customFnName])) {\n\t\t\t\t\tres[key] = Service[customFnName](mods[key], res[key]);\n\t\t\t\t} else {\n\t\t\t\t\tres[key] = Service.mergeSchemaUnknown(mods[key], res[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn res;\n\t}\n\n\t/**\n\t * Merge `settings` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaSettings(src, target) {\n\t\tif ((target && target.$secureSettings) || (src && src.$secureSettings)) {\n\t\t\tconst srcSS = src && src.$secureSettings ? src.$secureSettings : [];\n\t\t\tconst targetSS = target && target.$secureSettings ? target.$secureSettings : [];\n\t\t\tif (!target) target = {};\n\n\t\t\ttarget.$secureSettings = _.uniq([].concat(srcSS, targetSS));\n\t\t}\n\n\t\treturn _.defaultsDeep(src, target);\n\t}\n\n\t/**\n\t * Merge `metadata` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaMetadata(src, target) {\n\t\treturn _.defaultsDeep(src, target);\n\t}\n\n\t/**\n\t * Merge `mixins` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaUniqArray(src, target) {\n\t\treturn _.uniqWith(_.compact(flatten([src, target])), _.isEqual);\n\t}\n\n\t/**\n\t * Merge `dependencies` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaDependencies(src, target) {\n\t\treturn Service.mergeSchemaUniqArray(src, target);\n\t}\n\n\t/**\n\t * Merge `hooks` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaHooks(src, target) {\n\t\tObject.keys(src).forEach(k => {\n\t\t\tif (target[k] == null)\n\t\t\t\ttarget[k] = {};\n\n\t\t\tObject.keys(src[k]).forEach(k2 => {\n\t\t\t\tconst modHook = wrapToArray(src[k][k2]);\n\t\t\t\tconst resHook = wrapToArray(target[k][k2]);\n\n\t\t\t\ttarget[k][k2] = _.compact(flatten(k == \"before\" ? [resHook, modHook] : [modHook, resHook]));\n\t\t\t});\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Merge `actions` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property (real schema)\n\t * @param {Object} target Target schema property (mixin schema)\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaActions(src, target) {\n\t\tObject.keys(src).forEach(k => {\n\t\t\tif (src[k] === false && target[k]) {\n\t\t\t\tdelete target[k];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst srcAction = wrapToHander(src[k]);\n\t\t\tconst targetAction = wrapToHander(target[k]);\n\n\t\t\tif (srcAction && srcAction.hooks && targetAction && targetAction.hooks) {\n\t\t\t\tObject.keys(srcAction.hooks).forEach(k => {\n\t\t\t\t\tconst modHook = wrapToArray(srcAction.hooks[k]);\n\t\t\t\t\tconst resHook = wrapToArray(targetAction.hooks[k]);\n\n\t\t\t\t\tsrcAction.hooks[k] = _.compact(flatten(k == \"before\" ? [resHook, modHook] : [modHook, resHook]));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttarget[k] = _.defaultsDeep(srcAction, targetAction);\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Merge `methods` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaMethods(src, target) {\n\t\treturn Object.assign(target || {}, src || {});\n\t}\n\n\t/**\n\t * Merge `events` property in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaEvents(src, target) {\n\t\tObject.keys(src).forEach(k => {\n\t\t\tconst modEvent = wrapToHander(src[k]);\n\t\t\tconst resEvent = wrapToHander(target[k]);\n\n\t\t\tlet handler = _.compact(flatten([resEvent ? resEvent.handler : null, modEvent ? modEvent.handler : null]));\n\t\t\tif (handler.length == 1) handler = handler[0];\n\n\t\t\ttarget[k] = _.defaultsDeep(modEvent, resEvent);\n\t\t\ttarget[k].handler = handler;\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Merge `started`, `stopped`, `created` event handler properties in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaLifecycleHandlers(src, target) {\n\t\treturn _.compact(flatten([target, src]));\n\t}\n\n\t/**\n\t * Merge unknown properties in schema\n\t *\n\t * @static\n\t * @param {Object} src Source schema property\n\t * @param {Object} target Target schema property\n\t *\n\t * @returns {Object} Merged schema\n\t */\n\tstatic mergeSchemaUnknown(src, target) {\n\t\tif (src !== undefined)\n\t\t\treturn src;\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Return a versioned full service name.\n\t * @param {String} name\n\t * @param {String|Number?} version\n\t */\n\tstatic getVersionedFullName(name, version) {\n\t\tif (version != null)\n\t\t\treturn (typeof(version) == \"number\" ? \"v\" + version : version) + \".\" + name;\n\n\t\treturn name;\n\t}\n\n}\n\nmodule.exports = Service;\n","/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst util = require(\"util\");\nconst { isString } = require(\"./utils\");\nconst _ = require(\"lodash\");\nconst { RequestSkippedError, MaxCallLevelError } = require(\"./errors\");\n\n/**\n * Merge metadata\n *\n * @param {Object} newMeta\n *\n * @private\n * @memberof Context\n */\nfunction mergeMeta(ctx, newMeta) {\n\tif (newMeta)\n\t\tObject.assign(ctx.meta, newMeta);\n\treturn ctx.meta;\n}\n\n/**\n * Context class for action calls\n *\n * @property {String} id - Context ID\n * @property {ServiceBroker} broker - Broker instance\n * @property {Action} action - Action definition\n * @property {String} [nodeID=null] - Node ID\n * @property {String} parentID - Parent Context ID\n * @property {Boolean} tracing - Enable tracing\n * @property {Number} [level=1] - Level of context\n *\n * @class Context\n */\nclass Context {\n\n\t/**\n\t * Creates an instance of Context.\n\t *\n\t * @param {ServiceBroker} broker - Broker instance\n\t * @param {Endpoint} endpoint\n\t *\n\t * @memberof Context\n\t */\n\tconstructor(broker, endpoint) {\n\n\t\tthis.broker = broker;\n\t\tif (this.broker) {\n\t\t\tthis.nodeID = this.broker.nodeID;\n\t\t\tthis.id = this.broker.generateUid();\n\t\t} else {\n\t\t\tthis.nodeID = null;\n\t\t}\n\n\t\tif (endpoint) {\n\t\t\tthis.setEndpoint(endpoint);\n\t\t} else {\n\t\t\tthis.endpoint = null;\n\t\t\tthis.service = null;\n\t\t\tthis.action = null;\n\t\t\tthis.event = null;\n\t\t}\n\n\t\t// The emitted event \"user.created\" because `ctx.event.name` can be \"user.**\"\n\t\tthis.eventName = null;\n\t\t// Type of event (\"emit\" or \"broadcast\")\n\t\tthis.eventType = null;\n\t\t// The groups of event\n\t\tthis.eventGroups = null;\n\n\t\tthis.options = {\n\t\t\ttimeout: null,\n\t\t\tretries: null,\n\t\t};\n\n\t\tthis.parentID = null;\n\t\tthis.caller = null;\n\n\t\tthis.level = 1;\n\n\t\tthis.params = null;\n\t\tthis.meta = {};\n\t\tthis.locals = {};\n\n\t\tthis.requestID = this.id;\n\n\t\tthis.tracing = null;\n\t\tthis.span = null;\n\t\tthis._spanStack = [];\n\n\t\tthis.needAck = null;\n\t\tthis.ackID = null;\n\n\t\t//this.startTime = null;\n\t\t//his.startHrTime = null;\n\t\t//this.stopTime = null;\n\t\t//this.duration = null;\n\n\t\t//this.error = null;\n\t\tthis.cachedResult = false;\n\t}\n\n\t/**\n\t * Create a new Context instance\n\t *\n\t * @param {ServiceBroker} broker\n\t * @param {Endpoint} endpoint\n\t * @param {Object?} params\n\t * @param {Object} opts\n\t * @returns {Context}\n\t *\n\t * @static\n\t * @memberof Context\n\t */\n\tstatic create(broker, endpoint, params, opts = {}) {\n\t\tconst ctx = new broker.ContextFactory(broker, endpoint);\n\n\t\tif (endpoint != null)\n\t\t\tctx.setEndpoint(endpoint);\n\n\t\tif (params != null) {\n\t\t\tlet cloning = broker ? broker.options.contextParamsCloning : false;\n\t\t\tif (opts.paramsCloning != null)\n\t\t\t\tcloning = opts.paramsCloning;\n\t\t\tctx.setParams(params, cloning);\n\t\t}\n\n\t\t//Object.assign(ctx.options, opts);\n\t\tctx.options = opts;\n\n\t\t// RequestID\n\t\tif (opts.requestID != null)\n\t\t\tctx.requestID = opts.requestID;\n\t\telse if (opts.parentCtx != null && opts.parentCtx.requestID != null)\n\t\t\tctx.requestID = opts.parentCtx.requestID;\n\n\t\t// Meta\n\t\tif (opts.parentCtx != null && opts.parentCtx.meta != null)\n\t\t\tctx.meta = Object.assign({}, opts.parentCtx.meta || {}, opts.meta || {});\n\t\telse if (opts.meta != null)\n\t\t\tctx.meta = opts.meta;\n\n\t\t// ParentID, Level, Caller, Tracing\n\t\tif (opts.parentCtx != null) {\n\t\t\tctx.tracing = opts.parentCtx.tracing;\n\t\t\tctx.level = opts.parentCtx.level + 1;\n\n\t\t\tif (opts.parentCtx.span)\n\t\t\t\tctx.parentID = opts.parentCtx.span.id;\n\t\t\telse\n\t\t\t\tctx.parentID = opts.parentCtx.id;\n\n\t\t\tif (opts.parentCtx.service)\n\t\t\t\tctx.caller = opts.parentCtx.service.fullName;\n\t\t}\n\n\t\t// caller\n\t\tif (opts.caller) {\n\t\t\tctx.caller = opts.caller;\n\t\t}\n\n\t\t// Parent span\n\t\tif (opts.parentSpan != null) {\n\t\t\tctx.parentID = opts.parentSpan.id;\n\t\t\tctx.requestID = opts.parentSpan.traceID;\n\t\t\tctx.tracing = opts.parentSpan.sampled;\n\t\t}\n\n\t\t// Event acknowledgement\n\t\tif (opts.needAck) {\n\t\t\tctx.needAck = opts.needAck;\n\t\t}\n\n\t\treturn ctx;\n\t}\n\n\t/**\n\t * Copy itself without ID.\n\t * @param {Endpoint} ep\n\t * @returns {Context}\n\t */\n\tcopy(ep) {\n\t\tconst newCtx = new this.constructor(this.broker);\n\n\t\tnewCtx.nodeID = this.nodeID;\n\t\tnewCtx.setEndpoint(ep || this.endpoint);\n\t\tnewCtx.options = this.options;\n\t\tnewCtx.parentID = this.parentID;\n\t\tnewCtx.caller = this.caller;\n\t\tnewCtx.level = this.level;\n\t\tnewCtx.params = this.params;\n\t\tnewCtx.meta = this.meta;\n\t\tnewCtx.locals = this.locals;\n\t\tnewCtx.requestID = this.requestID;\n\t\tnewCtx.tracing = this.tracing;\n\t\tnewCtx.span = this.span;\n\t\tnewCtx.needAck = this.needAck;\n\t\tnewCtx.ackID = this.ackID;\n\t\tnewCtx.eventName = this.eventName;\n\t\tnewCtx.eventType = this.eventType;\n\t\tnewCtx.eventGroups = this.eventGroups;\n\n\t\tnewCtx.cachedResult = this.cachedResult;\n\n\t\treturn newCtx;\n\t}\n\n\t/**\n\t * Set endpoint of context\n\t *\n\t * @param {Endpoint} endpoint\n\t * @memberof Context\n\t */\n\tsetEndpoint(endpoint) {\n\t\tthis.endpoint = endpoint;\n\t\tif (endpoint) {\n\t\t\tthis.nodeID = endpoint.id;\n\t\t\tif (endpoint.action) {\n\t\t\t\tthis.action = endpoint.action;\n\t\t\t\tthis.service = this.action.service;\n\t\t\t\tthis.event = null;\n\t\t\t} else if (endpoint.event) {\n\t\t\t\tthis.event =  endpoint.event;\n\t\t\t\tthis.service = this.event.service;\n\t\t\t\tthis.action = null;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Set params of context\n\t *\n\t * @param {Object} newParams\n\t * @param {Boolean} cloning\n\t *\n\t * @memberof Context\n\t */\n\tsetParams(newParams, cloning = false) {\n\t\tif (cloning && newParams)\n\t\t\tthis.params = Object.assign({}, newParams);\n\t\telse\n\t\t\tthis.params = newParams;\n\t}\n\n\t/**\n\t * Call an other action. It creates a sub-context.\n\t *\n\t * @param {String} actionName\n\t * @param {Object?} params\n\t * @param {Object?} opts\n\t * @returns {Promise}\n\t *\n\t * @example <caption>Call an other service with params & options</caption>\n\t * ctx.call(\"posts.get\", { id: 12 }, { timeout: 1000 });\n\t *\n\t * @memberof Context\n\t */\n\tcall(actionName, params, _opts) {\n\t\tconst opts = Object.assign({\n\t\t\tparentCtx: this\n\t\t}, _opts);\n\n\t\tif (this.options.timeout > 0 && this.startHrTime) {\n\t\t\t// Distributed timeout handling. Decrementing the timeout value with the elapsed time.\n\t\t\t// If the timeout below 0, skip the call.\n\t\t\tconst diff = process.hrtime(this.startHrTime);\n\t\t\tconst duration = (diff[0] * 1e3) + (diff[1] / 1e6);\n\t\t\tconst distTimeout = this.options.timeout - duration;\n\n\t\t\tif (distTimeout <= 0) {\n\t\t\t\treturn this.broker.Promise.reject(new RequestSkippedError({ action: actionName, nodeID: this.broker.nodeID }));\n\t\t\t}\n\n\t\t\tif (!opts.timeout || distTimeout < opts.timeout)\n\t\t\t\topts.timeout = distTimeout;\n\t\t}\n\n\t\t// Max calling level check to avoid calling loops\n\t\tif (this.broker.options.maxCallLevel > 0 && this.level >= this.broker.options.maxCallLevel) {\n\t\t\treturn this.broker.Promise.reject(new MaxCallLevelError({ nodeID: this.broker.nodeID, level: this.level }));\n\t\t}\n\n\t\tlet p = this.broker.call(actionName, params, opts);\n\n\t\t// Merge metadata with sub context metadata\n\t\treturn p.then(res => {\n\t\t\tif (p.ctx)\n\t\t\t\tmergeMeta(this, p.ctx.meta);\n\n\t\t\treturn res;\n\t\t}).catch(err => {\n\t\t\tif (p.ctx)\n\t\t\t\tmergeMeta(this, p.ctx.meta);\n\n\t\t\treturn this.broker.Promise.reject(err);\n\t\t});\n\t}\n\n\tmcall(def, _opts) {\n\t\tconst opts = Object.assign({\n\t\t\tparentCtx: this\n\t\t}, _opts);\n\n\t\tif (this.options.timeout > 0 && this.startHrTime) {\n\t\t\t// Distributed timeout handling. Decrementing the timeout value with the elapsed time.\n\t\t\t// If the timeout below 0, skip the call.\n\t\t\tconst diff = process.hrtime(this.startHrTime);\n\t\t\tconst duration = (diff[0] * 1e3) + (diff[1] / 1e6);\n\t\t\tconst distTimeout = this.options.timeout - duration;\n\n\t\t\tif (distTimeout <= 0) {\n\t\t\t\tconst action = (Array.isArray(def) ? def : Object.values(def)).map(d => d.action).join(\", \");\n\t\t\t\treturn this.broker.Promise.reject(new RequestSkippedError({ action, nodeID: this.broker.nodeID }));\n\t\t\t}\n\n\t\t\tif (!opts.timeout || distTimeout < opts.timeout)\n\t\t\t\topts.timeout = distTimeout;\n\t\t}\n\n\t\t// Max calling level check to avoid calling loops\n\t\tif (this.broker.options.maxCallLevel > 0 && this.level >= this.broker.options.maxCallLevel) {\n\t\t\treturn this.broker.Promise.reject(new MaxCallLevelError({ nodeID: this.broker.nodeID, level: this.level }));\n\t\t}\n\n\t\tlet p = this.broker.mcall(def, opts);\n\n\t\t// Merge metadata with sub context metadata\n\t\treturn p.then(res => {\n\t\t\tif (Array.isArray(p.ctx) && p.ctx.length)\n\t\t\t\tp.ctx.forEach(ctx => mergeMeta(this, ctx.meta));\n\n\t\t\treturn res;\n\t\t}).catch(err => {\n\t\t\tif (Array.isArray(p.ctx) && p.ctx.length)\n\t\t\t\tp.ctx.forEach(ctx => mergeMeta(this, ctx.meta));\n\n\t\t\treturn this.broker.Promise.reject(err);\n\t\t});\n\t}\n\n\t/**\n\t * Emit an event (grouped & balanced global event)\n\t *\n\t * @param {string} eventName\n\t * @param {any?} payload\n\t * @param {Object?} opts\n\t * @returns {Promise}\n\t *\n\t * @example\n\t * ctx.emit(\"user.created\", { entity: user, creator: ctx.meta.user });\n\t *\n\t * @memberof Context\n\t */\n\temit(eventName, data, opts) {\n\t\tif (Array.isArray(opts) || isString(opts))\n\t\t\topts = { groups: opts };\n\t\telse if (opts == null)\n\t\t\topts = {};\n\n\t\tif (opts.groups && !Array.isArray(opts.groups))\n\t\t\topts.groups = [opts.groups];\n\n\t\topts.parentCtx = this;\n\t\treturn this.broker.emit(eventName, data, opts);\n\t}\n\n\t/**\n\t * Emit an event for all local & remote services\n\t *\n\t * @param {string} eventName\n\t * @param {any?} payload\n\t * @param {Object?} opts\n\t * @returns {Promise}\n\t *\n\t * @example\n\t * ctx.broadcast(\"user.created\", { entity: user, creator: ctx.meta.user });\n\t *\n\t * @memberof Context\n\t */\n\tbroadcast(eventName, data, opts) {\n\t\tif (Array.isArray(opts) || isString(opts))\n\t\t\topts = { groups: opts };\n\t\telse if (opts == null)\n\t\t\topts = {};\n\n\t\tif (opts.groups && !Array.isArray(opts.groups))\n\t\t\topts.groups = [opts.groups];\n\n\t\topts.parentCtx = this;\n\t\treturn this.broker.broadcast(eventName, data, opts);\n\t}\n\n\t/**\n\t * Start a new child tracing span.\n\t *\n\t * @param {String} name\n\t * @param {Object?} opts\n\t * @returns {Span}\n\t * @memberof Context\n\t */\n\tstartSpan(name, opts) {\n\t\tlet span;\n\t\tif (this.span) {\n\t\t\tspan = this.span.startSpan(name, Object.assign({ ctx: this }, opts));\n\t\t} else {\n\t\t\tspan = this.broker.tracer.startSpan(name, Object.assign({ ctx: this }, opts));\n\t\t}\n\n\t\tthis._spanStack.push(span);\n\t\tthis.span = span;\n\n\t\treturn span;\n\t}\n\n\t/**\n\t * Finish an active span.\n\t *\n\t * @param {Span} span\n\t * @param {Number?} time\n\t */\n\tfinishSpan(span, time) {\n\t\tif (!span.isActive()) return;\n\n\t\tspan.finish(time);\n\n\t\tconst idx = this._spanStack.findIndex(sp => sp == span);\n\t\tif (idx !== -1) {\n\t\t\tthis._spanStack.splice(idx, 1);\n\t\t\tthis.span = this._spanStack[this._spanStack.length - 1];\n\t\t} else {\n\t\t\t/* istanbul ignore next */\n\t\t\tthis.service.logger.warn(\"This span is not assigned to this context\", span);\n\t\t}\n\t}\n\n\t/**\n\t * Convert Context to a printable POJO object.\n\t */\n\ttoJSON() {\n\t\tconst res = _.pick(this, [\n\t\t\t\"id\",\n\t\t\t\"nodeID\",\n\t\t\t\"action.name\",\n\t\t\t\"event.name\",\n\t\t\t\"service.name\",\n\t\t\t\"service.version\",\n\t\t\t\"service.fullName\",\n\t\t\t\"options\",\n\t\t\t\"parentID\",\n\t\t\t\"caller\",\n\t\t\t\"level\",\n\t\t\t\"params\",\n\t\t\t\"meta\",\n\t\t\t//\"locals\",\n\t\t\t\"requestID\",\n\t\t\t\"tracing\",\n\t\t\t\"span\",\n\t\t\t\"needAck\",\n\t\t\t\"ackID\",\n\t\t\t\"eventName\",\n\t\t\t\"eventType\",\n\t\t\t\"eventGroups\",\n\t\t\t\"cachedResult\"\n\t\t]);\n\n\t\treturn res;\n\t}\n\n\t/* istanbul ignore next */\n\t[util.inspect.custom](depth, options) {\n\t\t// https://nodejs.org/docs/latest-v8.x/api/util.html#util_custom_inspection_functions_on_objects\n\t\tif (depth < 0) {\n\t\t\treturn options.stylize(\"[Context]\", \"special\");\n\t\t}\n\n\t\tconst inner = util.inspect(this.toJSON(), options);\n\t\treturn `${options.stylize(\"Context\", \"special\")}< ${inner} >`;\n\t}\n}\n\nmodule.exports = Context;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { MoleculerClientError } = require(\"./errors\");\nconst utils = require(\"./utils\");\n\nmodule.exports = function() {\n\tconst schema = {\n\t\tname: \"$node\",\n\n\t\tactions: {\n\t\t\tlist: {\n\t\t\t\tcache: false,\n\t\t\t\ttracing: false,\n\t\t\t\tparams: {\n\t\t\t\t\twithServices: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tonlyAvailable: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t},\n\t\t\t\thandler(ctx) {\n\t\t\t\t\treturn this.broker.registry.getNodeList(ctx.params);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tservices: {\n\t\t\t\tcache: false,\n\t\t\t\ttracing: false,\n\t\t\t\tparams: {\n\t\t\t\t\tonlyLocal: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tskipInternal: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\twithActions: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\twithEvents: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tonlyAvailable: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tgrouping: { type: \"boolean\", optional: true, convert: true, default: true },\n\t\t\t\t},\n\t\t\t\thandler(ctx) {\n\t\t\t\t\treturn this.broker.registry.getServiceList(ctx.params);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tactions: {\n\t\t\t\tcache: false,\n\t\t\t\ttracing: false,\n\t\t\t\tparams: {\n\t\t\t\t\tonlyLocal: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tskipInternal: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\twithEndpoints: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tonlyAvailable: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t},\n\t\t\t\thandler(ctx) {\n\t\t\t\t\treturn this.broker.registry.getActionList(ctx.params);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tevents: {\n\t\t\t\tcache: false,\n\t\t\t\ttracing: false,\n\t\t\t\tparams: {\n\t\t\t\t\tonlyLocal: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tskipInternal: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\twithEndpoints: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t\tonlyAvailable: { type: \"boolean\", optional: true, convert: true, default: false },\n\t\t\t\t},\n\t\t\t\thandler(ctx) {\n\t\t\t\t\treturn this.broker.registry.getEventList(ctx.params);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\thealth: {\n\t\t\t\tcache: false,\n\t\t\t\ttracing: false,\n\t\t\t\thandler() {\n\t\t\t\t\treturn this.broker.getHealthStatus();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\toptions: {\n\t\t\t\tcache: false,\n\t\t\t\ttracing: false,\n\t\t\t\tparams: {},\n\t\t\t\thandler() {\n\t\t\t\t\treturn utils.safetyObject(this.broker.options, this.broker.options);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmetrics: {\n\t\t\t\tcache: false,\n\t\t\t\ttracing: false,\n\t\t\t\tparams: {\n\t\t\t\t\ttypes: { type: \"multi\", optional: true, rules: [ { type: \"string\" }, { type: \"array\", items: \"string\" } ] },\n\t\t\t\t\tincludes: { type: \"multi\", optional: true, rules: [ { type: \"string\" }, { type: \"array\", items: \"string\" } ] },\n\t\t\t\t\texcludes: { type: \"multi\", optional: true, rules: [ { type: \"string\" }, { type: \"array\", items: \"string\" } ] }\n\t\t\t\t},\n\t\t\t\thandler(ctx) {\n\t\t\t\t\tif (!this.broker.isMetricsEnabled())\n\t\t\t\t\t\treturn this.Promise.reject(new MoleculerClientError(\"Metrics feature is disabled\", 400, \"METRICS_DISABLED\"));\n\n\t\t\t\t\treturn this.broker.metrics.list(ctx.params);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn schema;\n};\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst EventEmitter2 \t\t= require(\"eventemitter2\").EventEmitter2;\nconst _ \t\t\t\t\t= require(\"lodash\");\nconst glob \t\t\t\t\t= require(\"glob\");\nconst path \t\t\t\t\t= require(\"path\");\n\nconst Transit \t\t\t\t= require(\"./transit\");\nconst Registry \t\t\t\t= require(\"./registry\");\nconst E \t\t\t\t\t= require(\"./errors\");\nconst utils \t\t\t\t= require(\"./utils\");\nconst LoggerFactory\t\t\t= require(\"./logger-factory\");\nconst Validators \t\t\t= require(\"./validators\");\n//const AsyncStorage \t\t\t= require(\"./async-storage\");\n\nconst Cachers \t\t\t\t= require(\"./cachers\");\nconst Transporters \t\t\t= require(\"./transporters\");\nconst Serializers \t\t\t= require(\"./serializers\");\nconst H \t\t\t\t\t= require(\"./health\");\nconst MiddlewareHandler\t\t= require(\"./middleware\");\nconst cpuUsage \t\t\t\t= require(\"./cpu-usage\");\n\nconst { MetricRegistry, METRIC }\t= require(\"./metrics\");\nconst { Tracer }\t\t\t= require(\"./tracing\");\n\n/**\n * Default broker options\n */\nconst defaultOptions = {\n\tnamespace: \"\",\n\tnodeID: null,\n\n\tlogger: true,\n\tlogLevel: null,\n\n\ttransporter: null, //\"TCP\",\n\n\trequestTimeout: 0 * 1000,\n\tretryPolicy: {\n\t\tenabled: false,\n\t\tretries: 5,\n\t\tdelay: 100,\n\t\tmaxDelay: 1000,\n\t\tfactor: 2,\n\t\tcheck: err => err && !!err.retryable\n\t},\n\n\tcontextParamsCloning: false,\n\tmaxCallLevel: 0,\n\theartbeatInterval: 10,\n\theartbeatTimeout: 30,\n\n\ttracking: {\n\t\tenabled: false,\n\t\tshutdownTimeout: 5000,\n\t},\n\n\tdisableBalancer: false,\n\n\tregistry: {\n\t\tstrategy: \"RoundRobin\",\n\t\tpreferLocal: true\n\t},\n\n\tcircuitBreaker: {\n\t\tenabled: false,\n\t\tthreshold: 0.5,\n\t\twindowTime: 60,\n\t\tminRequestCount: 20,\n\t\thalfOpenTime: 10 * 1000,\n\t\tcheck: err => err && err.code >= 500\n\t},\n\n\tbulkhead: {\n\t\tenabled: false,\n\t\tconcurrency: 10,\n\t\tmaxQueueSize: 100,\n\t},\n\n\ttransit: {\n\t\tmaxQueueSize: 50 * 1000, // 50k ~ 400MB,\n\t\tmaxChunkSize: 256*1024, // 256KB\n\t\tdisableReconnect: false,\n\t\tdisableVersionCheck: false\n\t},\n\n\tuidGenerator: null,\n\n\terrorHandler: null,\n\n\tcacher: null,\n\tserializer: null,\n\n\tvalidator: true,\n\n\tmetrics: false,\n\ttracing: false,\n\n\tinternalServices: true,\n\tinternalMiddlewares: true,\n\tdependencyInterval: 1000,\n\n\thotReload: false,\n\n\tmiddlewares: null,\n\n\treplCommands: null,\n\treplDelimiter: null,\n\n\tmetadata: {},\n\n\tskipProcessEventRegistration: false,\n\n\t/**\n\t * Maximum size of objects that can be serialized\n\t *\n\t * On serialization process, check each object property size (based on length or size property value)\n\t * and trim it, if object size bigger than maxSafeObjectSize value\n\t *\n\t * @type {(number|null)}\n\t */\n\tmaxSafeObjectSize: null,\n\t// ServiceFactory: null,\n\t// ContextFactory: null\n\t// Promise: null\n};\n\n/**\n * Service broker class\n *\n * @class ServiceBroker\n */\nclass ServiceBroker {\n\n\t/**\n\t * Creates an instance of ServiceBroker.\n\t *\n\t * @param {Object} options\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tconstructor(options) {\n\t\ttry {\n\t\t\tthis.options = _.defaultsDeep(options, defaultOptions);\n\n\t\t\t// Custom Promise lib\n\t\t\tif (this.options.Promise) {\n\t\t\t\tthis.Promise = this.options.Promise;\n\t\t\t} else {\n\t\t\t\t// Use native Promise lib\n\t\t\t\tthis.Promise = Promise;\n\t\t\t}\n\t\t\tutils.polyfillPromise(this.Promise);\n\t\t\tServiceBroker.Promise = this.Promise;\n\n\t\t\t// Broker started flag\n\t\t\tthis.started = false;\n\n\t\t\t// Class factories\n\t\t\tthis.ServiceFactory = this.options.ServiceFactory || require(\"./service\");\n\t\t\tthis.ContextFactory = this.options.ContextFactory || require(\"./context\");\n\n\t\t\t// Namespace\n\t\t\tthis.namespace = this.options.namespace || \"\";\n\n\t\t\t// Metadata\n\t\t\tthis.metadata = this.options.metadata || {};\n\n\t\t\t// Self nodeID\n\t\t\tthis.nodeID = this.options.nodeID || utils.getNodeID();\n\n\t\t\t// Instance ID\n\t\t\tthis.instanceID = utils.generateToken();\n\n\t\t\t// Internal maps\n\t\t\tthis.services = [];\n\n\t\t\t// Internal event bus\n\t\t\tthis.localBus = new EventEmitter2({\n\t\t\t\twildcard: true,\n\t\t\t\tmaxListeners: 100\n\t\t\t});\n\n\t\t\t// Log Factory\n\t\t\tthis.loggerFactory = new LoggerFactory(this);\n\t\t\tthis.loggerFactory.init(this.options.logger);\n\n\t\t\t// Logger\n\t\t\tthis.logger = this.getLogger(\"broker\");\n\n\t\t\tthis.logger.info(`Moleculer v${this.MOLECULER_VERSION} is starting...`);\n\t\t\tthis.logger.info(`Namespace: ${this.namespace || \"<not defined>\"}`);\n\t\t\tthis.logger.info(`Node ID: ${this.nodeID}`);\n\n\t\t\t// Async storage for Contexts\n\t\t\t//this.scope = new AsyncStorage(this);\n\n\t\t\t// Metrics Registry\n\t\t\tthis.metrics = new MetricRegistry(this, this.options.metrics);\n\t\t\tthis.metrics.init();\n\t\t\tthis.registerMoleculerMetrics();\n\n\t\t\t// Middleware handler\n\t\t\tthis.middlewares = new MiddlewareHandler(this);\n\n\t\t\t// Service registry\n\t\t\tthis.registry = new Registry(this);\n\n\t\t\t// Cacher\n\t\t\tthis.cacher = Cachers.resolve(this.options.cacher);\n\t\t\tif (this.cacher) {\n\t\t\t\tthis.cacher.init(this);\n\n\t\t\t\tconst name = this.getConstructorName(this.cacher);\n\t\t\t\tthis.logger.info(`Cacher: ${name}`);\n\t\t\t}\n\n\t\t\t// Serializer\n\t\t\tthis.serializer = Serializers.resolve(this.options.serializer);\n\t\t\tthis.serializer.init(this);\n\n\t\t\tconst serializerName = this.getConstructorName(this.serializer);\n\t\t\tthis.logger.info(`Serializer: ${serializerName}`);\n\n\t\t\t// Validator\n\t\t\tif (this.options.validator) {\n\t\t\t\tthis.validator = Validators.resolve(this.options.validator);\n\t\t\t\tif (this.validator) {\n\t\t\t\t\tconst validatorName = this.getConstructorName(this.validator);\n\t\t\t\t\tthis.logger.info(`Validator: ${validatorName}`);\n\t\t\t\t\tthis.validator.init(this);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Tracing\n\t\t\tthis.tracer = new Tracer(this, this.options.tracing);\n\t\t\tthis.tracer.init();\n\n\t\t\t// Register middlewares\n\t\t\tthis.registerMiddlewares(this.options.middlewares);\n\n\t\t\t// Transit & Transporter\n\t\t\tif (this.options.transporter) {\n\t\t\t\tconst tx = Transporters.resolve(this.options.transporter);\n\t\t\t\tthis.transit = new Transit(this, tx, this.options.transit);\n\n\t\t\t\tconst txName = this.getConstructorName(tx);\n\t\t\t\tthis.logger.info(`Transporter: ${txName}`);\n\n\t\t\t\tif (this.options.disableBalancer) {\n\t\t\t\t\tif (tx.hasBuiltInBalancer) {\n\t\t\t\t\t\tthis.logger.info(\"The broker built-in balancer is DISABLED.\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.logger.warn(`The ${txName} has no built-in balancer. Broker balancer is ENABLED.`);\n\t\t\t\t\t\tthis.options.disableBalancer = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Change the call method if balancer is disabled\n\t\t\tif (this.options.disableBalancer) {\n\t\t\t\tthis.call = this.callWithoutBalancer;\n\t\t\t}\n\n\t\t\tthis.registry.init(this);\n\n\t\t\t// Register internal actions\n\t\t\tif (this.options.internalServices)\n\t\t\t\tthis.registerInternalServices(this.options.internalServices);\n\n\t\t\t// Call `created` event handler in middlewares\n\t\t\tthis.callMiddlewareHookSync(\"created\", [this]);\n\n\t\t\t// Call `created` event handler from options\n\t\t\tif (utils.isFunction(this.options.created))\n\t\t\t\tthis.options.created(this);\n\n\t\t\t// Graceful exit\n\t\t\tthis._closeFn = () => {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthis.stop()\n\t\t\t\t\t.catch(err => this.logger.error(err))\n\t\t\t\t\t.then(() => process.exit(0));\n\t\t\t};\n\n\t\t\tprocess.setMaxListeners(0);\n\t\t\tif (this.options.skipProcessEventRegistration === false) {\n\t\t\t\tprocess.on(\"beforeExit\", this._closeFn);\n\t\t\t\tprocess.on(\"exit\", this._closeFn);\n\t\t\t\tprocess.on(\"SIGINT\", this._closeFn);\n\t\t\t\tprocess.on(\"SIGTERM\", this._closeFn);\n\t\t\t}\n\n\t\t} catch(err) {\n\t\t\tif (this.logger)\n\t\t\t\tthis.fatal(\"Unable to create ServiceBroker.\", err, true);\n\t\t\telse {\n\t\t\t\t/* eslint-disable-next-line no-console */\n\t\t\t\tconsole.error(\"Unable to create ServiceBroker.\", err);\n\t\t\t\tprocess.exit(1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Register middlewares (user & internal)\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tregisterMiddlewares(userMiddlewares) {\n\t\t// Register user middlewares\n\t\tif (Array.isArray(userMiddlewares) && userMiddlewares.length > 0) {\n\t\t\t_.compact(userMiddlewares).forEach(mw => this.middlewares.add(mw));\n\n\t\t\tthis.logger.info(`Registered ${this.middlewares.count()} custom middleware(s).`);\n\t\t}\n\n\t\tif (this.options.internalMiddlewares) {\n\t\t\t// Register internal middlewares\n\n\t\t\tconst prevCount = this.middlewares.count();\n\n\t\t\t// 0. ActionHook\n\t\t\tthis.middlewares.add(\"ActionHook\");\n\n\t\t\t// 1. Validator\n\t\t\tif (this.validator && utils.isFunction(this.validator.middleware)) {\n\t\t\t\tconst mw = this.validator.middleware(this);\n\t\t\t\tif (utils.isPlainObject(mw))\n\t\t\t\t\tthis.middlewares.add(mw);\n\t\t\t\telse\n\t\t\t\t\tthis.middlewares.add({ localAction: mw });\n\t\t\t}\n\n\t\t\t// 2. Bulkhead\n\t\t\tthis.middlewares.add(\"Bulkhead\");\n\n\t\t\t// 3. Cacher\n\t\t\tif (this.cacher && utils.isFunction(this.cacher.middleware)) {\n\t\t\t\tconst mw = this.cacher.middleware();\n\t\t\t\tif (utils.isPlainObject(mw))\n\t\t\t\t\tthis.middlewares.add(mw);\n\t\t\t\telse\n\t\t\t\t\tthis.middlewares.add({ localAction: mw });\n\t\t\t}\n\n\t\t\t// 4. Context tracker\n\t\t\tthis.middlewares.add(\"ContextTracker\");\n\n\t\t\t// 5. CircuitBreaker\n\t\t\tthis.middlewares.add(\"CircuitBreaker\");\n\n\t\t\t// 6. Timeout\n\t\t\tthis.middlewares.add(\"Timeout\");\n\n\t\t\t// 7. Retry\n\t\t\tthis.middlewares.add(\"Retry\");\n\n\t\t\t// 8. Fallback\n\t\t\tthis.middlewares.add(\"Fallback\");\n\n\t\t\t// 9. Error handler\n\t\t\tthis.middlewares.add(\"ErrorHandler\");\n\n\t\t\t// 10. Tracing\n\t\t\tthis.middlewares.add(\"Tracing\");\n\n\t\t\t// 11. Metrics\n\t\t\tthis.middlewares.add(\"Metrics\");\n\n\t\t\t// 12. Debounce\n\t\t\tthis.middlewares.add(\"Debounce\");\n\n\t\t\t// 13. Throttle\n\t\t\tthis.middlewares.add(\"Throttle\");\n\n\t\t\tif (this.options.hotReload) {\n\t\t\t\t// 14. Hot Reload\n\t\t\t\tthis.middlewares.add(\"HotReload\");\n\t\t\t}\n\n\t\t\tthis.logger.info(`Registered ${this.middlewares.count() - prevCount} internal middleware(s).`);\n\t\t}\n\n\t\tthis.createService = this.wrapMethod(\"createService\", this.createService);\n\t\tthis.registerLocalService = this.wrapMethod(\"registerLocalService\", this.registerLocalService);\n\t\tthis.destroyService = this.wrapMethod(\"destroyService\", this.destroyService);\n\t\tthis.call = this.wrapMethod(\"call\", this.call);\n\t\tthis.callWithoutBalancer = this.wrapMethod(\"call\", this.callWithoutBalancer);\n\t\tthis.mcall = this.wrapMethod(\"mcall\", this.mcall);\n\t\tthis.emit = this.wrapMethod(\"emit\", this.emit);\n\t\tthis.broadcast = this.wrapMethod(\"broadcast\", this.broadcast);\n\t\tthis.broadcastLocal = this.wrapMethod(\"broadcastLocal\", this.broadcastLocal);\n\n\t\tthis.metrics.set(METRIC.MOLECULER_BROKER_MIDDLEWARES_TOTAL,this.middlewares.count());\n\t}\n\n\t/**\n\t * Register Moleculer Core metrics.\n\t */\n\tregisterMoleculerMetrics() {\n\t\tif (!this.isMetricsEnabled()) return;\n\n\t\t// --- MOLECULER NODE METRICS ---\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_NODE_TYPE, type: METRIC.TYPE_INFO, description: \"Moleculer implementation type\" }).set(\"nodejs\");\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_NODE_VERSIONS_MOLECULER, type: METRIC.TYPE_INFO, description: \"Moleculer version number\" }).set(ServiceBroker.MOLECULER_VERSION);\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_NODE_VERSIONS_PROTOCOL, type: METRIC.TYPE_INFO, description: \"Moleculer protocol version\" }).set(ServiceBroker.PROTOCOL_VERSION);\n\n\t\t// --- MOLECULER BROKER METRICS ---\n\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_BROKER_NAMESPACE, type: METRIC.TYPE_INFO, description: \"Moleculer namespace\" }).set(this.namespace);\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_BROKER_STARTED, type: METRIC.TYPE_GAUGE, description: \"ServiceBroker started\" }).set(0);\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_BROKER_LOCAL_SERVICES_TOTAL, type: METRIC.TYPE_GAUGE, description: \"Number of local services\" }).set(0);\n\t\tthis.metrics.register({ name: METRIC.MOLECULER_BROKER_MIDDLEWARES_TOTAL, type: METRIC.TYPE_GAUGE, description: \"Number of local middlewares\" }).set(0);\n\t}\n\n\t/**\n\t * Start broker. If has transporter, transporter.connect will be called.\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tstart() {\n\t\tconst startTime = Date.now();\n\n\t\treturn this.Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\t//this.tracer.restartScope();\n\t\t\t\t//this.scope.enable();\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.callMiddlewareHook(\"starting\", [this]);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (this.transit)\n\t\t\t\t\treturn this.transit.connect();\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// Call service `started` handlers\n\t\t\t\treturn this.Promise.all(this.services.map(svc => svc._start.call(svc)))\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tthis.logger.error(\"Unable to start all services.\", err);\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tthis.started = true;\n\t\t\t\tthis.metrics.set(METRIC.MOLECULER_BROKER_STARTED, 1);\n\t\t\t\tthis.broadcastLocal(\"$broker.started\");\n\t\t\t\tthis.registry.regenerateLocalRawInfo(true);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (this.transit)\n\t\t\t\t\treturn this.transit.ready();\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.callMiddlewareHook(\"started\", [this]);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (utils.isFunction(this.options.started))\n\t\t\t\t\treturn this.options.started(this);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tconst duration = Date.now() - startTime;\n\t\t\t\tthis.logger.info(`✔ ServiceBroker with ${this.services.length} service(s) is started successfully in ${utils.humanize(duration)}.`);\n\t\t\t});\n\t}\n\n\t/**\n\t * Stop broker. If has transporter, transporter.disconnect will be called.\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tstop() {\n\t\tthis.started = false;\n\t\treturn this.Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tif (this.transit) {\n\t\t\t\t\tthis.registry.regenerateLocalRawInfo(true);\n\t\t\t\t\t// Send empty node info in order to block incoming requests\n\t\t\t\t\treturn this.registry.discoverer.sendLocalNodeInfo();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.callMiddlewareHook(\"stopping\", [this], { reverse: true });\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// Call service `stopped` handlers\n\t\t\t\treturn this.Promise.all(this.services.map(svc => svc._stop.call(svc)))\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tthis.logger.error(\"Unable to stop all services.\", err);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (this.transit) {\n\t\t\t\t\treturn this.transit.disconnect();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (this.cacher) {\n\t\t\t\t\treturn this.cacher.close();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (this.metrics) {\n\t\t\t\t\treturn this.metrics.stop();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (this.tracer) {\n\t\t\t\t\treturn this.tracer.stop();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.registry.stop();\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.callMiddlewareHook(\"stopped\", [this], { reverse: true });\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tif (utils.isFunction(this.options.stopped))\n\t\t\t\t\treturn this.options.stopped(this);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthis.logger.error(err);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tthis.logger.info(\"ServiceBroker is stopped. Good bye.\");\n\t\t\t\tthis.metrics.set(METRIC.MOLECULER_BROKER_STARTED, 0);\n\n\t\t\t\tthis.broadcastLocal(\"$broker.stopped\");\n\n\t\t\t\tif (this.options.skipProcessEventRegistration === false) {\n\t\t\t\t\tprocess.removeListener(\"beforeExit\", this._closeFn);\n\t\t\t\t\tprocess.removeListener(\"exit\", this._closeFn);\n\t\t\t\t\tprocess.removeListener(\"SIGINT\", this._closeFn);\n\t\t\t\t\tprocess.removeListener(\"SIGTERM\", this._closeFn);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn this.loggerFactory.stop();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Silent\n\t\t\t});\n\t}\n\n\t/**\n\t * Switch the console to REPL mode.\n\t *\n\t * @example\n\t * broker.start().then(() => broker.repl());\n\t * @returns {object}\n\t */\n\trepl() {\n\t\tlet repl;\n\t\ttry {\n\t\t\trepl = require(\"moleculer-repl\");\n\t\t}\n\t\tcatch (error) {\n\t\t\tconsole.error(\"The 'moleculer-repl' package is missing. Please install it with 'npm install moleculer-repl' command.\"); // eslint-disable-line no-console\n\t\t\tthis.logger.error(\"The 'moleculer-repl' package is missing. Please install it with 'npm install moleculer-repl' command.\");\n\t\t\tthis.logger.debug(\"ERROR\", error);\n\t\t\treturn;\n\t\t}\n\n\t\tif (repl)\n\t\t{\n\t\t\tlet opts = null;\n\t\t\tconst delimiter = this.options.replDelimiter;\n\t\t\tconst customCommands = this.options.replCommands;\n\t\t\tdelimiter && (opts = { delimiter });\n\t\t\tcustomCommands && (opts = { ...opts,customCommands });\n\t\t\treturn repl(this, opts);\n\t\t}\n\t}\n\n\t/**\n\t * Global error handler.\n\t *\n\t * @param {Error} err\n\t * @param {object} info\n\t * @returns\n\t * @memberof ServiceBroker\n\t */\n\terrorHandler(err, info) {\n\t\tif (this.options.errorHandler) {\n\t\t\treturn this.options.errorHandler.call(this, err, info);\n\t\t}\n\n\t\tthrow err;\n\t}\n\n\t/**\n\t * Wrap a method with middlewares\n\t *\n\t * @param {string} method\n\t * @param {Function} handler\n\t * @param {any} bindTo\n\t * @param {Object} opts\n\t * @returns {Function}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\twrapMethod(name, handler, bindTo, opts) {\n\t\treturn this.middlewares.wrapMethod(name, handler, bindTo, opts);\n\t}\n\n\t/**\n\t * Call a handler asynchronously in all middlewares\n\t *\n\t * @param {String} method\n\t * @param {Array<any>} args\n\t * @param {Object} opts\n\t * @returns {Promise}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tcallMiddlewareHook(name, args, opts) {\n\t\treturn this.middlewares.callHandlers(name, args, opts);\n\t}\n\n\t/**\n\t * Call a handler synchronously in all middlewares\n\t *\n\t * @param {String} method\n\t * @param {Array<any>} args\n\t * @param {Object} opts\n\t * @returns\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tcallMiddlewareHookSync(name, args, opts) {\n\t\treturn this.middlewares.callSyncHandlers(name, args, opts);\n\t}\n\n\t/**\n\t * Check metrics are enabled.\n\t *\n\t * @returns {boolean}\n\t * @memberof ServiceBroker\n\t */\n\tisMetricsEnabled() {\n\t\treturn this.metrics.isEnabled();\n\t}\n\n\t/**\n\t * Check tracing is enabled.\n\t *\n\t * @returns {boolean}\n\t * @memberof ServiceBroker\n\t */\n\tisTracingEnabled() {\n\t\treturn this.tracer.isEnabled();\n\t}\n\n\t/**\n\t * Get a custom logger for sub-modules (service, transporter, cacher, context...etc)\n\t *\n\t * @param {String} mod\tName of module\n\t * @param {Object} props\tModule properties (service name, version, ...etc\n\t * @returns {ModuleLogger}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tgetLogger(mod, props) {\n\t\tlet bindings = Object.assign({\n\t\t\tnodeID: this.nodeID,\n\t\t\tns: this.namespace,\n\t\t\tmod\n\t\t}, props);\n\n\t\treturn this.loggerFactory.getLogger(bindings);\n\t}\n\n\t/**\n\t * Fatal error. Print the message to console and exit the process (if need)\n\t *\n\t * @param {String} message\n\t * @param {Error?} err\n\t * @param {boolean} [needExit=true]\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tfatal(message, err, needExit = true) {\n\t\tif (this.logger)\n\t\t\tthis.logger.fatal(message, err);\n\t\telse\n\t\t\tconsole.error(message, err); // eslint-disable-line no-console\n\n\t\tif (needExit)\n\t\t\tprocess.exit(1);\n\t}\n\n\t/**\n\t * Load services from a folder\n\t *\n\t * @param {string} [folder=\"./services\"]\t\tFolder of services\n\t * @param {string} [fileMask=\"**\\/*.service.js\"]\tService filename mask\n\t * @returns\t{Number}\t\t\t\t\t\t\tNumber of found services\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tloadServices(folder = \"./services\", fileMask = \"**/*.service.js\") {\n\t\tthis.logger.debug(`Search services in '${folder}/${fileMask}'...`);\n\n\t\tlet serviceFiles;\n\n\t\tif (Array.isArray(fileMask))\n\t\t\tserviceFiles = fileMask.map(f => path.join(folder, f));\n\t\telse\n\t\t\tserviceFiles = glob.sync(path.join(folder, fileMask));\n\n\t\tif (serviceFiles)\n\t\t\tserviceFiles.forEach(filename => this.loadService(filename));\n\n\t\treturn serviceFiles.length;\n\t}\n\n\t/**\n\t * Load a service from file\n\t *\n\t * @param {string} \t\tPath of service\n\t * @returns\t{Service}\tLoaded service\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tloadService(filePath) {\n\t\tlet fName, schema;\n\n\t\ttry {\n\t\t\tfName = require.resolve(path.resolve(filePath));\n\t\t\tthis.logger.debug(`Load service '${path.basename(fName)}'...`);\n\n\t\t\tconst r = require(fName);\n\t\t\tschema = r.default != null ? r.default : r;\n\n\t\t\tlet svc;\n\t\t\tschema = this.normalizeSchemaConstructor(schema);\n\t\t\tif (Object.prototype.isPrototypeOf.call(this.ServiceFactory, schema)) {\n\t\t\t\t// Service implementation\n\t\t\t\tsvc = new schema(this);\n\n\t\t\t\t// If broker is started, call the started lifecycle event of service\n\t\t\t\tif (this.started)\n\t\t\t\t\tthis._restartService(svc);\n\n\t\t\t} else if (utils.isFunction(schema)) {\n\t\t\t\t// Function\n\t\t\t\tsvc = schema(this);\n\t\t\t\tif (!(svc instanceof this.ServiceFactory)) {\n\t\t\t\t\tsvc = this.createService(svc);\n\t\t\t\t} else {\n\t\t\t\t\t// If broker is started, call the started lifecycle event of service\n\t\t\t\t\tif (this.started)\n\t\t\t\t\t\tthis._restartService(svc);\n\t\t\t\t}\n\n\t\t\t} else if (schema) {\n\t\t\t\t// Schema object\n\t\t\t\tsvc = this.createService(schema);\n\t\t\t}\n\n\t\t\tif (svc) {\n\t\t\t\tsvc.__filename = fName;\n\t\t\t}\n\n\t\t\treturn svc;\n\n\t\t} catch (e) {\n\t\t\tthis.logger.error(`Failed to load service '${filePath}'`, e);\n\t\t\tthrow e;\n\t\t}\n\t}\n\n\t/**\n\t * Create a new service by schema\n\t *\n\t * @param {any} schema\tSchema of service or a Service class\n\t * @param {any=} schemaMods\tModified schema\n\t * @returns {Service}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tcreateService(schema, schemaMods) {\n\t\tlet service;\n\n\t\tschema = this.normalizeSchemaConstructor(schema);\n\t\tif (Object.prototype.isPrototypeOf.call(this.ServiceFactory, schema)) {\n\t\t\tservice = new schema(this, schemaMods);\n\t\t} else {\n\t\t\tlet s = schema;\n\t\t\tif (schemaMods)\n\t\t\t\ts = this.ServiceFactory.mergeSchemas(schema, schemaMods);\n\n\t\t\tservice = new this.ServiceFactory(this, s);\n\t\t}\n\n\t\t// If broker has started yet, call the started lifecycle event of service\n\t\tif (this.started)\n\t\t\tthis._restartService(service);\n\n\t\treturn service;\n\t}\n\n\t/**\n\t * Restart a hot-reloaded service after creation.\n\t *\n\t * @param {Service} service\n\t * @returns {Promise}\n\t * @memberof ServiceBroker\n\t * @private\n\t */\n\t_restartService(service) {\n\t\treturn service._start.call(service)\n\t\t\t.catch(err => this.logger.error(\"Unable to start service.\", err));\n\t}\n\n\t/**\n\t * Add a local service instance\n\t *\n\t * @param {Service} service\n\t * @memberof ServiceBroker\n\t */\n\taddLocalService(service) {\n\t\tthis.services.push(service);\n\t\tthis.metrics.set(METRIC.MOLECULER_BROKER_LOCAL_SERVICES_TOTAL, this.services.length);\n\t}\n\n\t/**\n\t * Register a local service to Service Registry\n\t *\n\t * @param {Object} registryItem\n\t * @memberof ServiceBroker\n\t */\n\tregisterLocalService(registryItem) {\n\t\tthis.registry.registerLocalService(registryItem);\n\t}\n\n\t/**\n\t * Destroy a local service\n\t *\n\t * @param {Service|string|object} service\n\t * @returns Promise<void>\n\t * @memberof ServiceBroker\n\t */\n\tdestroyService(service) {\n\t\tlet serviceName;\n\t\tlet serviceVersion;\n\t\tif (utils.isString(service)) {\n\t\t\tserviceName = service;\n\t\t\tservice = this.getLocalService(service);\n\t\t} else if (utils.isPlainObject(service)) {\n\t\t\tserviceName = service.name;\n\t\t\tserviceVersion  = service.version;\n\t\t\tservice = this.getLocalService(service.name, service.version);\n\t\t}\n\n\t\tif (!service) {\n\t\t\treturn this.Promise.reject(new E.ServiceNotFoundError({ service: serviceName, version: serviceVersion }));\n\t\t}\n\n\t\treturn this.Promise.resolve()\n\t\t\t.then(() => service._stop())\n\t\t\t.catch(err => {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthis.logger.error(`Unable to stop '${service.fullName}' service.`, err);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tutils.removeFromArray(this.services, service);\n\t\t\t\tthis.registry.unregisterService(service.fullName, this.nodeID);\n\n\t\t\t\tthis.logger.info(`Service '${service.fullName}' is stopped.`);\n\t\t\t\tthis.servicesChanged(true);\n\n\t\t\t\tthis.metrics.set(METRIC.MOLECULER_BROKER_LOCAL_SERVICES_TOTAL, this.services.length);\n\t\t\t});\n\t}\n\n\t/**\n\t * It will be called when a new local or remote service\n\t * is registered or unregistered.\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tservicesChanged(localService = false) {\n\t\tthis.broadcastLocal(\"$services.changed\", { localService });\n\n\t\t// Should notify remote nodes, because our service list is changed.\n\t\tif (this.started && localService && this.transit) {\n\t\t\tthis.registry.discoverer.sendLocalNodeInfo();\n\t\t}\n\t}\n\n\t/**\n\t * Register internal services\n\t * @param {Object?} opts\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tregisterInternalServices(opts) {\n\t\topts = utils.isObject(opts) ? opts : {};\n\t\tthis.createService(require(\"./internals\")(this), opts[\"$node\"]);\n\t}\n\n\t/**\n\t * Get a local service by name\n\t *\n\t * Example:\n\t * \tgetLocalService(\"v2.posts\");\n\t * \tgetLocalService({ name: \"posts\", version: 2 });\n\t *\n\t * @param {String|ServiceSearchObj} name\n\t * @param {String|Number?} version\n\t * @returns {Service}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tgetLocalService(name, version) {\n\t\tif (arguments.length == 1) {\n\t\t\tif (utils.isString(name))\n\t\t\t\treturn this.services.find(service => service.fullName == name);\n\t\t\telse if (utils.isPlainObject(name))\n\t\t\t\treturn this.services.find(service => service.name == name.name && service.version == name.version);\n\t\t}\n\t\t// Deprecated\n\t\treturn this.services.find(service => service.name == name && service.version == version);\n\t}\n\n\t/**\n\t * Wait for other services\n\t *\n\t * @param {String|Array<String>} serviceNames\n\t * @param {Number} timeout Timeout in milliseconds\n\t * @param {Number} interval Check interval in milliseconds\n\t * @returns {Promise}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\twaitForServices(serviceNames, timeout, interval, logger = this.logger) {\n\t\tif (!Array.isArray(serviceNames))\n\t\t\tserviceNames = [serviceNames];\n\n\t\tserviceNames = _.uniq(_.compact(serviceNames.map(x => {\n\t\t\tif (utils.isPlainObject(x) && x.name)\n\t\t\t\treturn this.ServiceFactory.getVersionedFullName(x.name, x.version);\n\n\t\t\tif (utils.isString(x))\n\t\t\t\treturn x;\n\t\t})));\n\n\t\tif (serviceNames.length == 0)\n\t\t\treturn this.Promise.resolve();\n\n\t\tlogger.info(`Waiting for service(s) '${serviceNames.join(\", \")}'...`);\n\n\t\tconst startTime = Date.now();\n\t\treturn new this.Promise((resolve, reject) => {\n\t\t\tconst check = () => {\n\t\t\t\tconst count = serviceNames.filter(fullName => {\n\t\t\t\t\treturn this.registry.hasService(fullName);\n\t\t\t\t});\n\n\t\t\t\tif (count.length == serviceNames.length) {\n\t\t\t\t\tlogger.info(`Service(s) '${serviceNames.join(\", \")}' are available.`);\n\t\t\t\t\treturn resolve();\n\t\t\t\t}\n\n\t\t\t\tlogger.debug(`${count.length} of ${serviceNames.length} services are available. Waiting further...`);\n\n\t\t\t\tif (timeout && Date.now() - startTime > timeout)\n\t\t\t\t\treturn reject(new E.MoleculerServerError(\"Services waiting is timed out.\", 500, \"WAITFOR_SERVICES\", { services: serviceNames }));\n\n\t\t\t\tsetTimeout(check, interval || this.options.dependencyInterval || 1000);\n\t\t\t};\n\n\t\t\tcheck();\n\t\t});\n\t}\n\n\t/**\n\t * Find the next available endpoint for action\n\t *\n\t * @param {String} actionName\n\t * @param {Object?} opts\n\t * @param {Context?} ctx\n\t * @returns {Endpoint|Error}\n\t *\n\t * @performance-critical\n\t * @memberof ServiceBroker\n\t */\n\tfindNextActionEndpoint(actionName, opts, ctx) {\n\t\tif (typeof actionName !== \"string\") {\n\t\t\treturn actionName;\n\t\t} else {\n\t\t\tif (opts && opts.nodeID) {\n\t\t\t\tconst nodeID = opts.nodeID;\n\t\t\t\t// Direct call\n\t\t\t\tconst endpoint = this.registry.getActionEndpointByNodeId(actionName, nodeID);\n\t\t\t\tif (!endpoint) {\n\t\t\t\t\tthis.logger.warn(`Service '${actionName}' is not found on '${nodeID}' node.`);\n\t\t\t\t\treturn new E.ServiceNotFoundError({ action: actionName, nodeID });\n\t\t\t\t}\n\t\t\t\treturn endpoint;\n\n\t\t\t} else {\n\t\t\t\t// Get endpoint list by action name\n\t\t\t\tconst epList = this.registry.getActionEndpoints(actionName);\n\t\t\t\tif (!epList) {\n\t\t\t\t\tthis.logger.warn(`Service '${actionName}' is not registered.`);\n\t\t\t\t\treturn new E.ServiceNotFoundError({ action: actionName });\n\t\t\t\t}\n\n\t\t\t\t// Get the next available endpoint\n\t\t\t\tconst endpoint = epList.next(ctx);\n\t\t\t\tif (!endpoint) {\n\t\t\t\t\tconst errMsg = `Service '${actionName}' is not available.`;\n\t\t\t\t\tthis.logger.warn(errMsg);\n\t\t\t\t\treturn new E.ServiceNotAvailableError({ action: actionName });\n\t\t\t\t}\n\t\t\t\treturn endpoint;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Call an action\n\t *\n\t * @param {String} actionName\tname of action\n\t * @param {Object?} params\t\tparams of action\n\t * @param {Object?} opts\t\toptions of call (optional)\n\t * @returns {Promise}\n\t *\n\t * @performance-critical\n\t * @memberof ServiceBroker\n\t */\n\tcall(actionName, params, opts = {}) {\n\t\tif (params === undefined)\n\t\t\tparams = {}; // Backward compatibility\n\n\t\t// Create context\n\t\tlet ctx;\n\t\tif (opts.ctx != null) {\n\n\t\t\tconst endpoint = this.findNextActionEndpoint(actionName, opts, opts.ctx);\n\t\t\tif (endpoint instanceof Error) {\n\t\t\t\treturn this.Promise.reject(endpoint).catch(err => this.errorHandler(err, { actionName, params, opts }));\n\t\t\t}\n\n\t\t\t// Reused context\n\t\t\tctx = opts.ctx;\n\t\t\tctx.endpoint = endpoint;\n\t\t\tctx.nodeID = endpoint.id;\n\t\t\tctx.action = endpoint.action;\n\t\t\tctx.service = endpoint.action.service;\n\t\t} else {\n\t\t\t// New root context\n\t\t\tctx = this.ContextFactory.create(this, null, params, opts);\n\n\t\t\tconst endpoint = this.findNextActionEndpoint(actionName, opts, ctx);\n\t\t\tif (endpoint instanceof Error) {\n\t\t\t\treturn this.Promise.reject(endpoint).catch(err => this.errorHandler(err, { actionName, params, opts }));\n\t\t\t}\n\n\t\t\tctx.setEndpoint(endpoint);\n\t\t}\n\n\t\tif (ctx.endpoint.local)\n\t\t\tthis.logger.debug(\"Call action locally.\", { action: ctx.action.name, requestID: ctx.requestID });\n\t\telse\n\t\t\tthis.logger.debug(\"Call action on remote node.\", { action: ctx.action.name, nodeID: ctx.nodeID, requestID: ctx.requestID });\n\n\t\t//this.setCurrentContext(ctx);\n\n\t\tlet p = ctx.endpoint.action.handler(ctx);\n\n\t\t// Pointer to Context\n\t\tp.ctx = ctx;\n\n\t\treturn p;\n\t}\n\n\t/**\n\t * Call an action without built-in balancer.\n\t * You don't call it directly. Broker will replace the\n\t * original 'call' method to this if you disable the\n\t * built-in balancer with the \"disableBalancer\" option.\n\t *\n\t * @param {String} actionName\tname of action\n\t * @param {Object?} params\t\tparams of action\n\t * @param {Object?} opts \t\toptions of call (optional)\n\t * @returns {Promise}\n\t *\n\t * @private\n\t * @memberof ServiceBroker\n\t */\n\tcallWithoutBalancer(actionName, params, opts = {}) {\n\t\tif (params === undefined)\n\t\t\tparams = {}; // Backward compatibility\n\n\t\tlet nodeID = null;\n\t\tlet endpoint = null;\n\t\tif (typeof actionName !== \"string\") {\n\t\t\tendpoint = actionName;\n\t\t\tactionName = endpoint.action.name;\n\t\t\tnodeID = endpoint.id;\n\t\t} else {\n\t\t\tif (opts.nodeID) {\n\t\t\t\tnodeID = opts.nodeID;\n\t\t\t\tendpoint = this.registry.getActionEndpointByNodeId(actionName, nodeID);\n\t\t\t\tif (!endpoint) {\n\t\t\t\t\tthis.logger.warn(`Service '${actionName}' is not found on '${nodeID}' node.`);\n\t\t\t\t\treturn this.Promise.reject(new E.ServiceNotFoundError({ action: actionName, nodeID })).catch(err => this.errorHandler(err, { nodeID, actionName, params, opts }));\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Get endpoint list by action name\n\t\t\t\tconst epList = this.registry.getActionEndpoints(actionName);\n\t\t\t\tif (epList == null) {\n\t\t\t\t\tthis.logger.warn(`Service '${actionName}' is not registered.`);\n\t\t\t\t\treturn this.Promise.reject(new E.ServiceNotFoundError({ action: actionName })).catch(err => this.errorHandler(err, { actionName, params, opts }));\n\n\t\t\t\t}\n\n\t\t\t\tendpoint = epList.getFirst();\n\t\t\t\tif (endpoint == null) {\n\t\t\t\t\tconst errMsg = `Service '${actionName}' is not available.`;\n\t\t\t\t\tthis.logger.warn(errMsg);\n\t\t\t\t\treturn this.Promise.reject(new E.ServiceNotAvailableError({ action: actionName })).catch(err => this.errorHandler(err, { actionName, params, opts }));\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Create context\n\t\tlet ctx;\n\t\tif (opts.ctx != null) {\n\t\t\t// Reused context\n\t\t\tctx = opts.ctx;\n\t\t\tif (endpoint) {\n\t\t\t\tctx.endpoint = endpoint;\n\t\t\t\tctx.action = endpoint.action;\n\t\t\t}\n\t\t} else {\n\t\t\t// New root context\n\t\t\tctx = this.ContextFactory.create(this, endpoint, params, opts);\n\t\t}\n\t\tctx.nodeID = nodeID;\n\n\t\tthis.logger.debug(\"Call action on a node.\", { action: ctx.action.name, nodeID: ctx.nodeID, requestID: ctx.requestID });\n\n\t\tlet p = endpoint.action.remoteHandler(ctx);\n\n\t\t// Pointer to Context\n\t\tp.ctx = ctx;\n\n\t\treturn p;\n\t}\n\n\t_getLocalActionEndpoint(actionName, ctx) {\n\t\t// Find action by name\n\t\tlet epList = this.registry.getActionEndpoints(actionName);\n\t\tif (epList == null || !epList.hasLocal()) {\n\t\t\tthis.logger.warn(`Service '${actionName}' is not registered locally.`);\n\t\t\tthrow new E.ServiceNotFoundError({ action: actionName, nodeID: this.nodeID });\n\t\t}\n\n\t\t// Get local endpoint\n\t\tlet endpoint = epList.nextLocal(ctx);\n\t\tif (!endpoint) {\n\t\t\tthis.logger.warn(`Service '${actionName}' is not available locally.`);\n\t\t\tthrow new E.ServiceNotAvailableError({ action: actionName, nodeID: this.nodeID });\n\t\t}\n\n\t\treturn endpoint;\n\t}\n\n\t/**\n\t * Multiple action calls.\n\t *\n\t * @param {Array<Object>|Object} def Calling definitions.\n\t * @returns {Promise<Array<Object>|Object>}\n\t *\n\t * @example\n\t * Call `mcall` with an array:\n\t * ```js\n\t * broker.mcall([\n\t * \t{ action: \"posts.find\", params: { limit: 5, offset: 0 } },\n\t * \t{ action: \"users.find\", params: { limit: 5, sort: \"username\" }, opts: { timeout: 500 } }\n\t * ]).then(results => {\n\t * \tlet posts = results[0];\n\t * \tlet users = results[1];\n\t * })\n\t * ```\n\t *\n\t * @example\n\t * Call `mcall` with an Object:\n\t * ```js\n\t * broker.mcall({\n\t * \tposts: { action: \"posts.find\", params: { limit: 5, offset: 0 } },\n\t * \tusers: { action: \"users.find\", params: { limit: 5, sort: \"username\" }, opts: { timeout: 500 } }\n\t * }).then(results => {\n\t * \tlet posts = results.posts;\n\t * \tlet users = results.users;\n\t * })\n\t * ```\n\t * @throws MoleculerServerError - If the `def` is not an `Array` and not an `Object`.\n\t * @memberof ServiceBroker\n\t */\n\tmcall(def, opts) {\n\t\tif (Array.isArray(def)) {\n\t\t\treturn this.Promise.all(def.map(item => this.call(item.action, item.params, item.options || opts)));\n\n\t\t} else if (utils.isObject(def)) {\n\t\t\tlet results = {};\n\t\t\tlet promises = Object.keys(def).map(name => {\n\t\t\t\tconst item = def[name];\n\t\t\t\tconst options = item.options || opts;\n\t\t\t\treturn this.call(item.action, item.params, options).then(res => results[name] = res);\n\t\t\t});\n\n\t\t\tlet p = this.Promise.all(promises);\n\n\t\t\t// Pointer to Context\n\t\t\tp.ctx = promises.map(promise => promise.ctx);\n\n\t\t\treturn p.then(() => results);\n\t\t} else {\n\t\t\treturn this.Promise.reject(new E.MoleculerServerError(\"Invalid calling definition.\", 500, \"INVALID_PARAMETERS\"));\n\t\t}\n\t}\n\n\n\t/**\n\t * Emit an event (grouped & balanced global event)\n\t *\n\t * @param {string} eventName\n\t * @param {any?} payload\n\t * @param {Object?} opts\n\t * @returns {Promise<any>}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\temit(eventName, payload, opts) {\n\t\tif (Array.isArray(opts) || utils.isString(opts))\n\t\t\topts = { groups: opts };\n\t\telse if (opts == null)\n\t\t\topts = {};\n\n\t\tif (opts.groups && !Array.isArray(opts.groups))\n\t\t\topts.groups = [opts.groups];\n\n\t\tconst promises = [];\n\n\t\tconst ctx = this.ContextFactory.create(this, null, payload, opts);\n\t\tctx.eventName = eventName;\n\t\tctx.eventType = \"emit\";\n\t\tctx.eventGroups = opts.groups;\n\n\t\tthis.logger.debug(`Emit '${eventName}' event`+ (opts.groups ? ` to '${opts.groups.join(\", \")}' group(s)` : \"\") + \".\");\n\n\t\t// Call local/internal subscribers\n\t\tif (/^\\$/.test(eventName))\n\t\t\tthis.localBus.emit(eventName, payload);\n\n\t\tif (!this.options.disableBalancer) {\n\n\t\t\tconst endpoints = this.registry.events.getBalancedEndpoints(eventName, opts.groups);\n\n\t\t\t// Grouping remote events (reduce the network traffic)\n\t\t\tconst groupedEP = {};\n\n\t\t\tendpoints.forEach(([ep, group]) => {\n\t\t\t\tif (ep.id == this.nodeID) {\n\t\t\t\t\t// Local service, call handler\n\t\t\t\t\tconst newCtx = ctx.copy(ep);\n\t\t\t\t\tpromises.push(this.registry.events.callEventHandler(newCtx));\n\t\t\t\t} else {\n\t\t\t\t\t// Remote service\n\t\t\t\t\tconst e = groupedEP[ep.id];\n\t\t\t\t\tif (e)\n\t\t\t\t\t\te.groups.push(group);\n\t\t\t\t\telse\n\t\t\t\t\t\tgroupedEP[ep.id] = {\n\t\t\t\t\t\t\tep,\n\t\t\t\t\t\t\tgroups: [group]\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.transit) {\n\t\t\t\t// Remote service\n\t\t\t\t_.forIn(groupedEP, item => {\n\t\t\t\t\tconst newCtx = ctx.copy(item.ep);\n\t\t\t\t\tnewCtx.eventGroups = item.groups;\n\t\t\t\t\tpromises.push(this.transit.sendEvent(newCtx));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.Promise.all(promises);\n\n\t\t} else if (this.transit) {\n\t\t\t// Disabled balancer case\n\t\t\tlet groups = opts.groups;\n\n\t\t\tif (!groups || groups.length == 0) {\n\t\t\t\t// Apply to all groups\n\t\t\t\tgroups = this.getEventGroups(eventName);\n\t\t\t}\n\n\t\t\tif (groups.length == 0)\n\t\t\t\treturn this.Promise.resolve();\n\n\t\t\tctx.eventGroups = groups;\n\t\t\treturn this.transit.sendEvent(ctx);\n\t\t}\n\t}\n\n\t/**\n\t * Broadcast an event for all local & remote services\n\t *\n\t * @param {string} eventName\n\t * @param {any?} payload\n\t * @param {Object?} opts\n\t * @returns {Promise}\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tbroadcast(eventName, payload, opts) {\n\t\tif (Array.isArray(opts) || utils.isString(opts))\n\t\t\topts = { groups: opts };\n\t\telse if (opts == null)\n\t\t\topts = {};\n\n\t\tif (opts.groups && !Array.isArray(opts.groups))\n\t\t\topts.groups = [opts.groups];\n\n\t\tconst promises = [];\n\n\t\tthis.logger.debug(`Broadcast '${eventName}' event`+ (opts.groups ? ` to '${opts.groups.join(\", \")}' group(s)` : \"\") + \".\");\n\n\t\tif (this.transit) {\n\t\t\tconst ctx = this.ContextFactory.create(this, null, payload, opts);\n\t\t\tctx.eventName = eventName;\n\t\t\tctx.eventType = \"broadcast\";\n\t\t\tctx.eventGroups = opts.groups;\n\n\t\t\tif (!this.options.disableBalancer) {\n\t\t\t\tconst endpoints = this.registry.events.getAllEndpoints(eventName, opts.groups);\n\n\t\t\t\t// Send to remote services\n\t\t\t\tendpoints.forEach(ep => {\n\t\t\t\t\tif (ep.id != this.nodeID) {\n\t\t\t\t\t\tconst newCtx = ctx.copy(ep);\n\t\t\t\t\t\tpromises.push(this.transit.sendEvent(newCtx));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Disabled balancer case\n\t\t\t\tlet groups = opts.groups;\n\n\t\t\t\tif (!groups || groups.length == 0) {\n\t\t\t\t\t// Apply to all groups\n\t\t\t\t\tgroups = this.getEventGroups(eventName);\n\t\t\t\t}\n\n\t\t\t\tif (groups.length == 0)\n\t\t\t\t\treturn; // Return here because balancer disabled, so we can't call the local services.\n\n\t\t\t\tconst endpoints = this.registry.events.getAllEndpoints(eventName, groups);\n\n\t\t\t\t// Return here because balancer disabled, so we can't call the local services.\n\t\t\t\treturn this.Promise.all(endpoints.map(ep => {\n\t\t\t\t\tconst newCtx = ctx.copy(ep);\n\t\t\t\t\tnewCtx.eventGroups = groups;\n\t\t\t\t\treturn this.transit.sendEvent(newCtx);\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\t// Send to local services\n\t\tpromises.push(this.broadcastLocal(eventName, payload, opts));\n\n\t\treturn this.Promise.all(promises);\n\t}\n\n\t/**\n\t * Broadcast an event for all local services\n\t *\n\t * @param {string} eventName\n\t * @param {any?} payload\n\t * @param {Object?} groups\n\t * @returns\n\t *\n\t * @memberof ServiceBroker\n\t */\n\tbroadcastLocal(eventName, payload, opts) {\n\t\tif (Array.isArray(opts) || utils.isString(opts))\n\t\t\topts = { groups: opts };\n\t\telse if (opts == null)\n\t\t\topts = {};\n\n\t\tif (opts.groups && !Array.isArray(opts.groups))\n\t\t\topts.groups = [opts.groups];\n\n\t\tthis.logger.debug(`Broadcast '${eventName}' local event`+ (opts.groups ? ` to '${opts.groups.join(\", \")}' group(s)` : \"\") + \".\");\n\n\t\t// Call internal subscribers\n\t\tif (/^\\$/.test(eventName))\n\t\t\tthis.localBus.emit(eventName, payload);\n\n\t\tconst ctx = this.ContextFactory.create(this, null, payload, opts);\n\t\tctx.eventName = eventName;\n\t\tctx.eventType = \"broadcastLocal\";\n\t\tctx.eventGroups = opts.groups;\n\n\t\treturn this.emitLocalServices(ctx);\n\t}\n\n\t/**\n\t * Send ping to a node (or all nodes if nodeID is null)\n\t *\n\t * @param {String|Array<String>?} nodeID\n\t * @param {Number?} timeout\n\t * @returns {Promise}\n\t * @memberof ServiceBroker\n\t */\n\tping(nodeID, timeout = 2000) {\n\t\tif (this.transit && this.transit.connected) {\n\t\t\tif (utils.isString(nodeID)) {\n\t\t\t\t// Ping a single node\n\t\t\t\treturn new this.Promise(resolve => {\n\n\t\t\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t\t\tthis.localBus.off(\"$node.pong\", handler);\n\t\t\t\t\t\tresolve(null);\n\t\t\t\t\t}, timeout);\n\n\t\t\t\t\tconst handler = pong => {\n\t\t\t\t\t\tif (pong.nodeID == nodeID) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\tthis.localBus.off(\"$node.pong\", handler);\n\t\t\t\t\t\t\tresolve(pong);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.localBus.on(\"$node.pong\", handler);\n\n\t\t\t\t\tthis.transit.sendPing(nodeID);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\tconst pongs = {};\n\t\t\t\tlet nodes = nodeID;\n\t\t\t\tif (!nodes) {\n\t\t\t\t\tnodes = this.registry.getNodeList({ onlyAvailable: true })\n\t\t\t\t\t\t.filter(node => node.id != this.nodeID)\n\t\t\t\t\t\t.map(node => node.id);\n\t\t\t\t}\n\n\t\t\t\tnodes.forEach(id => pongs[id] = null);\n\t\t\t\tconst processing = new Set(nodes);\n\n\t\t\t\t// Ping multiple nodes\n\t\t\t\treturn new this.Promise(resolve => {\n\n\t\t\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t\t\tthis.localBus.off(\"$node.pong\", handler);\n\t\t\t\t\t\tresolve(pongs);\n\t\t\t\t\t}, timeout);\n\n\t\t\t\t\tconst handler = pong => {\n\t\t\t\t\t\tpongs[pong.nodeID] = pong;\n\t\t\t\t\t\tprocessing.delete(pong.nodeID);\n\n\t\t\t\t\t\tif (processing.size == 0) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\tthis.localBus.off(\"$node.pong\", handler);\n\t\t\t\t\t\t\tresolve(pongs);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.localBus.on(\"$node.pong\", handler);\n\n\t\t\t\t\tnodes.forEach(id => this.transit.sendPing(id));\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn this.Promise.resolve(nodeID ? null : []);\n\t}\n\n\t/**\n\t * Get local node health status\n\t *\n\t * @returns {Promise}\n\t * @memberof ServiceBroker\n\t */\n\tgetHealthStatus() {\n\t\treturn H.getHealthStatus(this);\n\t}\n\n\t/**\n\t * Get local node info.\n\t *\n\t * @returns\n\t * @memberof ServiceBroker\n\t */\n\tgetLocalNodeInfo() {\n\t\treturn this.registry.getLocalNodeInfo();\n\t}\n\n\t/**\n\t * Get event groups by event name\n\t *\n\t * @param {String} eventName\n\t * @returns\n\t * @memberof ServiceBroker\n\t */\n\tgetEventGroups(eventName) {\n\t\treturn this.registry.events.getGroups(eventName);\n\t}\n\n\t/**\n\t * Has registered event listener for an event name?\n\t *\n\t * @param {String} eventName\n\t * @returns {boolean}\n\t */\n\thasEventListener(eventName) {\n\t\treturn this.registry.events.getAllEndpoints(eventName).length > 0;\n\t}\n\n\t/**\n\t * Get all registered event listener for an event name.\n\t *\n\t * @param {String} eventName\n\t * @returns {Array<Object>}\n\t */\n\tgetEventListeners(eventName) {\n\t\treturn this.registry.events.getAllEndpoints(eventName);\n\t}\n\n\t/**\n\t * Emit event to local nodes. It is called from transit when a remote event received\n\t * or from `broadcastLocal`\n\t *\n\t * @param {Context} ctx\n\t * @returns\n\t * @memberof ServiceBroker\n\t */\n\temitLocalServices(ctx) {\n\t\treturn this.registry.events.emitLocalServices(ctx);\n\t}\n\n\t/**\n\t * Set the current Context to the async storage.\n\t *\n\t * @param {Context} ctx\n\t * @memberof ServiceBroker\n\t *\n\tsetCurrentContext(ctx) {\n\t\tthis.scope.setSessionData(ctx);\n\t}*/\n\n\t/**\n\t * Get the current Context from the async storage.\n\t *\n\t * @returns {Context?}\n\t * @memberof ServiceBroker\n\t *\n\tgetCurrentContext() {\n\t\treturn this.scope.getSessionData();\n\t}*/\n\n\t/**\n\t * Get node overall CPU usage\n\t *\n\t * @returns {Promise<object>}\n\t * @memberof ServiceBroker\n\t */\n\tgetCpuUsage() {\n\t\treturn cpuUsage();\n\t}\n\n\t/**\n\t * Generate an UUID.\n\t *\n\t * @returns {String} uuid\n\t */\n\tgenerateUid() {\n\t\tif (this.options.uidGenerator)\n\t\t\treturn this.options.uidGenerator.call(this, this);\n\n\t\treturn utils.generateToken();\n\t}\n\n\n\t/**\n\t * Get the Constructor name of any object if it exists\n\t * @param {any} obj\n\t * @returns {string}\n\t *\n\t */\n\tgetConstructorName(obj) {\n\t\tlet target = obj.prototype;\n\t\tif (target && target.constructor && target.constructor.name){\n\t\t\treturn target.constructor.name;\n\t\t}\n\t\tif (obj.constructor && obj.constructor.name){\n\t\t\treturn obj.constructor.name;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Ensure the service schema will be prototype of ServiceFactory;\n\t *\n\t * @param {any} schema\n\t * @returns {string}\n\t *\n\t */\n\tnormalizeSchemaConstructor(schema) {\n\t\tif (Object.prototype.isPrototypeOf.call(this.ServiceFactory, schema)) {\n\t\t\treturn schema;\n\t\t}\n\t\t// Sometimes the schame was loaded from another node_module or is a object copy.\n\t\t// Then we will check if the constructor name is the same, asume that is a derivate object\n\t\t// and adjust the prototype of the schema.\n\t\tlet serviceName = this.getConstructorName(this.ServiceFactory);\n\t\tlet target = this.getConstructorName(schema);\n\t\tif (serviceName === target){\n\t\t\tObject.setPrototypeOf(schema, this.ServiceFactory);\n\t\t\treturn schema;\n\t\t}\n\t\t// Depending how the schema was create the correct constructor name (from base class) will be locate on __proto__.\n\t\ttarget = this.getConstructorName(schema.__proto__);\n\t\tif (serviceName === target){\n\t\t\tObject.setPrototypeOf(schema.__proto__, this.ServiceFactory);\n\t\t\treturn schema;\n\t\t}\n\t\t// This is just to handle some idiosyncrasies from Jest.\n\t\tif (schema._isMockFunction){\n\t\t\ttarget = this.getConstructorName(schema.prototype.__proto__);\n\t\t\tif (serviceName === target){\n\t\t\t\tObject.setPrototypeOf(schema, this.ServiceFactory);\n\t\t\t\treturn schema;\n\t\t\t}\n\t\t}\n\t\treturn schema;\n\t}\n}\n\n/**\n * Version of Moleculer\n */\nServiceBroker.MOLECULER_VERSION = require(\"../package.json\").version;\nServiceBroker.prototype.MOLECULER_VERSION = ServiceBroker.MOLECULER_VERSION;\n\n/**\n * Version of Protocol\n */\nServiceBroker.PROTOCOL_VERSION = \"4\";\nServiceBroker.prototype.PROTOCOL_VERSION = ServiceBroker.PROTOCOL_VERSION;\n\n/**\n * Default configuration\n */\nServiceBroker.defaultOptions = defaultOptions;\n\nmodule.exports = ServiceBroker;\n","/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst {\n\tCIRCUIT_CLOSE,\n\tCIRCUIT_HALF_OPEN,\n\tCIRCUIT_HALF_OPEN_WAIT,\n\tCIRCUIT_OPEN\n} = require(\"./src/constants\");\n\nmodule.exports = {\n\tServiceBroker: require(\"./src/service-broker\"),\n\tLoggers: require(\"./src/loggers\"),\n\tService: require(\"./src/service\"),\n\tContext: require(\"./src/context\"),\n\n\tCachers: require(\"./src/cachers\"),\n\n\tTransporters: require(\"./src/transporters\"),\n\tSerializers: require(\"./src/serializers\"),\n\tStrategies: require(\"./src/strategies\"),\n\tValidators: require(\"./src/validators\"),\n\tValidator: require(\"./src/validators/fastest\"), // deprecated\n\tTracerExporters: require(\"./src/tracing/exporters\"),\n\tMetricTypes: require(\"./src/metrics/types\"),\n\tMetricReporters: require(\"./src/metrics/reporters\"),\n\tMETRIC: require(\"./src/metrics/constants\"),\n\n\tRegistry: require(\"./src/registry\"),\n\tDiscoverers: require(\"./src/registry/discoverers\"),\n\n\tMiddlewares: require(\"./src/middlewares\"),\n\n\tErrors: require(\"./src/errors\"),\n\n\tRunner: require(\"./src/runner\"),\n\tUtils: require(\"./src/utils\"),\n\n\tCIRCUIT_CLOSE,\n\tCIRCUIT_HALF_OPEN,\n\tCIRCUIT_HALF_OPEN_WAIT,\n\tCIRCUIT_OPEN,\n\n\tMOLECULER_VERSION: require(\"./src/service-broker\").MOLECULER_VERSION,\n\tPROTOCOL_VERSION: require(\"./src/service-broker\").PROTOCOL_VERSION\n};\n","import moleculer from './moleculer/index.js'\n\nexport const ServiceBroker = moleculer.ServiceBroker\nexport const Loggers = moleculer.Loggers\nexport const Service = moleculer.Service\nexport const Context = moleculer.Context\nexport const Cachers = moleculer.Cachers\nexport const Transporters = moleculer.Transporters\nexport const Serializers = moleculer.Serializers\nexport const Strategies = moleculer.Strategies\nexport const Validators = moleculer.Validators\nexport const TracerExporters = moleculer.TracerExporters\nexport const MetricTypes = moleculer.MetricTypes\nexport const MetricReporters = moleculer.MetricReporters\nexport const METRIC = moleculer.METRIC\nexport const Registry = moleculer.Registry\nexport const Discoverers = moleculer.Discoverers\nexport const Middlewares = moleculer.Middlewares\nexport const Errors = moleculer.Errors\nexport const Runner = false\nexport const Utils = moleculer.Utils\nexport const CIRCUIT_CLOSE = moleculer.CIRCUIT_CLOSE\nexport const CIRCUIT_HALF_OPEN = moleculer.CIRCUIT_HALF_OPEN\nexport const CIRCUIT_HALF_OPEN_WAIT = moleculer.CIRCUIT_HALF_OPEN_WAIT\nexport const CIRCUIT_OPEN = moleculer.CIRCUIT_OPEN\nexport const MOLECULER_VERSION = moleculer.MOLECULER_VERSION\nexport const PROTOCOL_VERSION = moleculer.PROTOCOL_VERSION\n"],"names":["EventEmitter","hrtime","global","ExtendableError","EE","cpus","loadavg","cpuUsage","process","setTimeout","kleur","path","fs","setInterval","require$$0","BaseMetric","METRIC","MetricRate","GaugeMetric","_","pick","require$$1","require$$2","require$$3","require$$4","require$$5","BaseReporter","isString","BrokerOptionsError","require$$6","require$$7","require$$8","getByName","resolve","register","match","isFunction","isPlainObject","registerCommonMetrics","updateCommonMetrics","reporters","Reporters","Types","MetricRegistry","CounterMetric","HistrogramMetric","InfoMetric","Packet","P","E","Buffer","BaseStrategy","random","LRU","crypto","isObject","BaseDiscoverer","node","Node","ServiceItem","Endpoint","EventEndpoint","Strategies","EndpointList","utils","ActionEndpoint","Discoverers","NodeCatalog","ServiceCatalog","ActionCatalog","EventCatalog","Registry","BaseLogger","util","FormattedLogger","Base","require$$9","require$$10","Loggers","ValidationError","BaseValidator","Validator","BaseCacher","Lock","Transporter","require$$11","BaseSerializer","getIpList","getUserInfo","C","MoleculerError","fflate.deflateSync","fflate.inflateSync","fflate.gzip","fflate.gunzip","fflate.zlibSync","fflate.unzlibSync","makeDirs","require$$12","require$$13","require$$14","require$$15","require$$16","Middlewares","BaseTraceExporter","now","RateLimiter","exporters","Exporters","span","Span","flatten","functionArguments","EventEmitter2","Tracer","LoggerFactory","MiddlewareHandler","Cachers","Serializers","Validators","Transporters","Transit","glob","require","H","require$$17","require$$18","require$$20","ServiceBroker","Service","Context","CIRCUIT_CLOSE","CIRCUIT_HALF_OPEN","CIRCUIT_HALF_OPEN_WAIT","CIRCUIT_OPEN","MOLECULER_VERSION"],"mappings":"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"}