{"version":3,"file":"utils.js","sources":["../../../../src/moleculer/src/utils.js"],"sourcesContent":["/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst kleur\t\t= require(\"kleur\");\nconst os \t \t= require(\"os\");\nconst path \t \t= require(\"path\");\nconst fs \t \t= require(\"fs\");\nconst ExtendableError = require(\"es6-error\");\n\nconst lut = [];\nfor (let i=0; i<256; i++) { lut[i] = (i<16?\"0\":\"\")+(i).toString(16); }\n\nconst RegexCache = new Map();\n\nconst deprecateList = [];\n\nconst byteMultipliers = {\n\tb:  1,\n\tkb: 1 << 10,\n\tmb: 1 << 20,\n\tgb: 1 << 30,\n\ttb: Math.pow(1024, 4),\n\tpb: Math.pow(1024, 5),\n};\n// eslint-disable-next-line security/detect-unsafe-regex\nconst parseByteStringRe = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\nclass TimeoutError extends ExtendableError {}\n\n/**\n * Circular replacing of unsafe properties in object\n *\n * @param {Object=} options List of options to change circularReplacer behaviour\n * @param {number=} options.maxSafeObjectSize Maximum size of objects for safe object converting\n * @return {function(...[*]=)}\n */\nfunction circularReplacer(options = { maxSafeObjectSize: Infinity }) {\n\tconst seen = new WeakSet();\n\treturn function(key, value) {\n\t\tif (typeof value === \"object\" && value !== null) {\n\t\t\tconst objectType = value.constructor && value.constructor.name || typeof value;\n\n\t\t\tif (options.maxSafeObjectSize && \"length\" in value && value.length > options.maxSafeObjectSize) {\n\t\t\t\treturn `[${objectType} ${value.length}]`;\n\t\t\t}\n\n\t\t\tif (options.maxSafeObjectSize && \"size\" in value && value.size > options.maxSafeObjectSize) {\n\t\t\t\treturn `[${objectType} ${value.size}]`;\n\t\t\t}\n\n\t\t\tif (seen.has(value)) {\n\t\t\t\t//delete this[key];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tseen.add(value);\n\t\t}\n\t\treturn value;\n\t};\n}\n\nconst units = [\"h\", \"m\", \"s\", \"ms\", \"μs\", \"ns\"];\nconst divisors = [60 * 60 * 1000, 60 * 1000, 1000, 1, 1e-3, 1e-6];\n\nconst utils = {\n\n\tisFunction(fn) {\n\t\treturn typeof fn === \"function\";\n\t},\n\n\tisString(s) {\n\t\treturn typeof s === \"string\" || s instanceof String;\n\t},\n\n\tisObject(o) {\n\t\treturn o !== null && typeof o === \"object\" && !(o instanceof String);\n\t},\n\n\tisPlainObject(o) {\n\t\treturn o !=null ? Object.getPrototypeOf(o) === Object.prototype || Object.getPrototypeOf(o) === null : false;\n\t},\n\n\tflatten(arr) {\n\t\treturn Array.prototype.reduce.call(arr, (a, b) => a.concat(b), []);\n\t},\n\n\thumanize(milli) {\n\t\tif (milli == null) return \"?\";\n\n\t\tfor (let i = 0; i < divisors.length; i++) {\n\t\t\tconst val = milli / divisors[i];\n\t\t\tif (val >= 1.0)\n\t\t\t\treturn \"\" + Math.floor(val) + units[i];\n\t\t}\n\n\t\treturn \"now\";\n\t},\n\n\t// Fast UUID generator: e7 https://jsperf.com/uuid-generator-opt/18\n\tgenerateToken() {\n\t\tconst d0 = Math.random()*0xffffffff|0;\n\t\tconst d1 = Math.random()*0xffffffff|0;\n\t\tconst d2 = Math.random()*0xffffffff|0;\n\t\tconst d3 = Math.random()*0xffffffff|0;\n\t\treturn lut[d0&0xff]+lut[d0>>8&0xff]+lut[d0>>16&0xff]+lut[d0>>24&0xff]+\"-\"+\n\t\t\tlut[d1&0xff]+lut[d1>>8&0xff]+\"-\"+lut[d1>>16&0x0f|0x40]+lut[d1>>24&0xff]+\"-\"+\n\t\t\tlut[d2&0x3f|0x80]+lut[d2>>8&0xff]+\"-\"+lut[d2>>16&0xff]+lut[d2>>24&0xff]+\n\t\t\tlut[d3&0xff]+lut[d3>>8&0xff]+lut[d3>>16&0xff]+lut[d3>>24&0xff];\n\t},\n\n\tremoveFromArray(arr, item) {\n\t\tif (!arr || arr.length == 0) return arr;\n\t\tconst idx = arr.indexOf(item);\n\t\tif (idx !== -1)\n\t\t\tarr.splice(idx, 1);\n\n\t\treturn arr;\n\t},\n\n\t/**\n\t * Get default NodeID (computerName)\n\t *\n\t * @returns\n\t */\n\tgetNodeID() {\n\t\treturn os.hostname().toLowerCase() + \"-\" + process.pid;\n\t},\n\n\t/**\n\t * Get list of local IPs\n\t *\n\t * @returns\n\t */\n\tgetIpList() {\n\t\tconst list = [];\n\t\tconst ilist = [];\n\t\tconst interfaces = os.networkInterfaces();\n\t\tfor (let iface in interfaces) {\n\t\t\tfor (let i in interfaces[iface]) {\n\t\t\t\tconst f = interfaces[iface][i];\n\t\t\t\tif (f.family === \"IPv4\") {\n\t\t\t\t\tif (f.internal) {\n\t\t\t\t\t\tilist.push(f.address);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlist.push(f.address);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn list.length > 0 ? list : ilist;\n\t},\n\n\t/**\n\t * Check the param is a Promise instance\n\t *\n\t * @param {any} p\n\t * @returns\n\t */\n\tisPromise(p) {\n\t\treturn (p != null && typeof p.then === \"function\");\n\t},\n\n\t/**\n\t * Polyfill a Promise library with missing Bluebird features.\n\t *\n\t * NOT USED & NOT TESTED YET !!!\n\t *\n\t * @param {PromiseClass} P\n\t */\n\tpolyfillPromise(P) {\n\t\tif (!utils.isFunction(P.method)) {\n\t\t\t// Based on https://github.com/petkaantonov/bluebird/blob/master/src/method.js#L8\n\t\t\tP.method = function(fn) {\n\t\t\t\treturn function() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst val = fn.apply(this, arguments);\n\t\t\t\t\t\treturn P.resolve(val);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treturn P.reject(err);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\tif (!utils.isFunction(P.delay)) {\n\t\t\t// Based on https://github.com/petkaantonov/bluebird/blob/master/src/timers.js#L15\n\t\t\tP.delay = function(ms) {\n\t\t\t\treturn new P(resolve => setTimeout(resolve, +ms));\n\t\t\t};\n\t\t\tP.prototype.delay = function(ms) {\n\t\t\t\treturn this.then(res => P.delay(ms).then(() => res));\n\t\t\t\t//return this.then(res => new P(resolve => setTimeout(() => resolve(res), +ms)));\n\t\t\t};\n\t\t}\n\n\t\tif (!utils.isFunction(P.prototype.timeout)) {\n\t\t\tP.TimeoutError = TimeoutError;\n\n\t\t\tP.prototype.timeout = function(ms, message) {\n\t\t\t\tlet timer;\n\t\t\t\tconst timeout = new P((resolve, reject) => {\n\t\t\t\t\ttimer = setTimeout(() => reject(new P.TimeoutError(message)), +ms);\n\t\t\t\t});\n\n\t\t\t\treturn P.race([\n\t\t\t\t\ttimeout,\n\t\t\t\t\tthis\n\t\t\t\t])\n\t\t\t\t\t.then(value => {\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tif (!utils.isFunction(P.mapSeries)) {\n\n\t\t\tP.mapSeries = function(arr, fn) {\n\t\t\t\tconst promFn = Promise.method(fn);\n\t\t\t\tconst res = [];\n\n\t\t\t\treturn arr.reduce((p, item, i) => {\n\t\t\t\t\treturn p.then(r => {\n\t\t\t\t\t\tres[i] = r;\n\t\t\t\t\t\treturn promFn(item, i);\n\t\t\t\t\t});\n\t\t\t\t}, P.resolve()).then(r => {\n\t\t\t\t\tres[arr.length] = r;\n\t\t\t\t\treturn res.slice(1);\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t},\n\n\t/**\n\t * Clear `require` cache. Used for service hot reloading\n\t *\n\t * @param {String} filename\n\t */\n\tclearRequireCache(filename) {\n\t\t/* istanbul ignore next */\n\t\tObject.keys(require.cache).forEach(function(key) {\n\t\t\tif (key == filename) {\n\t\t\t\tdelete require.cache[key];\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * String matcher to handle dot-separated event/action names.\n\t *\n\t * @param {String} text\n\t * @param {String} pattern\n\t * @returns {Boolean}\n\t */\n\tmatch(text, pattern) {\n\t\t// Simple patterns\n\t\tif (pattern.indexOf(\"?\") == -1) {\n\n\t\t\t// Exact match (eg. \"prefix.event\")\n\t\t\tconst firstStarPosition = pattern.indexOf(\"*\");\n\t\t\tif (firstStarPosition == -1) {\n\t\t\t\treturn pattern === text;\n\t\t\t}\n\n\t\t\t// Eg. \"prefix**\"\n\t\t\tconst len = pattern.length;\n\t\t\tif (len > 2 && pattern.endsWith(\"**\") && firstStarPosition > len - 3) {\n\t\t\t\tpattern = pattern.substring(0, len - 2);\n\t\t\t\treturn text.startsWith(pattern);\n\t\t\t}\n\n\t\t\t// Eg. \"prefix*\"\n\t\t\tif (len > 1 && pattern.endsWith(\"*\") && firstStarPosition > len - 2) {\n\t\t\t\tpattern = pattern.substring(0, len - 1);\n\t\t\t\tif (text.startsWith(pattern)) {\n\t\t\t\t\treturn text.indexOf(\".\", len) == -1;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Accept simple text, without point character (*)\n\t\t\tif (len == 1 && firstStarPosition == 0) {\n\t\t\t\treturn text.indexOf(\".\") == -1;\n\t\t\t}\n\n\t\t\t// Accept all inputs (**)\n\t\t\tif (len == 2 && firstStarPosition == 0 && pattern.lastIndexOf(\"*\") == 1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Regex (eg. \"prefix.ab?cd.*.foo\")\n\t\tconst origPattern = pattern;\n\t\tlet regex = RegexCache.get(origPattern);\n\t\tif (regex == null) {\n\t\t\tif (pattern.startsWith(\"$\")) {\n\t\t\t\tpattern = \"\\\\\" + pattern;\n\t\t\t}\n\t\t\tpattern = pattern.replace(/\\?/g, \".\");\n\t\t\tpattern = pattern.replace(/\\*\\*/g, \"§§§\");\n\t\t\tpattern = pattern.replace(/\\*/g, \"[^\\\\.]*\");\n\t\t\tpattern = pattern.replace(/§§§/g, \".*\");\n\n\t\t\tpattern = \"^\" + pattern + \"$\";\n\n\t\t\t// eslint-disable-next-line security/detect-non-literal-regexp\n\t\t\tregex = new RegExp(pattern, \"\");\n\t\t\tRegexCache.set(origPattern, regex);\n\t\t}\n\t\treturn regex.test(text);\n\t},\n\n\t/**\n\t * Deprecate a method or property\n\t *\n\t * @param {Object|Function|String} prop\n\t * @param {String} msg\n\t */\n\tdeprecate(prop, msg) {\n\t\tif (arguments.length == 1)\n\t\t\tmsg = prop;\n\n\t\tif (deprecateList.indexOf(prop) === -1) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.warn(kleur.yellow().bold(`DeprecationWarning: ${msg}`));\n\t\t\tdeprecateList.push(prop);\n\t\t}\n\t},\n\n\t/**\n\t * Remove circular references & Functions from the JS object\n\t *\n\t * @param {Object|Array} obj\n\t * @param {Object=} options List of options to change circularReplacer behaviour\n\t * @param {number=} options.maxSafeObjectSize List of options to change circularReplacer behaviour\n\t * @returns {Object|Array}\n\t */\n\tsafetyObject(obj, options) {\n\t\treturn JSON.parse(JSON.stringify(obj, circularReplacer(options)));\n\t},\n\n\t/**\n\t * Sets a variable on an object based on its dot path.\n\t *\n\t * @param {Object} obj\n\t * @param {String} path\n\t * @param {*} value\n\t * @returns {Object}\n\t */\n\tdotSet(obj, path, value) {\n\t\tconst parts = path.split(\".\");\n\t\tconst part = parts.shift();\n\t\tif (parts.length > 0) {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(obj, part)) {\n\t\t\t\tobj[part] = {};\n\t\t\t} else if (obj[part] == null) {\n\t\t\t\tobj[part] = {};\n\t\t\t} else {\n\t\t\t\tif (typeof obj[part] !== \"object\") {\n\t\t\t\t\tthrow new Error(\"Value already set and it's not an object\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tobj[part] = utils.dotSet(obj[part], parts.join(\".\"), value);\n\t\t\treturn obj;\n\t\t}\n\t\tobj[path] = value;\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Make directories recursively\n\t * @param {String} p - directory path\n\t */\n\tmakeDirs(p) {\n\t\tp.split(path.sep)\n\t\t\t.reduce((prevPath, folder) => {\n\t\t\t\tconst currentPath = path.join(prevPath, folder, path.sep);\n\t\t\t\tif (!fs.existsSync(currentPath)) {\n\t\t\t\t\tfs.mkdirSync(currentPath);\n\t\t\t\t}\n\t\t\t\treturn currentPath;\n\t\t\t}, \"\");\n\t},\n\n\t/**\n\t * Parse a byte string to number of bytes. E.g \"1kb\" -> 1024\n\t * Credits: https://github.com/visionmedia/bytes.js\n\t *\n\t * @param {String} v\n\t * @returns {Number}\n\t */\n\tparseByteString(v) {\n\t\tif (typeof v === \"number\" && !isNaN(v)) {\n\t\t\treturn v;\n\t\t}\n\n\t\tif (typeof v !== \"string\") {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Test if the string passed is valid\n\t\tlet results = parseByteStringRe.exec(v);\n\t\tlet floatValue;\n\t\tlet unit = \"b\";\n\n\t\tif (!results) {\n\t\t\t// Nothing could be extracted from the given string\n\t\t\tfloatValue = parseInt(v, 10);\n\t\t\tif (Number.isNaN(floatValue))\n\t\t\t\treturn null;\n\n\t\t\tunit = \"b\";\n\t\t} else {\n\t\t\t// Retrieve the value and the unit\n\t\t\tfloatValue = parseFloat(results[1]);\n\t\t\tunit = results[4].toLowerCase();\n\t\t}\n\n\t\treturn Math.floor(byteMultipliers[unit] * floatValue);\n\t}\n};\n\nmodule.exports = utils;\n"],"names":["process"],"mappings":"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"}