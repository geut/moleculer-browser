import{setTimeout as e}from"timers-browserify";import*as s from"../../os.js";export default function(t=100){return new Promise(((r,i)=>{try{const c=s.cpus().map((e=>e.times));e((()=>{try{const o=s.cpus().map((e=>e.times));e((()=>{try{const e=s.cpus().map((e=>e.times)),t=[];for(let s=0;s<c.length;s++){const r=c[s].idle,i=c[s].idle+c[s].user+c[s].nice+c[s].sys+c[s].irq,n=o[s].idle,m=o[s].idle+o[s].user+o[s].nice+o[s].sys+o[s].irq,u=e[s].idle,a=e[s].idle+e[s].user+e[s].nice+e[s].sys+e[s].irq,l=(1-(n-r)/(m-i)+(1-(u-n)/(a-m)))/2*100;t.push(l)}r({avg:t.reduce(((e,s)=>e+s),0)/t.length,usages:t})}catch(e){i(e)}}),t)}catch(e){i(e)}}),t)}catch(e){i(e)}}))}
//# sourceMappingURL=cpu-usage.js.map
