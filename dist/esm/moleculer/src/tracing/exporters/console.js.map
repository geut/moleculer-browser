{"version":3,"file":"console.js","sources":["../../../../../../src/moleculer/src/tracing/exporters/console.js"],"sourcesContent":["\"use strict\";\n\nconst _ \t\t\t\t\t\t= require(\"lodash\");\nconst r \t\t\t\t\t\t= _.repeat;\nconst kleur \t\t\t\t\t= require(\"kleur\");\nconst { humanize, isFunction }  = require(\"../../utils\");\n\nconst BaseTraceExporter = require(\"./base\");\n\n/**\n * Console Trace Exporter only for debugging\n *\n * @class ConsoleTraceExporter\n */\nclass ConsoleTraceExporter extends BaseTraceExporter {\n\n\t/**\n\t * Creates an instance of ConsoleTraceExporter.\n\t * @param {Object?} opts\n\t * @memberof ConsoleTraceExporter\n\t */\n\tconstructor(opts) {\n\t\tsuper(opts);\n\n\t\tthis.opts = _.defaultsDeep(this.opts, {\n\t\t\tlogger: null,\n\t\t\tcolors: true,\n\t\t\twidth: 100,\n\t\t\tgaugeWidth: 40\n\t\t});\n\n\t\tif (!this.opts.colors)\n\t\t\tkleur.enabled = false;\n\n\t\tthis.spans = {};\n\t}\n\n\t/**\n\t * Initialize Trace Exporter.\n\t *\n\t * @param {Tracer} tracer\n\t * @memberof ConsoleTraceExporter\n\t */\n\tinit(tracer) {\n\t\tsuper.init(tracer);\n\t}\n\n\t/**\n\t * Stop Trace exporter\n\t */\n\tstop() {\n\t\tthis.spans = {};\n\n\t\treturn this.broker.Promise.resolve();\n\t}\n\n\t/**\n\t * Span is started.\n\t *\n\t * @param {Span} span\n\t * @memberof ConsoleTraceExporter\n\t */\n\tspanStarted(span) {\n\t\tthis.spans[span.id] = {\n\t\t\tspan,\n\t\t\tchildren: []\n\t\t};\n\n\t\tif (span.parentID) {\n\t\t\tconst parentItem = this.spans[span.parentID];\n\t\t\tif (parentItem)\n\t\t\t\tparentItem.children.push(span.id);\n\t\t}\n\t}\n\n\t/**\n\t * Span is finished.\n\t *\n\t * @param {Span} span\n\t * @memberof ConsoleTraceExporter\n\t */\n\tspanFinished(span) {\n\t\t//this.log(span);\n\t\tif (!this.spans[span.parentID]) {\n\t\t\tthis.printRequest(span.id);\n\n\t\t\t// remove old printed requests\n\t\t\tthis.removeSpanWithChildren(span.id);\n\t\t}\n\t}\n\n\t/**\n\t * Remove a finished span with children.\n\t *\n\t * @param {String} spanID\n\t * @memberof ConsoleTraceExporter\n\t */\n\tremoveSpanWithChildren(spanID) {\n\t\tconst span = this.spans[spanID];\n\t\tif (span) {\n\t\t\tif (span.children && span.children.length > 0) {\n\t\t\t\tspan.children.forEach(child => this.removeSpanWithChildren(child));\n\t\t\t}\n\t\t\tdelete this.spans[spanID];\n\t\t}\n\t}\n\n\tdrawTableTop() {\n\t\tthis.log(kleur.grey(\"┌\" + r(\"─\", this.opts.width - 2) + \"┐\"));\n\t}\n\n\tdrawHorizonalLine() {\n\t\tthis.log(kleur.grey(\"├\" + r(\"─\", this.opts.width - 2) + \"┤\"));\n\t}\n\n\tdrawLine(text) {\n\t\tthis.log(kleur.grey(\"│ \") + text + kleur.grey(\" │\"));\n\t}\n\n\tdrawTableBottom() {\n\t\tthis.log(kleur.grey(\"└\" + r(\"─\", this.opts.width - 2) + \"┘\"));\n\t}\n\n\tgetAlignedTexts(str, space) {\n\t\tconst len = str.length;\n\n\t\tlet left;\n\t\tif (len <= space)\n\t\t\tleft = str + r(\" \", space - len);\n\t\telse {\n\t\t\tleft = str.slice(0, Math.max(space - 3, 0));\n\t\t\tleft += r(\".\", Math.min(3, space));\n\t\t}\n\n\t\treturn left;\n\t}\n\n\tdrawGauge(gstart, gstop) {\n\t\tconst gw = this.opts.gaugeWidth;\n\t\tconst p1 = Math.floor(gw * gstart / 100);\n\t\tconst p2 = Math.max(Math.floor(gw * gstop / 100) - p1, 1);\n\t\tconst p3 = Math.max(gw - (p1 + p2), 0);\n\n\t\treturn [\n\t\t\tkleur.grey(\"[\"),\n\t\t\tkleur.grey(r(\".\", p1)),\n\t\t\tr(\"■\", p2),\n\t\t\tkleur.grey(r(\".\", p3)),\n\t\t\tkleur.grey(\"]\")\n\t\t].join(\"\");\n\t}\n\n\tgetCaption(span) {\n\t\tlet caption = span.name;\n\n\t\tif (span.tags.fromCache)\n\t\t\tcaption += \" *\";\n\t\tif (span.tags.remoteCall)\n\t\t\tcaption += \" »\";\n\t\tif (span.error)\n\t\t\tcaption += \" ×\";\n\n\t\treturn caption;\n\t}\n\n\tgetColor(span) {\n\t\tlet c = kleur.bold;\n\t\tif (span.tags.fromCache)\n\t\t\tc = c().yellow;\n\t\tif (span.tags.remoteCall)\n\t\t\tc = c().cyan;\n\t\tif (span.duration == null)\n\t\t\tc = c().grey;\n\t\tif (span.error)\n\t\t\tc = c().red;\n\n\t\treturn c;\n\t}\n\n\tgetTraceInfo(main) {\n\t\tlet depth = 0;\n\t\tlet total = 0;\n\t\tlet check = (item, level, parents) => {\n\t\t\titem.level = level;\n\t\t\titem.parents = parents || [];\n\t\t\ttotal++;\n\t\t\tif (level > depth)\n\t\t\t\tdepth = level;\n\n\t\t\tif (item.children.length > 0) {\n\t\t\t\titem.children.forEach((spanID, idx) => {\n\t\t\t\t\tconst span = this.spans[spanID];\n\t\t\t\t\tspan.first = idx == 0;\n\t\t\t\t\tspan.last = idx == item.children.length - 1;\n\t\t\t\t\tcheck(span, item.level + 1, [].concat(item.parents, [item]));\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcheck(main, 1);\n\n\t\treturn { depth, total };\n\t}\n\n\tgetSpanIndent(spanItem) {\n\t\tif (spanItem.level > 1) {\n\t\t\tlet s = spanItem.parents.map((item, idx) => {\n\t\t\t\tif (idx > 0)\n\t\t\t\t\treturn item.last ? \"  \" : \"│ \";\n\n\t\t\t\treturn \"\";\n\t\t\t}).join(\"\");\n\n\t\t\ts += spanItem.last ? \"└─\" : \"├─\";\n\n\t\t\treturn s + (spanItem.children.length > 0 ? \"┬─\" : \"──\") + \" \";\n\t\t}\n\n\t\treturn \"\";\n\t}\n\n\t/**\n\t * Print a span row\n\t *\n\t * @param {Object} span\n\t * @param {Object} main\n\t */\n\tprintSpanTime(spanItem, mainItem, level) {\n\t\tconst span = spanItem.span;\n\t\tconst mainSpan = mainItem.span;\n\t\tconst margin = 2 * 2;\n\t\tconst w = (this.opts.width || 80) - margin;\n\t\tconst gw = this.opts.gaugeWidth || 40;\n\n\t\tconst time = span.duration == null ? \"?\" : humanize(span.duration);\n\t\tconst indent = this.getSpanIndent(spanItem);\n\t\tconst caption = this.getCaption(span);\n\t\tconst info = kleur.grey(indent) + this.getAlignedTexts(caption, w - gw - 3 - time.length - 1 - indent.length) + \" \" + time;\n\n\t\tconst startTime = span.startTime || mainSpan.startTime;\n\t\tconst finishTime = span.finishTime || mainSpan.finishTime;\n\n\t\tlet gstart = (startTime - mainSpan.startTime) / (mainSpan.finishTime - mainSpan.startTime) * 100;\n\t\tlet gstop = (finishTime - mainSpan.startTime) / (mainSpan.finishTime - mainSpan.startTime) * 100;\n\n\t\tif (Number.isNaN(gstart) && Number.isNaN(gstop)) {\n\t\t\tgstart = 0;\n\t\t\tgstop = 100;\n\t\t}\n\t\tif (gstop > 100)\n\t\t\tgstop = 100;\n\n\t\tconst c = this.getColor(span);\n\t\tthis.drawLine(c(info + \" \" + this.drawGauge(gstart, gstop)));\n\n\t\tif (spanItem.children.length > 0)\n\t\t\tspanItem.children.forEach((spanID, idx) =>\n\t\t\t\tthis.printSpanTime(this.spans[spanID], mainItem, level + 1, spanItem, {\n\t\t\t\t\tfirst: idx == 0,\n\t\t\t\t\tlast: idx == spanItem.children.length - 1\n\t\t\t\t})\n\t\t\t);\n\t}\n\n\t/**\n\t * Print request traces\n\t *\n\t * @param {String} id\n\t */\n\tprintRequest(id) {\n\t\tconst main = this.spans[id];\n\t\tif (!main) return ; // Async span\n\n\t\tconst margin = 2 * 2;\n\t\tconst w = this.opts.width - margin;\n\n\t\tthis.drawTableTop();\n\n\t\tconst { total, depth } = this.getTraceInfo(main);\n\n\t\tconst truncatedID = this.getAlignedTexts(id, w - \"ID: \".length - \"Depth: \".length - (\"\"+depth).length - \"Total: \".length - (\"\"+total).length - 2);\n\t\tconst line = kleur.grey(\"ID: \") + kleur.bold(truncatedID) + \" \" + kleur.grey(\"Depth: \") + kleur.bold(depth) + \" \" + kleur.grey(\"Total: \") + kleur.bold(total);\n\t\tthis.drawLine(line);\n\n\t\tthis.drawHorizonalLine();\n\n\t\tthis.printSpanTime(main, main, 1, null, {});\n\n\t\tthis.drawTableBottom();\n\t}\n\n\tlog(...args) {\n\t\tif (isFunction(this.opts.logger)) {\n\t\t\treturn this.opts.logger(...args);\n\t\t} else {\n\t\t\treturn this.logger.info(...args);\n\t\t}\n\t}\n}\n\nmodule.exports = ConsoleTraceExporter;\n"],"names":["require$$0","BaseTraceExporter"],"mappings":"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"}