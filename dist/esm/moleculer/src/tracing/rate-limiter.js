import t from"lodash";var a=class{constructor(a){this.opts=t.defaultsDeep(a,{tracesPerSecond:1}),this.lastTime=Date.now(),this.balance=0,this.maxBalance=this.opts.tracesPerSecond<1?1:this.opts.tracesPerSecond}check(t=1){const a=Date.now(),e=(a-this.lastTime)/1e3;return this.lastTime=a,this.balance+=e*this.opts.tracesPerSecond,this.balance>this.maxBalance&&(this.balance=this.maxBalance),this.balance>=t&&(this.balance-=t,!0)}};export default a;
//# sourceMappingURL=rate-limiter.js.map
