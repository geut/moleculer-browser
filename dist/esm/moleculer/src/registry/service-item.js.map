{"version":3,"file":"service-item.js","sources":["../../../../../src/moleculer/src/registry/service-item.js"],"sourcesContent":["/*\n * moleculer\n * Copyright (c) 2018 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\n/**\n * Service class\n *\n * @class ServiceItem\n */\nclass ServiceItem {\n\n\t/**\n\t * Creates an instance of ServiceItem.\n\t *\n\t * @param {Node} node\n\t * @param {Object} service\n\t * @param {Boolean} local\n\t * @memberof ServiceItem\n\t */\n\tconstructor(node, service, local) {\n\t\tthis.node = node;\n\t\tthis.name = service.name;\n\t\tthis.fullName = service.fullName;\n\t\tthis.version = service.version;\n\t\tthis.settings = service.settings;\n\t\tthis.metadata = service.metadata || {};\n\n\t\tthis.local = !!local;\n\n\t\tthis.actions = {};\n\t\tthis.events = {};\n\t}\n\n\t/**\n\t * Check the service equals params\n\t *\n\t * @param {String} fullName\n\t * @param {String} nodeID\n\t * @returns\n\t * @memberof ServiceItem\n\t */\n\tequals(fullName, nodeID) {\n\t\treturn this.fullName == fullName && (nodeID == null || this.node.id == nodeID);\n\t}\n\n\t/**\n\t * Update service properties\n\t *\n\t * @param {any} svc\n\t * @memberof ServiceItem\n\t */\n\tupdate(svc) {\n\t\tthis.fullName = svc.fullName;\n\t\tthis.version = svc.version;\n\t\tthis.settings = svc.settings;\n\t\tthis.metadata = svc.metadata || {};\n\t}\n\n\t/**\n\t * Add action to service\n\t *\n\t * @param {any} action\n\t * @memberof ServiceItem\n\t */\n\taddAction(action) {\n\t\tthis.actions[action.name] = action;\n\t}\n\n\t/**\n\t * Add event to service\n\t *\n\t * @param {any} event\n\t * @memberof ServiceItem\n\t */\n\taddEvent(event) {\n\t\tthis.events[event.name] = event;\n\t}\n}\n\nmodule.exports = ServiceItem;\n"],"names":["[object Object]","node","service","local","this","name","fullName","version","settings","metadata","actions","events","nodeID","id","svc","action","event"],"mappings":"MAaA,MAUCA,YAAYC,EAAMC,EAASC,GAC1BC,KAAKH,KAAOA,EACZG,KAAKC,KAAOH,EAAQG,KACpBD,KAAKE,SAAWJ,EAAQI,SACxBF,KAAKG,QAAUL,EAAQK,QACvBH,KAAKI,SAAWN,EAAQM,SACxBJ,KAAKK,SAAWP,EAAQO,UAAY,GAEpCL,KAAKD,QAAUA,EAEfC,KAAKM,QAAU,GACfN,KAAKO,OAAS,GAWfX,OAAOM,EAAUM,GAChB,OAAOR,KAAKE,UAAYA,IAAuB,MAAVM,GAAkBR,KAAKH,KAAKY,IAAMD,GASxEZ,OAAOc,GACNV,KAAKE,SAAWQ,EAAIR,SACpBF,KAAKG,QAAUO,EAAIP,QACnBH,KAAKI,SAAWM,EAAIN,SACpBJ,KAAKK,SAAWK,EAAIL,UAAY,GASjCT,UAAUe,GACTX,KAAKM,QAAQK,EAAOV,MAAQU,EAS7Bf,SAASgB,GACRZ,KAAKO,OAAOK,EAAMX,MAAQW"}