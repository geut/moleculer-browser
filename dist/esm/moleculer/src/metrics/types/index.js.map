{"version":3,"file":"index.js","sources":["../../../../../../src/moleculer/src/metrics/types/index.js"],"sourcesContent":["/*\n * moleculer\n * Copyright (c) 2019 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst { BrokerOptionsError } = require(\"../../errors\");\n\nconst Types = {\n\tBase: require(\"./base\"),\n\tCounter: require(\"./counter\"),\n\tGauge: require(\"./gauge\"),\n\tHistogram: require(\"./histogram\"),\n\tInfo: require(\"./info\"),\n};\n\n/**\n * Get MetricType class by name.\n *\n * @param {String} name\n * @returns\n */\nfunction getByName(name) {\n\t/* istanbul ignore next */\n\tif (!name)\n\t\treturn null;\n\n\tlet n = Object.keys(Types).find(n => n.toLowerCase() == name.toLowerCase());\n\tif (n)\n\t\treturn Types[n];\n}\n\n/**\n * Resolve metric type by name\n *\n * @param {string} type\n * @returns {BaseMetric}\n * @memberof ServiceBroker\n */\nfunction resolve(type) {\n\tconst TypeClass = getByName(type);\n\tif (!TypeClass)\n\t\tthrow new BrokerOptionsError(`Invalid metric type '${type}'.`, { type });\n\n\treturn TypeClass;\n}\n\nfunction register(name, value) {\n\tTypes[name] = value;\n}\n\nmodule.exports = Object.assign(Types, { resolve, register });\n"],"names":["require$$0","require$$1","require$$2","require$$3","require$$4","require$$5"],"mappings":";;;;;;;AAQA,MAAM,EAAE,kBAAkB,EAAE,GAAGA,MAAuB,CAAC;AACvD;AACA,MAAM,KAAK,GAAG;AACd,CAAC,IAAI,EAAEC,IAAiB;AACxB,CAAC,OAAO,EAAEC,OAAoB;AAC9B,CAAC,KAAK,EAAEC,KAAkB;AAC1B,CAAC,SAAS,EAAEC,SAAsB;AAClC,CAAC,IAAI,EAAEC,IAAiB;AACxB,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,CAAC,IAAI,EAAE;AACzB;AACA,CAAC,IAAI,CAAC,IAAI;AACV,EAAE,OAAO,IAAI,CAAC;AACd;AACA,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;AAC7E,CAAC,IAAI,CAAC;AACN,EAAE,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,CAAC,IAAI,EAAE;AACvB,CAAC,MAAM,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;AACnC,CAAC,IAAI,CAAC,SAAS;AACf,EAAE,MAAM,IAAI,kBAAkB,CAAC,CAAC,qBAAqB,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3E;AACA,CAAC,OAAO,SAAS,CAAC;AAClB,CAAC;AACD;AACA,SAAS,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE;AAC/B,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;AACrB,CAAC;AACD;SACc,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE;;;;"}