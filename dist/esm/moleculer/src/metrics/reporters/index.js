import e from"../../errors.js";import t from"../../utils.js";import r from"./base.js";import o from"./console.js";import i from"../../../../no-impl.js";import n from"./event.js";const{isObject:s,isString:p}=t,{BrokerOptionsError:f}=e,m={Base:r,Console:o,CSV:i,Event:n,Datadog:i,Prometheus:i,StatsD:i};function a(e){if(!e)return null;let t=Object.keys(m).find((t=>t.toLowerCase()==e.toLowerCase()));return t?m[t]:void 0}var l=Object.assign(m,{resolve:function(e){if(e instanceof m.Base)return e;if(p(e)){let t=a(e);if(t)return new t}else if(s(e)){let t=a(e.type);if(t)return new t(e.options);throw new f(`Invalid metric reporter type '${e.type}'.`,{type:e.type})}throw new f(`Invalid metric reporter type '${e}'.`,{type:e})},register:function(e,t){m[e]=t}});export default l;
//# sourceMappingURL=index.js.map
