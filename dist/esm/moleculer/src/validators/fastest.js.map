{"version":3,"file":"fastest.js","sources":["../../../../../src/moleculer/src/validators/fastest.js"],"sourcesContent":["/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Validator = require(\"fastest-validator\");\nconst { ValidationError } = require(\"../errors\");\nconst BaseValidator = require(\"./base\");\n\nclass FastestValidator  extends BaseValidator{\n\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t\tthis.validator = new Validator(this.opts);\n\t}\n\n\t/**\n\t * Compile a validation schema to a checker function.\n\t * @param {any} schema\n\t * @returns {Function}\n\t */\n\tcompile(schema) {\n\t\treturn this.validator.compile(schema);\n\t}\n\n\t/**\n\t * Validate params againt the schema\n\t * @param {any} params\n\t * @param {any} schema\n\t * @returns {boolean}\n\t */\n\tvalidate(params, schema) {\n\t\tconst res = this.validator.validate(params, schema);\n\t\tif (res !== true)\n\t\t\tthrow new ValidationError(\"Parameters validation error!\", null, res);\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Convert the specific validation schema to\n\t * the Moleculer (fastest-validator) validation schema format.\n\t *\n\t * @param {any} schema\n\t * @returns {Object}\n\t */\n\tconvertSchemaToMoleculer(schema) {\n\t\treturn schema;\n\t}\n}\n\nmodule.exports = FastestValidator;\n"],"names":["ValidationError","require$$0","BaseValidator","[object Object]","opts","super","this","validator","Validator","schema","compile","params","res","validate"],"mappings":"sFASA,MAAMA,gBAAEA,GAAoBC,QAG5B,cAAgCC,EAE/BC,YAAYC,GACXC,MAAMD,GACNE,KAAKC,UAAY,IAAIC,EAAUF,KAAKF,MAQrCD,QAAQM,GACP,OAAOH,KAAKC,UAAUG,QAAQD,GAS/BN,SAASQ,EAAQF,GAChB,MAAMG,EAAMN,KAAKC,UAAUM,SAASF,EAAQF,GAC5C,IAAY,IAARG,EACH,MAAM,IAAIZ,EAAgB,+BAAgC,KAAMY,GAEjE,OAAO,EAURT,yBAAyBM,GACxB,OAAOA"}