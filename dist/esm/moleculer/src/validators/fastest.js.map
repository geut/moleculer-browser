{"version":3,"file":"fastest.js","sources":["../../../../../src/moleculer/src/validators/fastest.js"],"sourcesContent":["/*\n * moleculer\n * Copyright (c) 2020 MoleculerJS (https://github.com/moleculerjs/moleculer)\n * MIT Licensed\n */\n\n\"use strict\";\n\nconst Validator = require(\"fastest-validator\");\nconst { ValidationError } = require(\"../errors\");\nconst BaseValidator = require(\"./base\");\n\nclass FastestValidator  extends BaseValidator{\n\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t\tthis.validator = new Validator(this.opts);\n\t}\n\n\t/**\n\t * Compile a validation schema to a checker function.\n\t * @param {any} schema\n\t * @returns {Function}\n\t */\n\tcompile(schema) {\n\t\treturn this.validator.compile(schema);\n\t}\n\n\t/**\n\t * Validate params againt the schema\n\t * @param {any} params\n\t * @param {any} schema\n\t * @returns {boolean}\n\t */\n\tvalidate(params, schema) {\n\t\tconst res = this.validator.validate(params, schema);\n\t\tif (res !== true)\n\t\t\tthrow new ValidationError(\"Parameters validation error!\", null, res);\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Convert the specific validation schema to\n\t * the Moleculer (fastest-validator) validation schema format.\n\t *\n\t * @param {any} schema\n\t * @returns {Object}\n\t */\n\tconvertSchemaToMoleculer(schema) {\n\t\treturn schema;\n\t}\n}\n\nmodule.exports = FastestValidator;\n"],"names":["require$$0","BaseValidator"],"mappings":";;;;AASA,MAAM,EAAE,eAAe,EAAE,GAAGA,MAAoB,CAAC;AACT;AACxC;AACA,MAAM,gBAAgB,UAAUC,IAAa;AAC7C;AACA,CAAC,WAAW,CAAC,IAAI,EAAE;AACnB,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;AACd,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5C,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,OAAO,CAAC,MAAM,EAAE;AACjB,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACxC,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,EAAE;AAC1B,EAAE,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AACtD,EAAE,IAAI,GAAG,KAAK,IAAI;AAClB,GAAG,MAAM,IAAI,eAAe,CAAC,8BAA8B,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;AACxE;AACA,EAAE,OAAO,IAAI,CAAC;AACd,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wBAAwB,CAAC,MAAM,EAAE;AAClC,EAAE,OAAO,MAAM,CAAC;AAChB,EAAE;AACF,CAAC;AACD;WACc,GAAG;;;;"}