import r from"../errors.js";import e from"../utils.js";import t from"../../../no-impl.js";import o from"./base.js";import i from"./json.js";const{isObject:n,isString:s}=e,{BrokerOptionsError:f}=r,p={Base:o,JSON:i,Avro:t,MsgPack:t,ProtoBuf:t,Thrift:t,Notepack:t};function a(r){if(!r)return null;let e=Object.keys(p).find((e=>e.toLowerCase()==r.toLowerCase()));return e?p[e]:void 0}var l=Object.assign(p,{resolve:function(r){if(r instanceof p.Base)return r;if(s(r)){let e=a(r);if(e)return new e;throw new f(`Invalid serializer type '${r}'.`,{type:r})}if(n(r)){let e=a(r.type||"JSON");if(e)return new e(r.options);throw new f(`Invalid serializer type '${r.type}'.`,{type:r.type})}return new p.JSON},register:function(r,e){p[r]=e}});export default l;
//# sourceMappingURL=index.js.map
